<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>SpringBoot-1ã€åŸºæœ¬åŸç† | Taylor</title><meta name="keywords" content="timeline"><meta name="author" content="Taylor Luo"><meta name="copyright" content="Taylor Luo"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1. SpringBoot çš„ç‰¹æ€§https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1Et411Y7tQ?p&#x3D;117&amp;vd_source&#x3D;c5b2d0d7bc377c0c35dbc251d95cf204 1.1. ä¾èµ–ç®¡ç†1.1.1. çˆ¶é¡¹ç›®åšä¾èµ–ç®¡ç†   1ã€æ— éœ€å…³æ³¨ç‰ˆæœ¬å·ï¼Œè‡ªåŠ¨ç‰ˆæœ¬ä»²è£   2ã€å¯ä»¥ä¿®æ”¹é»˜è®¤ç‰ˆæœ¬å· 1.1.2. starter åœºæ™¯å¯åŠ¨å™¨   1ã€è§åˆ°"><meta property="og:type" content="article"><meta property="og:title" content="SpringBoot-1ã€åŸºæœ¬åŸç†"><meta property="og:url" content="https://taylorluo.github.io/2023/06/12/002-%E6%A1%86%E6%9E%B6%E6%BA%90%E7%A0%81%E4%B8%93%E9%A2%98/SpringBoot-1%E3%80%81%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/index.html"><meta property="og:site_name" content="Taylor"><meta property="og:description" content="1. SpringBoot çš„ç‰¹æ€§https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1Et411Y7tQ?p&#x3D;117&amp;vd_source&#x3D;c5b2d0d7bc377c0c35dbc251d95cf204 1.1. ä¾èµ–ç®¡ç†1.1.1. çˆ¶é¡¹ç›®åšä¾èµ–ç®¡ç†   1ã€æ— éœ€å…³æ³¨ç‰ˆæœ¬å·ï¼Œè‡ªåŠ¨ç‰ˆæœ¬ä»²è£   2ã€å¯ä»¥ä¿®æ”¹é»˜è®¤ç‰ˆæœ¬å· 1.1.2. starter åœºæ™¯å¯åŠ¨å™¨   1ã€è§åˆ°"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://picsum.photos/1920/962"><meta property="article:published_time" content="2023-06-12T16:00:00.000Z"><meta property="article:modified_time" content="2023-06-13T23:32:42.680Z"><meta property="article:author" content="Taylor Luo"><meta property="article:tag" content="timeline"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://picsum.photos/1920/962"><link rel="shortcut icon" href="https://gcore.jsdelivr.net/gh/code-anan/image/èœ˜è››ç½‘ä¸‡åœ£èŠ‚.png"><link rel="canonical" href="https://taylorluo.github.io/2023/06/12/002-%E6%A1%86%E6%9E%B6%E6%BA%90%E7%A0%81%E4%B8%93%E9%A2%98/SpringBoot-1%E3%80%81%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!0,languages:{hits_empty:"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"ç¹",msgToSimplifiedChinese:"ç®€"},noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶é”™è¯¯",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"SpringBoot-1ã€åŸºæœ¬åŸç†",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-06-14 07:32:42"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)})),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/self/Kimbiedark.css"><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Taylor" type="application/atom+xml"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">åŠ è½½ä¸­...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/index.jpeg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">183</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">85</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">31</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>åˆ†ç±»</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url('https://picsum.photos/1920/962')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Taylor</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>åˆ†ç±»</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">SpringBoot-1ã€åŸºæœ¬åŸç†</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2023-06-12T16:00:00.000Z" title="å‘è¡¨äº 2023-06-13 00:00:00">2023-06-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-06-13T23:32:42.680Z" title="æ›´æ–°äº 2023-06-14 07:32:42">2023-06-14</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">9.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>35åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span data-flag-title="SpringBoot-1ã€åŸºæœ¬åŸç†"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">è¯„è®ºæ•°:</span><a href="/2023/06/12/002-%E6%A1%86%E6%9E%B6%E6%BA%90%E7%A0%81%E4%B8%93%E9%A2%98/SpringBoot-1%E3%80%81%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/#post-comment"><span id="twikoo-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><hr><h1 id="1-SpringBoot-çš„ç‰¹æ€§"><a href="#1-SpringBoot-çš„ç‰¹æ€§" class="headerlink" title="1. SpringBoot çš„ç‰¹æ€§"></a>1. SpringBoot çš„ç‰¹æ€§</h1><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Et411Y7tQ?p=117&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV1Et411Y7tQ?p=117&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a></p><h2 id="1-1-ä¾èµ–ç®¡ç†"><a href="#1-1-ä¾èµ–ç®¡ç†" class="headerlink" title="1.1. ä¾èµ–ç®¡ç†"></a>1.1. ä¾èµ–ç®¡ç†</h2><h3 id="1-1-1-çˆ¶é¡¹ç›®åšä¾èµ–ç®¡ç†"><a href="#1-1-1-çˆ¶é¡¹ç›®åšä¾èµ–ç®¡ç†" class="headerlink" title="1.1.1. çˆ¶é¡¹ç›®åšä¾èµ–ç®¡ç†"></a>1.1.1. çˆ¶é¡¹ç›®åšä¾èµ–ç®¡ç†</h3><p>1ã€æ— éœ€å…³æ³¨ç‰ˆæœ¬å·ï¼Œè‡ªåŠ¨ç‰ˆæœ¬ä»²è£<br>2ã€å¯ä»¥ä¿®æ”¹é»˜è®¤ç‰ˆæœ¬å·</p><h3 id="1-1-2-starter-åœºæ™¯å¯åŠ¨å™¨"><a href="#1-1-2-starter-åœºæ™¯å¯åŠ¨å™¨" class="headerlink" title="1.1.2. starter åœºæ™¯å¯åŠ¨å™¨"></a>1.1.2. starter åœºæ™¯å¯åŠ¨å™¨</h3><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230226073735.png" alt="image.png"></p><p>1ã€è§åˆ°å¾ˆå¤š spring-boot-starter-xxx ï¼š xxx å°±æŸç§åœºæ™¯<br>2ã€åªè¦å¼•å…¥ starterï¼Œè¿™ä¸ªåœºæ™¯çš„æ‰€æœ‰å¸¸è§„éœ€è¦çš„ä¾èµ–æˆ‘ä»¬éƒ½è‡ªåŠ¨å¼•å…¥<br>3ã€SpringBoot æ‰€æœ‰æ”¯æŒçš„åœºæ™¯<br><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-starter">https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-starter</a><br>4ã€è§åˆ°çš„ xxx-spring-boot-starterï¼š ç¬¬ä¸‰æ–¹ä¸ºæˆ‘ä»¬æä¾›çš„ç®€åŒ–å¼€å‘çš„åœºæ™¯å¯åŠ¨å™¨ã€‚<br>5ã€æ‰€æœ‰åœºæ™¯å¯åŠ¨å™¨æœ€åº•å±‚çš„ä¾èµ–</p><h2 id="1-2-è‡ªåŠ¨é…ç½®"><a href="#1-2-è‡ªåŠ¨é…ç½®" class="headerlink" title="1.2. è‡ªåŠ¨é…ç½®"></a>1.2. è‡ªåŠ¨é…ç½®</h2><p>â— è‡ªåŠ¨é…å¥½ Tomcat<br>â—‹ å¼•å…¥ Tomcat ä¾èµ–ã€‚<br>â—‹ é…ç½® Tomcat<br>â— è‡ªåŠ¨é…å¥½ SpringMVC<br>â—‹ å¼•å…¥ SpringMVC å…¨å¥—ç»„ä»¶<br>â—‹ è‡ªåŠ¨é…å¥½ SpringMVC å¸¸ç”¨ç»„ä»¶ï¼ˆåŠŸèƒ½ï¼‰<br>â— è‡ªåŠ¨é…å¥½ Web å¸¸è§åŠŸèƒ½ï¼Œå¦‚ï¼šå­—ç¬¦ç¼–ç é—®é¢˜<br>â—‹ SpringBoot å¸®æˆ‘ä»¬é…ç½®å¥½äº†æ‰€æœ‰ web å¼€å‘çš„å¸¸è§åœºæ™¯<br>â— é»˜è®¤çš„åŒ…ç»“æ„<br>â—‹ ä¸»ç¨‹åºæ‰€åœ¨åŒ…åŠå…¶ä¸‹é¢çš„æ‰€æœ‰å­åŒ…é‡Œé¢çš„ç»„ä»¶éƒ½ä¼šè¢«é»˜è®¤æ‰«æè¿›æ¥<br>â—‹ æ— éœ€ä»¥å‰çš„åŒ…æ‰«æé…ç½®<br>â—‹ æƒ³è¦æ”¹å˜æ‰«æè·¯å¾„ï¼Œ@SpringBootApplication(scanBasePackages&#x3D;â€com.atguiguâ€)<br>â— æˆ–è€…@ComponentScan æŒ‡å®šæ‰«æè·¯å¾„<br>â— å„ç§é…ç½®æ‹¥æœ‰é»˜è®¤å€¼<br>â—‹ é»˜è®¤é…ç½®æœ€ç»ˆéƒ½æ˜¯æ˜ å°„åˆ°æŸä¸ªç±»ä¸Šï¼Œå¦‚ï¼šMultipartProperties<br>â—‹ é…ç½®æ–‡ä»¶çš„å€¼æœ€ç»ˆä¼šç»‘å®šæ¯ä¸ªç±»ä¸Šï¼Œè¿™ä¸ªç±»ä¼šåœ¨å®¹å™¨ä¸­åˆ›å»ºå¯¹è±¡<br>â— æŒ‰éœ€åŠ è½½æ‰€æœ‰è‡ªåŠ¨é…ç½®é¡¹<br>â—‹ éå¸¸å¤šçš„ starter<br>â—‹ å¼•å…¥äº†å“ªäº›åœºæ™¯è¿™ä¸ªåœºæ™¯çš„è‡ªåŠ¨é…ç½®æ‰ä¼šå¼€å¯<br>â—‹ SpringBoot æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®åŠŸèƒ½éƒ½åœ¨ spring-boot-autoconfigure åŒ…é‡Œé¢</p><h1 id="2-è°ˆè°ˆä½ å¯¹-SpringBoot-çš„ç†è§£-ä¼˜ç‚¹ç‰¹æ€§"><a href="#2-è°ˆè°ˆä½ å¯¹-SpringBoot-çš„ç†è§£-ä¼˜ç‚¹ç‰¹æ€§" class="headerlink" title="2. è°ˆè°ˆä½ å¯¹ SpringBoot çš„ç†è§£ (ä¼˜ç‚¹ç‰¹æ€§)"></a>2. è°ˆè°ˆä½ å¯¹ SpringBoot çš„ç†è§£ (ä¼˜ç‚¹ç‰¹æ€§)</h1><p>SpringBoot çš„ç”¨æ¥å¿«é€Ÿå¼€å‘ Spring åº”ç”¨çš„ä¸€ä¸ªè„šæ‰‹æ¶ã€å…¶è®¾è®¡ç›®çš„æ˜¯ç”¨æ¥ç®€æ–° Spring åº”ç”¨çš„åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹ã€‚</p><ol><li>SpringBoot æä¾›äº†å¾ˆå¤šå†…ç½®çš„ Starter ç»“åˆè‡ªåŠ¨é…ç½®ï¼Œå®ç°äº†å¯¹ä¸»æµæ¡†æ¶çš„<span style="background-color:#0f0">æ— é…ç½®é›†æˆ</span>ã€å¼€ç®±å³ç”¨ï¼›</li><li>SpringBoot ç®€åŒ–äº†å¼€å‘ï¼Œé‡‡ç”¨ JavaConfig çš„æ–¹å¼å¯ä»¥ä½¿ç”¨<span style="background-color:#0f0">é›¶ xml</span>çš„æ–¹å¼è¿›è¡Œå¼€å‘ï¼›</li><li>SpringBoot<span style="background-color:#0f0">å†…ç½® Web å®¹å™¨</span>æ— éœ€ä¾èµ–å¤–éƒ¨ Web æœåŠ¡å™¨ï¼Œçœç•¥äº† Web.xmlï¼Œç›´æ¥è¿è¡Œ jar æ–‡ä»¶å°±å¯ä»¥å¯åŠ¨ web åº”ç”¨ï¼›</li><li>SpringBoot å¸®æˆ‘ç®¡ç†äº†å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹ä¾èµ–çš„ç‰ˆæœ¬ï¼Œ<span style="background-color:#0f0">å‡å°‘å‡ºç°ç‰ˆæœ¬å†²çª</span>çš„é—®é¢˜ï¼›</li><li>SpringBoot<span style="background-color:#0f0">è‡ªå¸¦äº†ç›‘æ§åŠŸèƒ½</span>ï¼Œå¯ä»¥ç›‘æ§åº”ç”¨ç¨‹åºçš„è¿è¡ŒçŠ¶å†µï¼Œæˆ–è€…å†…å­˜ã€çº¿ç¨‹æ± ã€HttpÂ è¯·æ±‚ç»Ÿè®¡ç­‰ï¼ŒåŒæ—¶è¿˜æä¾›äº†ä¼˜é›…å…³é—­åº”ç”¨ç¨‹åºç­‰åŠŸèƒ½ã€‚</li></ol><h1 id="3-SpringBoot-è‡ªåŠ¨é…ç½®åŸç†-SpringBootApplication-â­ï¸ğŸ”´"><a href="#3-SpringBoot-è‡ªåŠ¨é…ç½®åŸç†-SpringBootApplication-â­ï¸ğŸ”´" class="headerlink" title="3. SpringBoot è‡ªåŠ¨é…ç½®åŸç† -@SpringBootApplication â­ï¸ğŸ”´"></a>3. SpringBoot è‡ªåŠ¨é…ç½®åŸç† -@SpringBootApplication â­ï¸ğŸ”´</h1><p><span style="display:none">%%<br>â–¶1.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230303-0844%%</span><br>^py2rrk<br><a target="_blank" rel="noopener" href="https://www.yuque.com/atguigu/springboot/qb7hy2#UJZFM">https://www.yuque.com/atguigu/springboot/qb7hy2#UJZFM</a> ^c46210</p><h2 id="3-1-å¼•å¯¼åŠ è½½è‡ªåŠ¨é…ç½®ç±»"><a href="#3-1-å¼•å¯¼åŠ è½½è‡ªåŠ¨é…ç½®ç±»" class="headerlink" title="3.1. å¼•å¯¼åŠ è½½è‡ªåŠ¨é…ç½®ç±»"></a>3.1. å¼•å¯¼åŠ è½½è‡ªåŠ¨é…ç½®ç±»</h2><p><span style="display:none">%%<br>â–¶1.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230326-2214%%</span>â• ^dxovlh</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootConfiguration</span><br><span class="hljs-meta">@EnableAutoConfiguration</span><br><span class="hljs-meta">@ComponentScan(excludeFilters = &#123; @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),</span><br><span class="hljs-meta">		@Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) &#125;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> SpringBootApplication&#123;&#125;   <br></code></pre></td></tr></table></figure><h3 id="3-1-1-SpringBootConfiguration"><a href="#3-1-1-SpringBootConfiguration" class="headerlink" title="3.1.1. @SpringBootConfiguration"></a>3.1.1. @SpringBootConfiguration</h3><p>@Configurationã€‚ä»£è¡¨å½“å‰æ˜¯ä¸€ä¸ªé…ç½®ç±»</p><h3 id="3-1-2-ComponentScan"><a href="#3-1-2-ComponentScan" class="headerlink" title="3.1.2. @ComponentScan"></a>3.1.2. @ComponentScan</h3><p>æŒ‡å®šæ‰«æå“ªäº›ï¼Œæ˜¯ä¸€ä¸ª Spring æ³¨è§£ï¼›<br>åœ¨ SpringBoot ä¸­ï¼Œåœ¨è¯¥æ³¨è§£å±æ€§ä¸­é…ç½®äº†æ’é™¤è§„åˆ™ï¼šæ’é™¤ 2 ç§ç±»å‹ï¼š<br>â‘ ç»§æ‰¿äº† TypeExcludeFilter çš„ç±»<br>â‘¡SpringBoot çš„è‡ªåŠ¨é…ç½®ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@ComponentScan(excludeFilters = &#123; @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),  </span><br><span class="hljs-meta">      @Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) &#125;)</span><br></code></pre></td></tr></table></figure><h3 id="3-1-3-EnableAutoConfiguration"><a href="#3-1-3-EnableAutoConfiguration" class="headerlink" title="3.1.3. @EnableAutoConfiguration"></a>3.1.3. @EnableAutoConfiguration</h3><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230222142714.png" alt="image.png"></p><h4 id="3-1-3-1-AutoConfigurationPackage"><a href="#3-1-3-1-AutoConfigurationPackage" class="headerlink" title="3.1.3.1. @AutoConfigurationPackage"></a>3.1.3.1. @AutoConfigurationPackage</h4><p><span style="display:none">%%<br>â–¶6.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230324-1703%%</span>â• ^j6d450</p><p><code>@Import(AutoConfigurationPackages.Registrar.class)</code><br>è‡ªåŠ¨é…ç½®åŒ…ï¼ŒæŒ‡å®šäº†é»˜è®¤çš„åŒ…è§„åˆ™ï¼Œå°†æŒ‡å®šçš„<span style="background-color:#f0f">ä¸€ä¸ªåŒ…ä¸‹çš„æ‰€æœ‰ç»„ä»¶</span>å¯¼å…¥è¿›æ¥ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-meta">@Import(AutoConfigurationPackages.Registrar.class)</span>  <br><span class="hljs-comment">//ç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€ä¸ªç»„ä»¶</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> AutoConfigurationPackage &#123;&#125;<br><span class="hljs-comment">//åˆ©ç”¨Registrarç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€ç³»åˆ—ç»„ä»¶</span><br><span class="hljs-comment">//å°†æŒ‡å®šçš„ä¸€ä¸ªåŒ…ä¸‹çš„æ‰€æœ‰ç»„ä»¶å¯¼å…¥è¿›æ¥ï¼ŒMainApplication æ‰€åœ¨åŒ…ä¸‹ã€‚</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230326072101.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230222160725.png" alt="image.png"></p><h4 id="3-1-3-2-Import-AutoConfigurationImportSelector-class"><a href="#3-1-3-2-Import-AutoConfigurationImportSelector-class" class="headerlink" title="3.1.3.2. @Import(AutoConfigurationImportSelector.class)"></a>3.1.3.2. @Import(AutoConfigurationImportSelector.class)</h4><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230324173014.png" alt="image.png"></p><p>selectImportsâ†’getAutoConfigurationEntry è·å–åˆ°æ‰€æœ‰éœ€è¦å¯¼å…¥åˆ°å®¹å™¨ä¸­çš„é…ç½®ç±»</p><p><span style="background-color:#f0f">æ–¹æ³•è°ƒç”¨è·¯å¾„</span><br>AutoConfigurationImportSelector. <code>getAutoConfigurationEntry</code> &#x3D;&#x3D;â†’&#x3D;&#x3D; <span style="background-color:#f0f">SpringFactoriesLoader</span>. <code>loadSpringFactories</code> &#x3D;&#x3D;â†’&#x3D;&#x3D;<br>classLoader.getResources(â€œ<code>META-INF/spring.factories</code>â€œ)</p><p><span style="background-color:#f0f">é»˜è®¤æ‰«æå½“å‰ç³»ç»Ÿé‡Œé¢æ‰€æœ‰ META-INF&#x2F;spring.factories ä½ç½®çš„æ–‡ä»¶</span> â•<span style="display:none">%%<br>â–¶2.ğŸ¡â­ï¸â—¼ï¸è‡ªå®šä¹‰ starter å°±æ˜¯ä¾é è¿™ç§ç­–ç•¥ ?ğŸ”œMSTMğŸ“ å¯ä»¥è¢«æ‰«æåˆ°éœ€è¦æ³¨å…¥çš„ç»„ä»¶â—¼ï¸â­ï¸-point-20230226-0847%%</span></p><p>æ¯”å¦‚ <code>spring-boot-autoconfigure-2.3.4.RELEASE.jaråŒ…é‡Œé¢ä¹Ÿæœ‰META-INF/spring.factories</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-number">1</span>ã€åˆ©ç”¨getAutoConfigurationEntry(annotationMetadata);ç»™å®¹å™¨ä¸­æ‰¹é‡å¯¼å…¥ä¸€äº›ç»„ä»¶<br><span class="hljs-number">2</span>ã€è°ƒç”¨List&lt;String&gt; configurations = getCandidateConfigurations(annotationMetadata, attributes)è·å–åˆ°æ‰€æœ‰éœ€è¦å¯¼å…¥åˆ°å®¹å™¨ä¸­çš„é…ç½®ç±»<br><span class="hljs-number">3</span>ã€åˆ©ç”¨å·¥å‚åŠ è½½ Map&lt;String, List&lt;String&gt;&gt; <span class="hljs-title function_">loadSpringFactories</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> ClassLoader classLoader)</span>ï¼›å¾—åˆ°æ‰€æœ‰çš„ç»„ä»¶<br><span class="hljs-number">4</span>ã€ä»META-INF/spring.factoriesä½ç½®æ¥åŠ è½½ä¸€ä¸ªæ–‡ä»¶ã€‚<br>	é»˜è®¤æ‰«ææˆ‘ä»¬å½“å‰ç³»ç»Ÿé‡Œé¢æ‰€æœ‰META-INF/spring.factoriesä½ç½®çš„æ–‡ä»¶<br>    spring-boot-autoconfigure-<span class="hljs-number">2.3</span><span class="hljs-number">.4</span>.RELEASE.jaråŒ…é‡Œé¢ä¹Ÿæœ‰META-INF/spring.factories<br>    <br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230222162310.png" alt="image.png"></p><h5 id="3-1-3-2-1-SPI-åŸç†"><a href="#3-1-3-2-1-SPI-åŸç†" class="headerlink" title="3.1.3.2.1. SPI åŸç†"></a>3.1.3.2.1. SPI åŸç†</h5><p><span style="display:none">%%<br>â–¶2.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230305-0804%%</span>â• ^bypdob</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230304124004.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230304132455.png" alt="image.png"></p><h2 id="3-2-æŒ‰éœ€å¼€å¯è‡ªåŠ¨é…ç½®é¡¹"><a href="#3-2-æŒ‰éœ€å¼€å¯è‡ªåŠ¨é…ç½®é¡¹" class="headerlink" title="3.2. æŒ‰éœ€å¼€å¯è‡ªåŠ¨é…ç½®é¡¹"></a>3.2. æŒ‰éœ€å¼€å¯è‡ªåŠ¨é…ç½®é¡¹</h2><p>è™½ç„¶æˆ‘ä»¬ 127 ä¸ªåœºæ™¯çš„æ‰€æœ‰è‡ªåŠ¨é…ç½®å¯åŠ¨çš„æ—¶å€™é»˜è®¤å…¨éƒ¨åŠ è½½ã€‚xxxxAutoConfigurationï¼Œä½†æŒ‰ç…§æ¡ä»¶è£…é…è§„åˆ™ï¼ˆ@Conditionalï¼‰ï¼Œæœ€ç»ˆä¼šæŒ‰éœ€é…ç½®ã€‚</p><h2 id="3-3-ä¿®æ”¹é»˜è®¤é…ç½®"><a href="#3-3-ä¿®æ”¹é»˜è®¤é…ç½®" class="headerlink" title="3.3. ä¿®æ”¹é»˜è®¤é…ç½®"></a>3.3. ä¿®æ”¹é»˜è®¤é…ç½®</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-meta">@Bean</span><br><span class="hljs-meta">@ConditionalOnBean(MultipartResolver.class)</span>  <span class="hljs-comment">//å®¹å™¨ä¸­æœ‰è¿™ä¸ªç±»å‹ç»„ä»¶</span><br><span class="hljs-meta">@ConditionalOnMissingBean(name = DispatcherServlet.MULTIPART_RESOLVER_BEAN_NAME)</span> <span class="hljs-comment">//å®¹å™¨ä¸­æ²¡æœ‰è¿™ä¸ªåå­— multipartResolver çš„ç»„ä»¶</span><br>		<span class="hljs-keyword">public</span> MultipartResolver <span class="hljs-title function_">multipartResolver</span><span class="hljs-params">(MultipartResolver resolver)</span> &#123;<br>            <span class="hljs-comment">//ç»™@Beanæ ‡æ³¨çš„æ–¹æ³•ä¼ å…¥äº†å¯¹è±¡å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°çš„å€¼å°±ä¼šä»å®¹å™¨ä¸­æ‰¾ã€‚</span><br>            <span class="hljs-comment">//SpringMVC multipartResolverã€‚é˜²æ­¢æœ‰äº›ç”¨æˆ·é…ç½®çš„æ–‡ä»¶ä¸Šä¼ è§£æå™¨ä¸ç¬¦åˆè§„èŒƒ</span><br>			<span class="hljs-comment">// Detect if the user has created a MultipartResolver but named it incorrectly</span><br>			<span class="hljs-keyword">return</span> resolver;<br>		&#125;<br>ç»™å®¹å™¨ä¸­åŠ å…¥äº†æ–‡ä»¶ä¸Šä¼ è§£æå™¨ï¼›<br><br></code></pre></td></tr></table></figure><p><span style="background-color:#0f0">SpringBoot é»˜è®¤ä¼šåœ¨åº•å±‚é…å¥½æ‰€æœ‰çš„ç»„ä»¶ã€‚ä½†æ˜¯å¦‚æœç”¨æˆ·è‡ªå·±é…ç½®äº†ä»¥ç”¨æˆ·çš„ä¼˜å…ˆ</span></p><h2 id="3-4-ä¸-SpringMVC-é…ç½®çš„åŒºåˆ«"><a href="#3-4-ä¸-SpringMVC-é…ç½®çš„åŒºåˆ«" class="headerlink" title="3.4. ä¸ SpringMVC é…ç½®çš„åŒºåˆ«"></a>3.4. ä¸ SpringMVC é…ç½®çš„åŒºåˆ«</h2><h3 id="3-4-1-å…³äº-JSON-ç¼–ç é…ç½®"><a href="#3-4-1-å…³äº-JSON-ç¼–ç é…ç½®" class="headerlink" title="3.4.1. å…³äº JSON ç¼–ç é…ç½®"></a>3.4.1. å…³äº JSON ç¼–ç é…ç½®</h3><p>Spring æ•´åˆ SpringMVC æ—¶éœ€è¦è®¾ç½® JSON æ ¼å¼<br>Springboot ä¸éœ€è¦ï¼Œå› ä¸ºåœ¨<artifactid>spring-boot-starter-web</artifactid>ä¸­<br>è‡ªåŠ¨é…ç½®äº† jacjson-databindï¼Œä½¿ç”¨çš„æ˜¯ <code>MappingJackson2HttpMessageConverter</code></p><h3 id="3-4-2-EnableAspectJAutoProxyâ­ï¸ğŸ”´"><a href="#3-4-2-EnableAspectJAutoProxyâ­ï¸ğŸ”´" class="headerlink" title="3.4.2. @EnableAspectJAutoProxyâ­ï¸ğŸ”´"></a>3.4.2. @EnableAspectJAutoProxyâ­ï¸ğŸ”´</h3><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230302142824.png" alt="image.png"></p><p>åœ¨ Spring ä¸­ï¼Œå¦‚æœä¸åœ¨é…ç½®ç±»ä¸­æ·»åŠ @EnableAspectJAutoProxyï¼Œé‚£ä¹ˆæ‰€æœ‰ <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%88%87%E9%9D%A2&spm=1001.2101.3001.7020">åˆ‡é¢</a> æ³¨è§£æ˜¯ä¸ç”Ÿæ•ˆçš„ï¼ˆspringboot å› ä¸ºæœ‰è‡ªåŠ¨é…ç½®ï¼Œæ‰€ä»¥ä¸éœ€è¦å¼€å‘äººå‘˜æ‰‹å·¥é…ç½®@EnableAspectJAutoProxyï¼‰</p><h2 id="3-5-è‡ªåŠ¨é…ç½®æ€»ç»“"><a href="#3-5-è‡ªåŠ¨é…ç½®æ€»ç»“" class="headerlink" title="3.5. è‡ªåŠ¨é…ç½®æ€»ç»“"></a>3.5. è‡ªåŠ¨é…ç½®æ€»ç»“</h2><ul><li>SpringBoot å…ˆåŠ è½½æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ç±» xxxxxAutoConfiguration</li><li>æ¯ä¸ªè‡ªåŠ¨é…ç½®ç±»æŒ‰ç…§æ¡ä»¶è¿›è¡Œç”Ÿæ•ˆï¼Œé»˜è®¤éƒ½ä¼šç»‘å®šé…ç½®æ–‡ä»¶æŒ‡å®šçš„å€¼ã€‚xxxxProperties é‡Œé¢æ‹¿ã€‚xxxProperties å’Œé…ç½®æ–‡ä»¶è¿›è¡Œäº†ç»‘å®š</li><li>ç”Ÿæ•ˆçš„é…ç½®ç±»å°±ä¼šç»™å®¹å™¨ä¸­è£…é…å¾ˆå¤šç»„ä»¶</li><li>åªè¦å®¹å™¨ä¸­æœ‰è¿™äº›ç»„ä»¶ï¼Œç›¸å½“äºè¿™äº›åŠŸèƒ½å°±æœ‰äº†</li><li>å®šåˆ¶åŒ–é…ç½®<ul><li>ç”¨æˆ·ç›´æ¥è‡ªå·±@Bean æ›¿æ¢åº•å±‚çš„ç»„ä»¶</li><li>ç”¨æˆ·å»çœ‹è¿™ä¸ªç»„ä»¶æ˜¯è·å–çš„é…ç½®æ–‡ä»¶ä»€ä¹ˆå€¼å°±å»ä¿®æ”¹ã€‚</li></ul></li></ul><p><strong>xxxxxAutoConfiguration â€”&gt; ç»„ä»¶ â€”&gt;</strong> <strong>xxxxProperties é‡Œé¢æ‹¿å€¼ â€”-&gt; application.properties</strong></p><h2 id="3-6-é»‘é©¬è¡¥å……"><a href="#3-6-é»‘é©¬è¡¥å……" class="headerlink" title="3.6. é»‘é©¬è¡¥å……"></a>3.6. é»‘é©¬è¡¥å……</h2><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV15b4y117RJ?p=172&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV15b4y117RJ?p=172&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a><br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230325121857.png" alt="image.png"></p><h1 id="4-SpringBoot-çš„å¯åŠ¨åŸç†â­ï¸ğŸ”´"><a href="#4-SpringBoot-çš„å¯åŠ¨åŸç†â­ï¸ğŸ”´" class="headerlink" title="4. SpringBoot çš„å¯åŠ¨åŸç†â­ï¸ğŸ”´"></a>4. SpringBoot çš„å¯åŠ¨åŸç†â­ï¸ğŸ”´</h1><p><span style="display:none">%%<br>â–¶15.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230305-1327%%</span>â• ^ro0jas<br><span style="display:none">%%<br>â–¶1.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230324-0703%%</span>â• ^214fh8</p><p><strong>æ¦‚è¿°</strong></p><ol><li>è¿è¡Œ main æ–¹æ³•ï¼šÂ åˆå§‹åŒ– newÂ SpringApplicationÂ Â ä» spring.factoriesÂ Â è¯»å–Â ApplicationListenerã€ApplicationContextInitializer</li><li>è¿è¡Œ run æ–¹æ³•</li><li>è¯»å–ç¯å¢ƒå˜é‡é…ç½®ä¿¡æ¯</li><li>åˆ›å»º springApplication ä¸Šä¸‹æ–‡ï¼šÂ ServletWebServerApplicationContext</li><li>é¢„åˆå§‹åŒ–ä¸Šä¸‹æ–‡Â </li><li>è°ƒç”¨ refreshÂ åŠ è½½ ioc å®¹å™¨Â <br><code>invokeBeanFactoryPostProcessorÂ </code> Â <span style="background-color:#0f0">è§£æ@Import</span>:Â Â åŠ è½½æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ç±»<br><code>onRefresh</code>Â Â <span style="background-color:#0f0">åˆ›å»º (å†…ç½®)servlet å®¹å™¨</span><br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224181156.png" alt="image.png"></li></ol><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ springboot ä¼šè°ƒç”¨å¾ˆå¤šç›‘å¬å™¨å¯¹å¤–è¿›è¡Œæ‰©å±•<br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Et411Y7tQ?p=196&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV1Et411Y7tQ?p=196&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a></p><h2 id="4-1-åˆ›å»º-SpringApplication"><a href="#4-1-åˆ›å»º-SpringApplication" class="headerlink" title="4.1. åˆ›å»º SpringApplication"></a>4.1. åˆ›å»º SpringApplication</h2><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224142822.png" alt="image.png"></p><ol><li>åˆ¤å®šå½“å‰åº”ç”¨çš„ç±»å‹ã€‚ClassUtils.isPresent â†’ WebApplicationType.SERVLET</li><li>ä½¿ç”¨ç³»ç»Ÿæ–¹æ³• <code>getSpringFactoriesInstances</code> åˆ†åˆ«æŸ¥æ‰¾ä»¥ä¸‹ç±»å‹ï¼š<br>â—‹ æŸ¥æ‰¾ <font color="#ff0000">bootstrappers</font>ï¼š&#x3D;&#x3D;åˆå§‹å¯åŠ¨å¼•å¯¼å™¨&#x3D;&#x3D;<br>å» <code>spring.factories</code> æ–‡ä»¶ä¸­æ‰¾ org.springframework.boot. <code>Bootstrapper</code><br>æ”¾å…¥ <code>List&lt;Bootstrapper&gt;</code><br>â—‹ æŸ¥æ‰¾ <font color="#ff0000">ApplicationContextInitializer</font>ï¼š&#x3D;&#x3D;åˆå§‹åŒ–å™¨&#x3D;&#x3D;<br>å» spring.factories æ‰¾ ApplicationContextInitializer<br>æ”¾å…¥ <code>List&lt;ApplicationContextInitializer&lt;?&gt;&gt; initializers</code><br>â—‹ æŸ¥æ‰¾ <font color="#ff0000">ApplicationListener</font> ï¼š&#x3D;&#x3D;åº”ç”¨ç›‘å¬å™¨&#x3D;&#x3D;<br>å» spring.factories æ‰¾ ApplicationListener<br>æ”¾å…¥ <code>List&lt;ApplicationListener&lt;?&gt;&gt; listeners</code></li><li><span style="background-color:#f0f">ä¿å­˜å½“å‰å¯åŠ¨ç±»ä¸ºé…ç½®ç±»</span></li></ol><h2 id="4-2-è¿è¡Œ-SpringApplication"><a href="#4-2-è¿è¡Œ-SpringApplication" class="headerlink" title="4.2. è¿è¡Œ SpringApplication"></a>4.2. è¿è¡Œ SpringApplication</h2><h3 id="4-2-1-è®°å½•åº”ç”¨çš„å¯åŠ¨æ—¶é—´-åˆ›å»ºå¼•å¯¼ä¸Šä¸‹æ–‡-bootstrappers-intitialize"><a href="#4-2-1-è®°å½•åº”ç”¨çš„å¯åŠ¨æ—¶é—´-åˆ›å»ºå¼•å¯¼ä¸Šä¸‹æ–‡-bootstrappers-intitialize" class="headerlink" title="4.2.1. è®°å½•åº”ç”¨çš„å¯åŠ¨æ—¶é—´ - åˆ›å»ºå¼•å¯¼ä¸Šä¸‹æ–‡ -bootstrappers.intitialize"></a>4.2.1. è®°å½•åº”ç”¨çš„å¯åŠ¨æ—¶é—´ - åˆ›å»ºå¼•å¯¼ä¸Šä¸‹æ–‡ -bootstrappers.intitialize</h3><p>â—‹ <strong>StopWatch</strong>ï¼Œè®°å½•åº”ç”¨çš„å¯åŠ¨æ—¶é—´<br>â—‹ åˆ›å»ºå¼•å¯¼ä¸Šä¸‹æ–‡ï¼ˆContext ç¯å¢ƒï¼‰createBootstrapContext()<br>â–  <span style="background-color:#f0f">è·å–åˆ°æ‰€æœ‰ä¹‹å‰çš„ bootstrappers æŒ¨ä¸ªæ‰§è¡Œ intitialize() æ¥å®Œæˆå¯¹å¼•å¯¼å¯åŠ¨å™¨ä¸Šä¸‹æ–‡ç¯å¢ƒè®¾ç½®</span><br>â—‹ è®©å½“å‰åº”ç”¨è¿›å…¥ headless æ¨¡å¼ã€‚java.awt.headless</p><h3 id="4-2-2-å‘å¸ƒ-ApplicationStartingEvent-äº‹ä»¶"><a href="#4-2-2-å‘å¸ƒ-ApplicationStartingEvent-äº‹ä»¶" class="headerlink" title="4.2.2. å‘å¸ƒ ApplicationStartingEvent äº‹ä»¶"></a>4.2.2. å‘å¸ƒ ApplicationStartingEvent äº‹ä»¶</h3><p>â—‹ <span style="background-color:#f0f">è·å–æ‰€æœ‰ RunListenerï¼ˆè¿è¡Œç›‘å¬å™¨ï¼‰</span><span style="background-color:#0f0">ã€ä¸ºäº†æ–¹ä¾¿æ‰€æœ‰ Listener è¿›è¡Œäº‹ä»¶æ„ŸçŸ¥ã€‘</span><br>â–  getSpringFactoriesInstances å» spring.factories æ‰¾ SpringApplicationRunListener.<br>â—‹ <span style="background-color:#f0f">éå† SpringApplicationRunListener è°ƒç”¨ starting æ–¹æ³•</span>ï¼›<br>â–  ç›¸å½“äºé€šçŸ¥æ‰€æœ‰æ„Ÿå…´è¶£ç³»ç»Ÿæ­£åœ¨å¯åŠ¨è¿‡ç¨‹çš„äººï¼Œé¡¹ç›®æ­£åœ¨ startingã€‚</p><h3 id="4-2-3-è¯»å–ç¯å¢ƒé…ç½®ä¿¡æ¯å‘å¸ƒ-environmentPreparedEvent"><a href="#4-2-3-è¯»å–ç¯å¢ƒé…ç½®ä¿¡æ¯å‘å¸ƒ-environmentPreparedEvent" class="headerlink" title="4.2.3. è¯»å–ç¯å¢ƒé…ç½®ä¿¡æ¯å‘å¸ƒ environmentPreparedEvent"></a>4.2.3. è¯»å–ç¯å¢ƒé…ç½®ä¿¡æ¯å‘å¸ƒ environmentPreparedEvent</h3><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224180423.png" alt="image.png"></p><p>â—‹ <span style="background-color:#f0f">ä¿å­˜å‘½ä»¤è¡Œå‚æ•°</span>ï¼›ApplicationArguments<br>â—‹ å‡†å¤‡ç¯å¢ƒ prepareEnvironmentï¼ˆï¼‰;<br>â–  è¿”å›æˆ–è€…åˆ›å»ºåŸºç¡€ç¯å¢ƒä¿¡æ¯å¯¹è±¡ã€‚StandardServletEnvironment<br>â–  é…ç½®ç¯å¢ƒä¿¡æ¯å¯¹è±¡ã€‚<br><span style="background-color:#f0f">â— è¯»å–æ‰€æœ‰çš„é…ç½®æºçš„é…ç½®å±æ€§å€¼ï¼š<br><code>ConfigFileApplicationListener</code> ä¼šç›‘å¬ <code>onApplicationEnvironmentPreparedEvent</code> äº‹ä»¶æ¥åŠ è½½é…ç½®æ–‡ä»¶ <code>application.properties</code> çš„ç¯å¢ƒå˜é‡</span><br>â–  ç»‘å®šç¯å¢ƒä¿¡æ¯<br>â–  ç›‘å¬å™¨è°ƒç”¨ listener.environmentPrepared()ï¼›<span style="background-color:#f0f">é€šçŸ¥æ‰€æœ‰çš„ç›‘å¬å™¨å½“å‰ç¯å¢ƒå‡†å¤‡å®Œæˆ</span></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230227132255.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230227124928.png" alt="image.png"></p><h3 id="4-2-4-æ ¹æ®é¡¹ç›®ç±»å‹åˆ›å»º-IOC-å®¹å™¨â­ï¸ğŸ”´"><a href="#4-2-4-æ ¹æ®é¡¹ç›®ç±»å‹åˆ›å»º-IOC-å®¹å™¨â­ï¸ğŸ”´" class="headerlink" title="4.2.4. æ ¹æ®é¡¹ç›®ç±»å‹åˆ›å»º IOC å®¹å™¨â­ï¸ğŸ”´"></a>4.2.4. æ ¹æ®é¡¹ç›®ç±»å‹åˆ›å»º IOC å®¹å™¨â­ï¸ğŸ”´</h3><p>â—‹ <span style="background-color:#f0f">å®ä¾‹åŒ– Spring ä¸Šä¸‹æ–‡ï¼ˆcreateApplicationContextï¼ˆï¼‰ï¼‰</span><br>â–  æ ¹æ®é¡¹ç›®ç±»å‹ï¼ˆServletï¼‰åˆ›å»ºç›¸åº”çš„ WEB å®¹å™¨<br>â–  å½“å‰ä¼šåˆ›å»º <code>AnnotationConfigServletWebServerApplicationContext</code></p><h3 id="4-2-5-å‡†å¤‡-IOC-å®¹å™¨åŸºæœ¬ä¿¡æ¯-åˆ·æ–°å‰å‡†å¤‡-contextPrepared-loaded"><a href="#4-2-5-å‡†å¤‡-IOC-å®¹å™¨åŸºæœ¬ä¿¡æ¯-åˆ·æ–°å‰å‡†å¤‡-contextPrepared-loaded" class="headerlink" title="4.2.5. å‡†å¤‡ IOC å®¹å™¨åŸºæœ¬ä¿¡æ¯ (åˆ·æ–°å‰å‡†å¤‡ -contextPrepared-loaded)"></a>4.2.5. å‡†å¤‡ IOC å®¹å™¨åŸºæœ¬ä¿¡æ¯ (åˆ·æ–°å‰å‡†å¤‡ -contextPrepared-loaded)</h3><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224180542.png" alt="image.png"></p><p>â—‹ å‡†å¤‡ ApplicationContext IOC å®¹å™¨çš„åŸºæœ¬ä¿¡æ¯ prepareContext()<br>â–  ä¿å­˜ç¯å¢ƒä¿¡æ¯<br>â–  IOC å®¹å™¨çš„åç½®å¤„ç†æµç¨‹ã€‚<br>â–  åº”ç”¨åˆå§‹åŒ–å™¨ï¼›applyInitializersï¼›<br>â— <span style="background-color:#f0f">éå†æ‰€æœ‰çš„ ApplicationContextInitializer ã€‚è°ƒç”¨ initialize</span>ã€‚æ¥å¯¹ ioc å®¹å™¨è¿›è¡Œåˆå§‹åŒ–æ‰©å±•åŠŸèƒ½<br>â— <span style="background-color:#f0f">éå†æ‰€æœ‰çš„ listener è°ƒç”¨ contextPrepared</span>ã€‚EventPublishRunListenrï¼›é€šçŸ¥æ‰€æœ‰çš„ç›‘å¬å™¨ <code>contextPrepared</code><br><span style="background-color:#ff0">â— å°†å¯åŠ¨ç±»ä½œä¸ºé…ç½®ç±»è¿›è¡Œè¯»å– â€“&gt;å°†é…ç½®æ³¨å†Œä¸º BeanDefinition</span> <span style="background-color:red">æœªçœ‹åˆ°æœ‰è¿™å—ä»£ç </span><br>â–  æ‰€æœ‰çš„ç›‘å¬å™¨è°ƒç”¨ <code>contextLoaded</code>ã€‚<span style="background-color:#f0f">é€šçŸ¥æ‰€æœ‰çš„ç›‘å¬å™¨ contextLoaded</span>ï¼›</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230227132333.png" alt="image.png"></p><h3 id="4-2-6-åˆ·æ–°-IOC-å®¹å™¨â­ï¸ğŸ”´"><a href="#4-2-6-åˆ·æ–°-IOC-å®¹å™¨â­ï¸ğŸ”´" class="headerlink" title="4.2.6. åˆ·æ–° IOC å®¹å™¨â­ï¸ğŸ”´"></a>4.2.6. åˆ·æ–° IOC å®¹å™¨â­ï¸ğŸ”´</h3><p>â—‹ <span style="background-color:#f0f">åˆ·æ–° IOC å®¹å™¨ã€‚refreshContext</span><br>â–  åˆ›å»ºå®¹å™¨ä¸­çš„æ‰€æœ‰ç»„ä»¶ï¼ˆSpring æ³¨è§£ï¼‰<br>â—‹ å®¹å™¨åˆ·æ–°å®Œæˆåå·¥ä½œ afterRefresh æ— å®ç°ï¼Œå¯æ‰©å±•</p><p><code>AnnotationConfigServletWebServerApplicationContext.refresh</code></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224180854.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224180945.png" alt="image.png"></p><h4 id="4-2-6-1-invokeBeanFactoryPostProcessors"><a href="#4-2-6-1-invokeBeanFactoryPostProcessors" class="headerlink" title="4.2.6.1. invokeBeanFactoryPostProcessors"></a>4.2.6.1. invokeBeanFactoryPostProcessors</h4><p><code>invokeBeanFactoryPostProcessorÂ </code> Â <span style="background-color:#0f0">è§£æ@Import</span>:Â Â åŠ è½½æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ç±»<br>â•<span style="display:none">%%<br>â–¶1.ğŸ¡â­ï¸â—¼ï¸SpringBoot å¯åŠ¨æ—¶é…ç½®ç±»è§£æçš„æ—¶æœº ?ğŸ”œMSTMğŸ“ è·Ÿ Spring æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯åœ¨ç¬¬ 5 æ­¥ invokeBeanFactoryPostProcessorsã€‚è€Œä¸”åœ¨ onrefresh æ–¹æ³•ä¸­åˆ›å»ºäº† Servlet å®¹å™¨â—¼ï¸â­ï¸-point-20230224-1821%%</span></p><h4 id="4-2-6-2-onrefresh-åˆ›å»ºå­å®¹å™¨"><a href="#4-2-6-2-onrefresh-åˆ›å»ºå­å®¹å™¨" class="headerlink" title="4.2.6.2. onrefresh åˆ›å»ºå­å®¹å™¨"></a>4.2.6.2. onrefresh åˆ›å»ºå­å®¹å™¨</h4><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224173708.png" alt="image.png"><br><code>onRefresh</code>Â Â <span style="background-color:#0f0">åˆ›å»º (å†…ç½®)servlet å®¹å™¨</span></p><h3 id="4-2-7-è®°å½•å¯åŠ¨ç»“æŸæ—¶é—´å¹¶è¾“å‡º"><a href="#4-2-7-è®°å½•å¯åŠ¨ç»“æŸæ—¶é—´å¹¶è¾“å‡º" class="headerlink" title="4.2.7. è®°å½•å¯åŠ¨ç»“æŸæ—¶é—´å¹¶è¾“å‡º"></a>4.2.7. è®°å½•å¯åŠ¨ç»“æŸæ—¶é—´å¹¶è¾“å‡º</h3><h3 id="4-2-8-å‘å¸ƒ-ApplicationStartedEvent"><a href="#4-2-8-å‘å¸ƒ-ApplicationStartedEvent" class="headerlink" title="4.2.8. å‘å¸ƒ ApplicationStartedEvent"></a>4.2.8. å‘å¸ƒ ApplicationStartedEvent</h3><p>â—‹ æ‰€æœ‰ç›‘å¬å™¨è°ƒç”¨ listeners.started(context); <span style="background-color:#f0f">é€šçŸ¥æ‰€æœ‰çš„ç›‘å¬å™¨ started</span></p><h3 id="4-2-9-è°ƒç”¨æ‰€æœ‰-runners"><a href="#4-2-9-è°ƒç”¨æ‰€æœ‰-runners" class="headerlink" title="4.2.9. è°ƒç”¨æ‰€æœ‰ runners"></a>4.2.9. è°ƒç”¨æ‰€æœ‰ runners</h3><p>â—‹ è°ƒç”¨æ‰€æœ‰ runnersï¼›callRunners()<br>â–  è·å–å®¹å™¨ä¸­çš„ ApplicationRunner<br>â–  è·å–å®¹å™¨ä¸­çš„ CommandLineRunner<br>â–  åˆå¹¶æ‰€æœ‰ runner å¹¶ä¸”æŒ‰ç…§@Order è¿›è¡Œæ’åº<br>â–  éå†æ‰€æœ‰çš„ runnerã€‚è°ƒç”¨ run æ–¹æ³•<br>â—‹ å¦‚æœä»¥ä¸Šæœ‰å¼‚å¸¸ï¼Œ<br>â–  è°ƒç”¨ Listener çš„ failed</p><h3 id="4-2-10-å¦‚æœå¯åŠ¨å¼‚å¸¸åˆ™å‘é€-ApplicationFailedEvent"><a href="#4-2-10-å¦‚æœå¯åŠ¨å¼‚å¸¸åˆ™å‘é€-ApplicationFailedEvent" class="headerlink" title="4.2.10. å¦‚æœå¯åŠ¨å¼‚å¸¸åˆ™å‘é€ ApplicationFailedEvent"></a>4.2.10. å¦‚æœå¯åŠ¨å¼‚å¸¸åˆ™å‘é€ ApplicationFailedEvent</h3><p>â—‹ è°ƒç”¨æ‰€æœ‰ç›‘å¬å™¨çš„ running æ–¹æ³• listeners.running(context); <span style="background-color:#f0f">é€šçŸ¥æ‰€æœ‰çš„ç›‘å¬å™¨ running</span><br>â—‹ running å¦‚æœæœ‰é—®é¢˜ã€‚ç»§ç»­é€šçŸ¥ failed ã€‚è°ƒç”¨æ‰€æœ‰ Listener çš„ failedï¼›<span style="background-color:#f0f">é€šçŸ¥æ‰€æœ‰çš„ç›‘å¬å™¨ failed</span></p><p><img src="https://github.com/TaylorLuo/typora-imgs/raw/master/img/584866-20201221110418589-124191923.jpg" alt="img"></p><p><img src="https://github.com/TaylorLuo/typora-imgs/raw/master/img/1032567-20160930171658625-1237959183.png" alt="img"></p><h1 id="5-åµŒå…¥å¼-Servlet-å®¹å™¨å¯åŠ¨åŸç†-V2"><a href="#5-åµŒå…¥å¼-Servlet-å®¹å™¨å¯åŠ¨åŸç†-V2" class="headerlink" title="5. åµŒå…¥å¼ Servlet å®¹å™¨å¯åŠ¨åŸç† V2"></a>5. åµŒå…¥å¼ Servlet å®¹å™¨å¯åŠ¨åŸç† V2</h1><p><span style="display:none">%%<br>â–¶4.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230324-0706%%</span>â• ^kb445n</p><p>SpringBoot_V1: <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1mf4y1c7cV/?p=79&amp;spm_id_from=pageDriver&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV1mf4y1c7cV/?p=79&amp;spm_id_from=pageDriver&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a></p><p>SpringBoot_V2: <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Et411Y7tQ?p=169&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV1Et411Y7tQ?p=169&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230222110234.png" alt="image.png"></p><h2 id="5-1-å¼•å…¥ä¾èµ–è§¦å‘è‡ªåŠ¨é…ç½®"><a href="#5-1-å¼•å…¥ä¾èµ–è§¦å‘è‡ªåŠ¨é…ç½®" class="headerlink" title="5.1. å¼•å…¥ä¾èµ–è§¦å‘è‡ªåŠ¨é…ç½®"></a>5.1. å¼•å…¥ä¾èµ–è§¦å‘è‡ªåŠ¨é…ç½®</h2><h3 id="5-1-1-å®¹å™¨å·¥å‚è‡ªåŠ¨é…ç½®ç±»â­ï¸ğŸ”´"><a href="#5-1-1-å®¹å™¨å·¥å‚è‡ªåŠ¨é…ç½®ç±»â­ï¸ğŸ”´" class="headerlink" title="5.1.1. å®¹å™¨å·¥å‚è‡ªåŠ¨é…ç½®ç±»â­ï¸ğŸ”´"></a>5.1.1. å®¹å™¨å·¥å‚è‡ªåŠ¨é…ç½®ç±»â­ï¸ğŸ”´</h3><p>å½“å¼•å…¥ <code>spring-boot-starter-web</code> ä¾èµ–æ—¶ä¼šåœ¨ SpringBoot ä¸­æ·»åŠ å¹¶ç”Ÿæ•ˆ<br>servlet å®¹å™¨å·¥å‚è‡ªåŠ¨é…ç½®ç±»ï¼š <code>ServletWebServerFactoryAutoConfiguration</code><br>(ç”Ÿæ•ˆåŸç†ï¼š <code>@ConditionalOnWebApplication(type = Type.SERVLET)</code>)<br>V1: EmbeddedServletContainerAutoConfiguration</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230227100508.png" alt="image.png"></p><h3 id="5-1-2-Web-å®¹å™¨å·¥å‚-é»˜è®¤-Tomcat"><a href="#5-1-2-Web-å®¹å™¨å·¥å‚-é»˜è®¤-Tomcat" class="headerlink" title="5.1.2. Web å®¹å™¨å·¥å‚ - é»˜è®¤ Tomcat"></a>5.1.2. Web å®¹å™¨å·¥å‚ - é»˜è®¤ Tomcat</h3><p>è¯¥è‡ªåŠ¨é…ç½®ç±»é€šè¿‡@Import å¯¼å…¥äº† (é€šè¿‡@ConditionalOnClass åˆ¤æ–­å†³å®šä½¿ç”¨å“ªä¸€ä¸ª) ä¸€ä¸ª Web å®¹å™¨å·¥å‚ï¼ˆé»˜è®¤ web-starter ä¼šå¯¼å…¥ tomcat åŒ…)ï¼Œå³ <code>TomcatServletWebServerFactory</code></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230325201425.png" alt="image.png"></p><h3 id="5-1-3-Web-å®¹å™¨å·¥å‚å®šåˆ¶åŒ–å™¨çš„åç½®å¤„ç†å™¨"><a href="#5-1-3-Web-å®¹å™¨å·¥å‚å®šåˆ¶åŒ–å™¨çš„åç½®å¤„ç†å™¨" class="headerlink" title="5.1.3. Web å®¹å™¨å·¥å‚å®šåˆ¶åŒ–å™¨çš„åç½®å¤„ç†å™¨"></a>5.1.3. Web å®¹å™¨å·¥å‚å®šåˆ¶åŒ–å™¨çš„åç½®å¤„ç†å™¨</h3><h4 id="5-1-3-1-BeanPostProcessorsRegistrar"><a href="#5-1-3-1-BeanPostProcessorsRegistrar" class="headerlink" title="5.1.3.1. BeanPostProcessorsRegistrar"></a>5.1.3.1. BeanPostProcessorsRegistrar</h4><p>åœ¨ <code>ServletWebServerFactoryAutoConfiguration</code> ä¸­è¿˜é€šè¿‡ <code>BeanPostProcessorsRegistrar</code> å¼•å…¥äº†<span style="background-color:#f0f">å®¹å™¨å·¥å‚å®šåˆ¶åŒ–å™¨çš„åç½®å¤„ç†å™¨</span> <code>WebServerFactoryCustomizerBeanPostProcessor</code></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230302090251.png" alt="image.png"></p><p><code>WebServerFactoryCustomizerBeanPostProcessor</code>ï¼Œä¼šè·å–æ‰€æœ‰çš„å®šåˆ¶å™¨ï¼Œè°ƒç”¨æ¯ä¸ªå®šåˆ¶å™¨çš„ customer æ–¹æ³•ï¼Œ<span style="background-color:#f0f">ç”¨æ¥ç»™ Servlet å®¹å™¨è¿›è¡Œèµ‹å€¼</span></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230302090135.png" alt="image.png"></p><p>V1: <code>EmbeddedServletContainerCustomizerBeanPostProcessor</code></p><h4 id="5-1-3-2-WebServerFactoryCustomizer-å®¹å™¨å·¥å‚å®šåˆ¶åŒ–å™¨-â­ï¸ğŸ”´"><a href="#5-1-3-2-WebServerFactoryCustomizer-å®¹å™¨å·¥å‚å®šåˆ¶åŒ–å™¨-â­ï¸ğŸ”´" class="headerlink" title="5.1.3.2. WebServerFactoryCustomizer(å®¹å™¨å·¥å‚å®šåˆ¶åŒ–å™¨)â­ï¸ğŸ”´"></a>5.1.3.2. WebServerFactoryCustomizer(å®¹å™¨å·¥å‚å®šåˆ¶åŒ–å™¨)â­ï¸ğŸ”´</h4><p>æˆ‘ä»¬åœ¨è‡ªå®šä¹‰å®¹å™¨é…ç½®æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ª <code>WebServerFactoryCustomizer</code><br>ç¤ºä¾‹ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.springframework.boot.web.server.WebServerFactoryCustomizer;<br><span class="hljs-keyword">import</span> org.springframework.boot.web.servlet.server.ConfigurableServletWebServerFactory;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Component;<br><br><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomizationBean</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebServerFactoryCustomizer</span>&lt;ConfigurableServletWebServerFactory&gt; &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">customize</span><span class="hljs-params">(ConfigurableServletWebServerFactory server)</span> &#123;<br>        server.setPort(<span class="hljs-number">9000</span>);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-2-SpringBoot-åº”ç”¨æ‰§è¡Œ-Run-æ–¹æ³•"><a href="#5-2-SpringBoot-åº”ç”¨æ‰§è¡Œ-Run-æ–¹æ³•" class="headerlink" title="5.2. SpringBoot åº”ç”¨æ‰§è¡Œ Run æ–¹æ³•"></a>5.2. SpringBoot åº”ç”¨æ‰§è¡Œ Run æ–¹æ³•</h2><p><code>SpringApplication.run(Boot05WebAdminApplication.class, args);</code></p><h3 id="5-2-1-åˆ›å»º-IOC-å®¹å™¨"><a href="#5-2-1-åˆ›å»º-IOC-å®¹å™¨" class="headerlink" title="5.2.1. åˆ›å»º IOC å®¹å™¨"></a>5.2.1. åˆ›å»º IOC å®¹å™¨</h3><p>ã€åˆ›å»º IOC å®¹å™¨å¯¹è±¡ï¼Œå¹¶åˆå§‹åŒ–å®¹å™¨ï¼Œåˆ›å»ºå®¹å™¨çš„æ¯ä¸€ä¸ªç»„ä»¶ã€‘ï¼›å¦‚æœæ˜¯ web ç¯å¢ƒåˆ™åˆ›å»º AnnotationConfig&#x3D;&#x3D;ServletWebServer&#x3D;&#x3D;ApplicationContextã€‚å¦‚æœä¸æ˜¯ web ç¯å¢ƒåˆ™åˆ›å»º AnnotationConfigApplicationContext</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224184939.png" alt="image.png"></p><p>SpringBoot_V2:<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224190131.png" alt="image.png"></p><p>SpringBoot_V1:<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230222190659.png" alt="image.png"></p><h3 id="5-2-2-è°ƒç”¨çˆ¶ç±»-refresh"><a href="#5-2-2-è°ƒç”¨çˆ¶ç±»-refresh" class="headerlink" title="5.2.2. è°ƒç”¨çˆ¶ç±» refresh()"></a>5.2.2. è°ƒç”¨çˆ¶ç±» refresh()</h3><p>åˆ·æ–°åˆ›å»ºå¥½çš„ IOC å®¹å™¨<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230222191503.png" alt="image.png"></p><h3 id="5-2-3-æ‰§è¡Œé‡å†™çš„-onRefresh-æ–¹æ³•"><a href="#5-2-3-æ‰§è¡Œé‡å†™çš„-onRefresh-æ–¹æ³•" class="headerlink" title="5.2.3. æ‰§è¡Œé‡å†™çš„ onRefresh() æ–¹æ³•"></a>5.2.3. æ‰§è¡Œé‡å†™çš„ onRefresh() æ–¹æ³•</h3><p>åˆ·æ–° 12 æ­¥ä¸­çš„ç¬¬ 9 æ­¥ï¼šweb çš„ IOC å®¹å™¨ <code>ServletWebServerApplicationContext</code> <span style="background-color:#f0f">é‡å†™äº† onRefresh æ–¹æ³•</span></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230227090720.png" alt="image.png"><br>â•<span style="display:none">%%<br>â–¶1.ğŸ¡â­ï¸â—¼ï¸æ–°æŠ€èƒ½ get ?ğŸ”œMSTMğŸ“ å‰é¢çš„å›¾æ ‡éƒ½ç‚¹ç‚¹çœ‹çœ‹â—¼ï¸â­ï¸-point-20230227-0907%%</span><br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230222191532.png" alt="image.png"></p><h3 id="5-2-4-ä»å®¹å™¨ä¸­è·å–-TomcatServletWebServerFactory"><a href="#5-2-4-ä»å®¹å™¨ä¸­è·å–-TomcatServletWebServerFactory" class="headerlink" title="5.2.4. ä»å®¹å™¨ä¸­è·å– TomcatServletWebServerFactory"></a>5.2.4. ä»å®¹å™¨ä¸­è·å– TomcatServletWebServerFactory</h3><p>V1ï¼šEmbeddedServletContainerFactory<br>å› ä¸ºå‰é¢æœ‰@Bean æ³¨è§£æ³¨å…¥ï¼Œæ‰€ä»¥å¯ä»¥ä» IOC å®¹å™¨ä¸­è·å–åµŒå…¥å¼çš„ Servlet å®¹å™¨å·¥å‚ TomcatServletWebServerFactoryï¼Œç„¶åå°±å¯ä»¥ç”¨æ¥åˆ›å»º Servlet å®¹å™¨<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230302090820.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230302091509.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230302091355.png" alt="image.png"></p><h3 id="5-2-5-åç½®å¤„ç†å™¨æ‰§è¡Œé…ç½®å®šåˆ¶"><a href="#5-2-5-åç½®å¤„ç†å™¨æ‰§è¡Œé…ç½®å®šåˆ¶" class="headerlink" title="5.2.5. åç½®å¤„ç†å™¨æ‰§è¡Œé…ç½®å®šåˆ¶"></a>5.2.5. åç½®å¤„ç†å™¨æ‰§è¡Œé…ç½®å®šåˆ¶</h3><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230302095054.png" alt="image.png"></p><p>å½“ TomcatServletWebServerFactory åˆ›å»º Servlet å®¹å™¨å¯¹è±¡æ—¶ï¼Œåç½®å¤„ç†å™¨çœ‹è¿™ä¸ªå¯¹è±¡ï¼Œå°±æ¥è·å–æ‰€æœ‰çš„å®šåˆ¶å™¨æ¥å®šåˆ¶ Servlet å®¹å™¨çš„ç›¸å…³é…ç½®ï¼›</p><h3 id="5-2-6-åˆ›å»º-Servlet-å®¹å™¨å¹¶å¯åŠ¨"><a href="#5-2-6-åˆ›å»º-Servlet-å®¹å™¨å¹¶å¯åŠ¨" class="headerlink" title="5.2.6. åˆ›å»º Servlet å®¹å™¨å¹¶å¯åŠ¨"></a>5.2.6. åˆ›å»º Servlet å®¹å™¨å¹¶å¯åŠ¨</h3><p>é€šè¿‡ <code>getWebServer</code> åˆ›å»ºåµŒå…¥å¼çš„ Servlet å®¹å™¨ï¼›<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230302091847.png" alt="image.png"></p><h3 id="5-2-7-é¡ºåºæ€»ç»“"><a href="#5-2-7-é¡ºåºæ€»ç»“" class="headerlink" title="5.2.7. é¡ºåºæ€»ç»“"></a>5.2.7. é¡ºåºæ€»ç»“</h3><p>IOC å®¹å™¨å¯åŠ¨æ—¶åˆ›å»º Servlet å®¹å™¨ï¼Œç„¶åå…ˆå¯åŠ¨åµŒå…¥å¼çš„ Servlet å®¹å™¨ï¼Œæœ€åå†å°† IOC å®¹å™¨ä¸­å‰©ä¸‹çš„æ²¡æœ‰åˆ›å»ºå‡ºçš„å¯¹è±¡åˆ›å»ºå‡ºæ¥</p><h2 id="5-3-æ¦‚è¿°"><a href="#5-3-æ¦‚è¿°" class="headerlink" title="5.3. æ¦‚è¿°"></a>5.3. æ¦‚è¿°</h2><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224190813.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224190858.png" alt="image.png"><br>â•<span style="display:none">%%<br>â–¶2.ğŸ¡â­ï¸â—¼ï¸SpringBoot ä¸­ SpringMVC ä¸ Spring æ•´åˆçš„ SpringMVC åŒºåˆ« ?ğŸ”œMSTMğŸ“ ä¸€èˆ¬çš„ SpringMVC æ˜¯éœ€è¦å¯åŠ¨å­å®¹å™¨çš„ï¼Œè€Œ SpringBoot ä¸­åªæœ‰ 1 ä¸ªå®¹å™¨ï¼ŒSpringMVC æ˜¯é€šè¿‡æ³¨å…¥è‡ªåŠ¨é…ç½®ç±»ç”Ÿæˆçš„â—¼ï¸â­ï¸-point-20230224-1911%%</span><br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230227093856.png" alt="image.png"></p><h1 id="6-SpringBoot-å¤–ç½®-Tomcat-å¯åŠ¨åŸç†â­ï¸ğŸ”´"><a href="#6-SpringBoot-å¤–ç½®-Tomcat-å¯åŠ¨åŸç†â­ï¸ğŸ”´" class="headerlink" title="6. SpringBoot å¤–ç½® Tomcat å¯åŠ¨åŸç†â­ï¸ğŸ”´"></a>6. SpringBoot å¤–ç½® Tomcat å¯åŠ¨åŸç†â­ï¸ğŸ”´</h1><p><span style="display:none">%%<br>â–¶3.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230324-0704%%</span>â• ^er3z4j</p><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Et411Y7tQ?p=51&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV1Et411Y7tQ?p=51&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a></p><h2 id="6-1-æ“ä½œæ­¥éª¤â­ï¸ğŸ”´"><a href="#6-1-æ“ä½œæ­¥éª¤â­ï¸ğŸ”´" class="headerlink" title="6.1. æ“ä½œæ­¥éª¤â­ï¸ğŸ”´"></a>6.1. æ“ä½œæ­¥éª¤â­ï¸ğŸ”´</h2><p>1ã€å¿…é¡»åˆ›å»ºä¸€ä¸ª war é¡¹ç›®ï¼›<br>2ã€å°†åµŒå…¥å¼çš„ Tomcat æŒ‡å®šä¸º <code>provided</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>3ã€å¿…é¡»ç¼–å†™ä¸€ä¸ª <code>SpringBootServletInitializer</code> çš„å­ç±»ï¼Œå¹¶é‡å†™ configure æ–¹æ³•é‡Œé¢çš„å†™æ³•ï¼Œéµç…§å›ºå®šå†™æ³•ï¼Œå°† SpringBoot çš„å¯åŠ¨ç±»æ”¾å…¥ <code>application.sources</code> çš„æ–¹æ³•å‚æ•°ä¸­ã€‚ â•<span style="display:none">%%<br>â–¶13.ğŸ¡â­ï¸â—¼ï¸ä½¿ç”¨å¤–ç½®çš„ Tomcat å¯åŠ¨ SpringBoot é¡¹ç›®çš„æ–¹æ³• ?ğŸ”œMSTMğŸ“ éœ€è¦ç¼–å†™ä¸€ä¸ª SpringBootServletInitializer çš„å­ç±»ï¼Œå¹¶å°† SpringBoot å¯åŠ¨ç±»æ”¾å…¥åˆ°é‡å†™çš„ Configurer æ–¹æ³•ä¸­ application.sources çš„å…¥å‚ä¸­ã€‚â—¼ï¸â­ï¸-point-20230302-1656%%</span></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExternalServletInitializer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SpringBootServletInitializer</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> SpringApplicationBuilder <span class="hljs-title function_">configure</span><span class="hljs-params">(SpringApplicationBuilder application)</span> &#123;<br>        <span class="hljs-comment">//ä¼ å…¥SpringBootçš„ä¸»ç¨‹åºï¼Œ</span><br>        <span class="hljs-keyword">return</span> application.sources(SpringBoot04WebJspApplication.class);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>4ã€å¯åŠ¨æœåŠ¡å™¨å°±å¯ä»¥ï¼›</p><h2 id="6-2-åº•å±‚åŸç†â­ï¸ğŸ”´"><a href="#6-2-åº•å±‚åŸç†â­ï¸ğŸ”´" class="headerlink" title="6.2. åº•å±‚åŸç†â­ï¸ğŸ”´"></a>6.2. åº•å±‚åŸç†â­ï¸ğŸ”´</h2><p>åˆ©ç”¨äº† servlet3.0Â è§„èŒƒå®˜æ–¹æ–‡æ¡£ï¼šÂ Â å½“ servlet å®¹å™¨å¯åŠ¨æ—¶å€™å°±ä¼šå»æ‰€æœ‰ jar åŒ…ä¸­çš„ <code>META-INF/services</code>Â Â æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ° <code>javax.servlet.ServletContainerInitializer</code>ï¼Œæœ‰çš„ jar åŒ…ä¸­å­˜åœ¨è¿™ä¸ªæ–‡ä»¶å¹¶åœ¨é‡Œé¢ä¼šç»‘å®šä¸€ä¸ª <code>ServletContainerInitializer</code>.Â Â Â å½“ servlet å®¹å™¨å¯åŠ¨æ—¶å€™å°±ä¼šå»è¯¥æ–‡ä»¶ä¸­æ‰¾åˆ° ServletContainerInitializer çš„å®ç°ç±»ï¼Œä»è€Œ <code>åˆ›å»ºå®ƒçš„å®ä¾‹å¹¶è°ƒç”¨å…¶ onstartUp æ–¹æ³•</code><br>â•<span style="display:none">%%<br>â–¶14.ğŸ¡â­ï¸â—¼ï¸æ ‡å‡†çš„ SPI æœºåˆ¶ï¼šTomcat å¯åŠ¨åä¼šéå†æŸ¥çœ‹æ‰€æœ‰ jar åŒ…ä¸­ META-INF&#x2F;services ç›®å½•ä¸‹çš„ javax.servlet.ServletContainerInitializer æ–‡ä»¶ä¸­é…ç½®çš„å…¨é™å®šåä¸º <code>org.springframework.web.SpringServletContainerInitializer</code>ï¼Œnew Instance å¹¶æ”¾å…¥æ„Ÿå…´è¶£çš„ç±»é›†åˆä¸­ï¼Œéå†è°ƒç”¨ä»–ä»¬çš„ onstartup æ–¹æ³•ï¼›ä¼ª SPI æœºåˆ¶ï¼šSpringBoot çš„è‡ªåŠ¨é…ç½®ç±»çš„åŠ è½½æ–¹å¼ï¼Œå¯åŠ¨æ—¶æŸ¥æ‰¾ META-INF&#x2F;spring.factories æ–‡ä»¶ä¸­ enableAutoConfiguration&#x3D;xxx,\ï¼Œæ ¹æ®æ¯ä¸ªç±»ä¸Š@ConditionalOn ç­‰æ¡ä»¶åˆ¤æ–­ï¼Œå°† xxx åŠ è½½å¹¶åˆ›å»º Beanâ—¼ï¸â­ï¸-point-20230302-1827%%</span></p><h2 id="6-3-æ‰§è¡Œæµç¨‹"><a href="#6-3-æ‰§è¡Œæµç¨‹" class="headerlink" title="6.3. æ‰§è¡Œæµç¨‹"></a>6.3. æ‰§è¡Œæµç¨‹</h2><p><span style="display:none">%%<br>â–¶9.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230305-1054%%</span>â• ^7d9w7<br>1ã€å¯åŠ¨ Tomcat æœåŠ¡å™¨<br>2ã€spring web æ¨¡å—é‡Œæœ‰è¿™ä¸ªæ–‡ä»¶</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224210917.png" alt="image.png"></p><p>æ–‡ä»¶å†…å®¹æ˜¯ï¼š <code>org.springframework.web.SpringServletContainerInitializer</code><br>3ã€SpringServletContainerInitializer å°† handlerTypes æ ‡æ³¨çš„æ‰€æœ‰ç±»å‹çš„ç±»ä¼ å…¥åˆ° onStartip æ–¹æ³•çš„ <code>Set&lt;Class&lt;?&gt;&gt;</code> ä¸­ï¼Œå¹¶ä¸ºè¿™äº›æ„Ÿå…´è¶£ç±»åˆ›å»ºå®ä¾‹<br>4ã€æ¯ä¸ªåˆ›å»ºå¥½çš„ WebApplicationInitializer è°ƒç”¨è‡ªå·±çš„ onStratup<br>5ã€å› ä¸ºæœ‰ä¸‹å›¾æ‰€ç¤ºçš„ç»§æ‰¿å…³ç³»ï¼Œæˆ‘ä»¬ç¼–å†™çš„ <code>ExternalServletInitializer</code> å’Œ <code>SpringBootServletInitializer</code> éƒ½ä¼šè¢«åˆ›å»ºå®ä¾‹ï¼Œå¹¶æ‰§è¡Œå„è‡ªçš„ <code>StartUp</code> æ–¹æ³•ï¼Œç„¶è€Œ ExternalServletInitializer æ²¡æœ‰è¯¥æ–¹æ³•ï¼Œæ‰€ä»¥ä¼šè°ƒç”¨å…¶çˆ¶ç±» SpringBootServletInitializer çš„ onstartUp æ–¹æ³•ã€‚<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224204100.png" alt="image.png"></p><p>6ã€<code>SpringBootServletInitializer</code> æ‰§è¡Œ onStartup æ–¹æ³•ä¼šæ‰§è¡Œ createRootApplicationContextï¼Œåœ¨è°ƒç”¨å…¶ä¸­çš„ <code>Configure</code> æ—¶ï¼Œç”±äºå…¶å­ç±» <code>ExternalServletInitializer</code> é‡å†™äº†è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥ä¼šè°ƒç”¨å­ç±»é‡å†™çš„è¿™ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆå°±ä¼šå°† SpringBoot çš„ä¸»ç¨‹åºç±»ä¼ å…¥è¿›æ¥ã€‚</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224210646.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224204134.png" alt="image.png"></p><p>7ã€build SpringApplication å¹¶å¯åŠ¨ï¼›</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230325223837.png" alt="image.png"></p><h2 id="6-4-å…¶ä»–"><a href="#6-4-å…¶ä»–" class="headerlink" title="6.4. å…¶ä»–"></a>6.4. å…¶ä»–</h2><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1gW411W76m?p=51&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV1gW411W76m?p=51&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a><br>åµŒå…¥å¼çš„ Servlet å®¹å™¨ï¼šåº”ç”¨æ‰“æˆ jar åŒ…<br>â€‹ ä¼˜ç‚¹ï¼šç®€å•ã€ä¾¿æº<br>â€‹ ç¼ºç‚¹ï¼šé»˜è®¤ä¸æ”¯æŒ JSPã€ä¼˜åŒ–å®šåˆ¶æ¯”è¾ƒå¤æ‚ï¼ˆä½¿ç”¨å®šåˆ¶å™¨ã€ServerPropertiesã€è‡ªå®šä¹‰å®šåˆ¶å™¨ã€‘ï¼Œè‡ªå·±æ¥ç¼–å†™åµŒå…¥å¼çš„å®¹å™¨å·¥å‚ï¼‰</p><p>å¤–ç½®çš„ Servlet å®¹å™¨ï¼šå¤–é¢å®‰è£… Tomcat æ˜¯ä»¥ war åŒ…çš„æ–¹å¼æ‰“åŒ…ã€‚<br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1gW411W76m?p=52&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV1gW411W76m?p=52&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a></p><h1 id="7-SpringBoot-çš„æ ¸å¿ƒæ³¨è§£"><a href="#7-SpringBoot-çš„æ ¸å¿ƒæ³¨è§£" class="headerlink" title="7. SpringBoot çš„æ ¸å¿ƒæ³¨è§£"></a>7. SpringBoot çš„æ ¸å¿ƒæ³¨è§£</h1><p>1.Â @SpringBootApplication æ³¨è§£ï¼šè¿™ä¸ªæ³¨è§£æ ‡è¯†äº†ä¸€ä¸ª SpringBoot å·¥ç¨‹ï¼Œå®ƒå®é™…ä¸Šæ˜¯å¦å¤–ä¸‰ä¸ªæ³¨è§£çš„ç»„åˆï¼Œè¿™ä¸‰ä¸ªæ³¨è§£æ˜¯ï¼š<br>â‘  @SpringBootConfiguration ï¼šè¿™ä¸ªæ³¨è§£å®é™…å°±æ˜¯ä¸€ä¸ª@Configurationï¼Œè¡¨ç¤ºå¯åŠ¨ç±»ä¹Ÿæ˜¯ä¸€ä¸ªé…ç½®ç±»<br>â‘¡Â @EnableAutoConfigurationï¼šå‘ Spring å®¹å™¨ä¸­å¯¼å…¥äº†ä¸€ä¸ª Selectorï¼Œç”¨æ¥åŠ è½½ ClassPath ä¸‹ SpringFactories ä¸­æ‰€å®šä¹‰çš„è‡ªåŠ¨é…ç½®ç±»ï¼Œå°†è¿™äº›è‡ªåŠ¨åŠ è½½ä¸ºé…ç½® BeanÂ Â <br>â‘¢ @ComponentScanï¼Œä½†è¿™ä¸ªæ³¨è§£æ˜¯ Spring æä¾›çš„<br>2.Â Â @ConditionalÂ ä¹Ÿå¾ˆå…³é”®ï¼Œå¦‚æœæ²¡æœ‰å®ƒæˆ‘ä»¬æ— æ³•åœ¨è‡ªå®šä¹‰åº”ç”¨ä¸­è¿›è¡Œå®šåˆ¶å¼€å‘<br>@ConditionalOnBeanã€Â <br>@ConditionalOnClassã€<br>@ConditionalOnExpressionã€<br>@ConditionalOnMissingBean ç­‰ã€‚</p><h1 id="8-ä¸ºä»€ä¹ˆ-SpringBoot-çš„-jar-å¯ä»¥ç›´æ¥è¿è¡Œâ­ï¸ğŸ”´"><a href="#8-ä¸ºä»€ä¹ˆ-SpringBoot-çš„-jar-å¯ä»¥ç›´æ¥è¿è¡Œâ­ï¸ğŸ”´" class="headerlink" title="8. ä¸ºä»€ä¹ˆ SpringBoot çš„ jar å¯ä»¥ç›´æ¥è¿è¡Œâ­ï¸ğŸ”´"></a>8. ä¸ºä»€ä¹ˆ SpringBoot çš„ jar å¯ä»¥ç›´æ¥è¿è¡Œâ­ï¸ğŸ”´</h1><p><span style="display:none">%%<br>â–¶5.ğŸ¡â­ï¸â—¼ï¸ã€fatjar, spring-boot-loader.jar, MANIFEST-MF, mainclass, jarlauncher, startclassã€‘â—¼ï¸â­ï¸-point-20230303-1616%%</span> ^lf3ecs</p><h2 id="8-1-spring-boot-maven-plugin-æ‰“-Fat-jar"><a href="#8-1-spring-boot-maven-plugin-æ‰“-Fat-jar" class="headerlink" title="8.1. spring-boot-maven-plugin æ‰“ Fat jar"></a>8.1. spring-boot-maven-plugin æ‰“ Fat jar</h2><p><span style="display:none">%%<br>â–¶5.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230305-0847%%</span>â• ^s0yjgz</p><ol><li><p>SpringBoot æä¾›äº†ä¸€ä¸ªæ’ä»¶ <code>spring-boot-maven-plugin</code> ç”¨äºæŠŠç¨‹åºæ‰“åŒ…æˆä¸€ä¸ªå¯æ‰§è¡Œçš„ jar åŒ…ã€‚</p></li><li><p>SpringBoot åº”ç”¨æ‰“åŒ…ä¹‹åï¼Œç”Ÿæˆä¸€ä¸ª FatÂ jar(jar åŒ…ä¸­åŒ…å« jar)ï¼ŒåŒ…å«äº†<span style="background-color:#f0f">åº”ç”¨ä¾èµ–çš„ jar åŒ…å’Œ <code>SpringÂ BootÂ loader</code> ç›¸å…³çš„ç±»</span>ã€‚â•<span style="display:none">%%<br>â–¶10.ğŸ¡â­ï¸â—¼ï¸ä¸è‡ªå®šä¹‰ starter é‡Œçš„ç±» spring-boot-starter ç±»å¯¹æ¯”è®°å¿†â—¼ï¸â­ï¸-point-20230302-1516%%</span></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224133452.png" alt="image.png"></p></li></ol><p><span style="background-color:#ff0">å¦‚æœæˆ‘ä»¬è¦çœ‹ spring-boot-loader æºç ï¼Œé‚£ä¹ˆå°±éœ€è¦è‡ªå·±å¼•å…¥ä¾èµ–</span><br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224133402.png" alt="image.png"></p><h2 id="8-2-MANIFEST-MF-æ–‡ä»¶"><a href="#8-2-MANIFEST-MF-æ–‡ä»¶" class="headerlink" title="8.2. MANIFEST.MF æ–‡ä»¶"></a>8.2. MANIFEST.MF æ–‡ä»¶</h2><ol start="3"><li>javaÂ -jar ä¼šå»æ‰¾ jar ä¸­çš„ <code>MANIFEST.MF</code> æ–‡ä»¶ï¼Œåœ¨é‚£é‡Œé¢æ‰¾åˆ°çœŸæ­£çš„å¯åŠ¨ç±»ï¼ˆ<code>Main-Class</code>ï¼‰ï¼ŒFatÂ jar çš„å¯åŠ¨ Main å‡½æ•°æ˜¯ <code>JarLauncher</code>ï¼Œåœ¨ <code>spring-boot-loader.jar</code> ä¸­</li></ol><p>[[JVMæºç åˆ†æä¹‹JVMå¯åŠ¨æµç¨‹_çŒ¿ç¯å¡”_InfoQå†™ä½œç¤¾åŒº#^qwkqfc]]</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224123155.png" alt="image.png"></p><p>åœ¨ JarLauncher ç±»ä¸­çš„ main æ–¹æ³•ä¸­æœ‰ <code>launch</code> æ–¹æ³•ï¼Œè¿›å…¥ä¹‹åæœ‰ 2 ä¸ªéå¸¸é‡è¦çš„æ–¹æ³•ï¼š <code>createClassLoader</code> å’Œ <code>launch</code><br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224133833.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224133951.png" alt="image.png"></p><h2 id="8-3-LaunchedURLClassLoader"><a href="#8-3-LaunchedURLClassLoader" class="headerlink" title="8.3. LaunchedURLClassLoader"></a>8.3. LaunchedURLClassLoader</h2><ol start="4"><li><code>createClassLoader</code> è´Ÿè´£åˆ›å»ºä¸€ <code>LaunchedURLClassLoader</code> æ¥<span style="background-color:#f0f">åŠ è½½ BOOT-INF\lib ä¸‹é¢çš„ jar</span><br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224132056.png" alt="image.png"></li></ol><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224123526.png" alt="image.png"></p><h2 id="8-4-launch"><a href="#8-4-launch" class="headerlink" title="8.4. launch"></a>8.4. launch</h2><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230224132303.png" alt="image.png"></p><p><span style="background-color:#f0f"><code>launch</code> è´Ÿè´£ä»¥ä¸€ä¸ªæ–°çº¿ç¨‹å¯åŠ¨åº”ç”¨çš„å¯åŠ¨ç±»çš„ Main å‡½æ•°ï¼ˆæ‰¾åˆ° manifest ä¸­çš„ Start-Classï¼‰</span></p><h1 id="9-è‡ªå®šä¹‰-starterâ­ï¸ğŸ”´"><a href="#9-è‡ªå®šä¹‰-starterâ­ï¸ğŸ”´" class="headerlink" title="9. è‡ªå®šä¹‰ starterâ­ï¸ğŸ”´"></a>9. è‡ªå®šä¹‰ starterâ­ï¸ğŸ”´</h1><p><span style="display:none">%%<br>â–¶76.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230306-1507%%</span>ğŸ“™â• ^5tcs5g</p><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Et411Y7tQ?p=70&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV1Et411Y7tQ?p=70&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a></p><h2 id="9-1-ä½¿ç”¨åœºæ™¯â­ï¸ğŸ”´"><a href="#9-1-ä½¿ç”¨åœºæ™¯â­ï¸ğŸ”´" class="headerlink" title="9.1. ä½¿ç”¨åœºæ™¯â­ï¸ğŸ”´"></a>9.1. ä½¿ç”¨åœºæ™¯â­ï¸ğŸ”´</h2><p>åœ¨æˆ‘ä»¬çš„æ—¥å¸¸å¼€å‘å·¥ä½œä¸­ï¼Œç»å¸¸ä¼šæœ‰ä¸€äº›ç‹¬ç«‹äºä¸šåŠ¡ä¹‹å¤–çš„é…ç½®æ¨¡å—ï¼Œæˆ‘ä»¬ç»å¸¸å°†å…¶æ”¾åˆ°ä¸€ä¸ªç‰¹å®šçš„åŒ…ä¸‹ï¼Œç„¶åå¦‚æœå¦ä¸€ä¸ªå·¥ç¨‹éœ€è¦å¤ç”¨è¿™å—åŠŸèƒ½çš„æ—¶å€™ï¼Œåªéœ€è¦å°†å…¶åœ¨ pom ä¸­å¼•ç”¨ä¾èµ–å³å¯ï¼Œåˆ©ç”¨ SpringBoot ä¸ºæˆ‘ä»¬å®Œæˆè‡ªåŠ¨è£…é…å³å¯ã€‚</p><p>å¸¸è§çš„è‡ªå®šä¹‰ Starter åœºæ™¯æ¯”å¦‚:</p><p>åŠ¨æ€æ•°æ®æº<br>ç™»å½•æ¨¡å—<br>åŸºäº AOP æŠ€æœ¯å®ç°æ—¥å¿—åˆ‡é¢<br><span style="display:none">%%<br>â–¶4.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸â™¨ï¸â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230315-0932%%</span>â• ^xbsang</p><p><strong>åœºæ™¯ä¸€ï¼šç®€åŒ–å¤šæœåŠ¡å…¬ç”¨æ¡†æ¶é›†æˆ</strong>- å°è£… swagger é…ç½®<br>ä¼—æ‰€å‘¨çŸ¥ï¼Œspringboot æˆ–è€…å…¶ä»–ç¬¬ä¸‰æ–¹æ‰€æä¾›çš„ starterï¼Œéƒ½æ˜¯<span style="background-color:#0f0">åšæ¡†æ¶é›†æˆï¼Œé€šè¿‡ç®€åŒ–é…ç½®ï¼Œæé«˜å¼€å‘æ•ˆç‡</span>ï¼Œæ‰€ä»¥æˆ‘ä»¬è‡ªå®šä¹‰ starter çš„ç¬¬ä¸€ä¸ªåº”ç”¨åœºæ™¯ä¹Ÿæ˜¯åŸºäºè¿™ä¸ªæ€è·¯ã€‚é‚£æˆ‘ä»¬æ—¥å¸¸å¼€å‘å·¥ä½œä¸­ï¼Œæœ‰å“ªäº›æ¡†æ¶æ˜¯å¤šä¸ªæœåŠ¡å…±ç”¨çš„ï¼Œå¹¶ä¸” springboot æˆ–è€…å…¶ä»–ç¬¬ä¸‰æ–¹æš‚æœªæä¾›ï¼Œæˆ–è€…å«Œå¼ƒç¬¬ä¸‰æ–¹å†™çš„å¤ªçƒ‚ï¼Œæƒ³è‡ªå·±é‡æ–°å®ç°çš„ï¼Œéƒ½å¯ä»¥é€šè¿‡ç¼–å†™è‡ªå®šä¹‰ starter æ¥ç®€åŒ–å·¥ä½œã€‚æˆ‘ä»¬å…¬å¸é‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œæ¯ä¸ªæœåŠ¡éƒ½ä¼šä½¿ç”¨ swagger æ¥ç”Ÿæˆåœ¨çº¿æ¥å£æ–‡æ¡£ã€‚<span style="background-color:#ff0">æœªå°è£… swagger-starter ä¹‹å‰ï¼Œé‚£ä¹ˆåœ¨æ¯ä¸ªæœåŠ¡é‡Œè¾¹ï¼Œéƒ½éœ€è¦å¢åŠ  swagger çš„é…ç½®ç±»</span>ã€‚è€Œå°è£… swagger-starter ä¹‹åï¼Œå¯ä»¥çœå»è¿™ä¸€æ­¥çš„æ“ä½œï¼Œè¿˜å¯ä»¥é€šè¿‡å¢åŠ è‡ªå®šä¹‰é…ç½®æ¥å®ç°ä¸€äº›è‡ªå®šä¹‰çš„åŠŸèƒ½ã€‚æ¯”å¦‚æˆ‘ä»¬å…¬å¸å®‰å…¨éƒ¨é—¨è¦æ±‚ç”Ÿäº§ç¯å¢ƒä¸èƒ½å¯¹å¤–å¼€æ”¾ swagger æ¥å£æ–‡æ¡£åœ°å€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ·»åŠ ä¸€ä¸ª enabled çš„å‚æ•°æ¥ä»£è¡¨ swagger æ˜¯å¦å¯ç”¨ï¼Œé»˜è®¤å¯ç”¨ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒçš„é…ç½®ä¸­å°† enabled è®¾ä¸º false å³å¯è¾¾åˆ°è¿™ä¸ªç›®çš„ã€‚ç±»ä¼¼çš„é¢å¤–åŠŸèƒ½è¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚å¢åŠ è¯·æ±‚å¤´ç­‰ç­‰ï¼Œå…¶ä»–çš„è¯»è€…è‡ªè¡Œå‘æ˜ã€‚<br>ä¸Šé¢æåˆ°çš„æ˜¯ä¸šåŠ¡æ— å…³æ€§çš„ starter åº”ç”¨åœºæ™¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠ›å‡ºä¸€ä¸ªé—®é¢˜ï¼Œæ˜¯å¦æœ‰ä¸šåŠ¡ç›¸å…³ä¸”å¤šä¸ªä¸šåŠ¡åœºæ™¯æˆ–è€…å¤šä¸ªæœåŠ¡ä¼šä½¿ç”¨çš„åº”ç”¨åœºæ™¯ï¼Ÿæ ¹æ®è¿™ä¸ªé—®é¢˜çš„æè¿°ï¼Œæˆ‘ä»¬è‡³å°‘å¯ä»¥åˆ—å‡ºä»¥ä¸‹å‡ ä¸ªä¸šåŠ¡ç›¸å…³åœºæ™¯ã€‚ <a href="/2023/06/12/005-%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%93%E9%A2%98/%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86-10%E3%80%81%E9%99%90%E6%B5%81%E7%86%94%E6%96%AD%E9%99%8D%E7%BA%A7(%E6%9C%8D%E5%8A%A1%E4%BF%9D%E6%8A%A4)-Sentinel/" title="æœåŠ¡æ²»ç†-10ã€é™æµç†”æ–­é™çº§(æœåŠ¡ä¿æŠ¤)-Sentinel">æœåŠ¡æ²»ç†-10ã€é™æµç†”æ–­é™çº§(æœåŠ¡ä¿æŠ¤)-Sentinel</a><br><strong>åœºæ™¯äºŒï¼šæœåŠ¡é—´è°ƒç”¨çš„é‰´æƒã€‚</strong><br>æˆ‘ä»¬<span style="background-color:#f0f">å…¬å¸å†…éƒ¨æœåŠ¡ä¹‹é—´äº’ç›¸è°ƒç”¨éœ€è¦è¿›è¡Œé‰´æƒ</span>ï¼ˆè¿˜æ˜¯å®‰å…¨éƒ¨é—¨çš„è¦æ±‚ï¼‰ï¼Œç”±äºæœåŠ¡é—´æ˜¯é€šè¿‡ feign æ¥å®ç°ç›¸äº’è°ƒç”¨ï¼Œæ‰€ä»¥æ— æ³•é€šè¿‡ç½‘å…³æ¥è¿›è¡Œç»Ÿä¸€é‰´æƒã€‚å®ç°æ–¹æ¡ˆæ˜¯é€šè¿‡æ–°å¢ feign æ‹¦æˆªå™¨ï¼Œ&#x3D;&#x3D;åœ¨æºå¤´æœåŠ¡å‘èµ·è°ƒç”¨ä¹‹å‰å¢åŠ é‰´æƒå‚æ•°ï¼Œè¯·æ±‚åˆ°è¾¾ç›®æ ‡æœåŠ¡åé€šè¿‡é‰´æƒå‚æ•°è¿›è¡Œé‰´æƒ&#x3D;&#x3D;ã€‚è¿™ä¸¤æ­¥æ“ä½œå¾ˆæ˜æ˜¾æ˜¯æ¯ä¸ªæœåŠ¡éƒ½éœ€è¦çš„ï¼Œé‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠè¿™ä¸¤æ­¥æ“ä½œå°è£…æˆ starterï¼Œè¾¾åˆ°ç®€åŒ–å¼€å‘çš„ç›®çš„ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å¢åŠ é…ç½®ï¼Œå®ç°æ›´ç»†ç²’åº¦çš„è°ƒç”¨æƒé™æ§åˆ¶ï¼Œæ¯”å¦‚è®¢å•æœåŠ¡åªèƒ½è°ƒç”¨åº“å­˜æœåŠ¡çš„æŸ¥è¯¢å•†å“åº“å­˜æ¥å£ï¼Œè€Œæ— æ³•è°ƒç”¨æ›´æ–°å•†å“åº“å­˜çš„æ¥å£ã€‚<br><strong>åœºæ™¯ä¸‰ï¼šé‚®ä»¶ï¼ŒçŸ­ä¿¡ï¼ŒéªŒè¯ç åŠŸèƒ½ã€‚</strong><br>è¿™äº›åŠŸèƒ½ï¼Œåœ¨æŸäº›å…¬å¸å¯èƒ½ä¼šæ”¾åœ¨ common åŒ…é‡Œï¼Œä½†æ˜¯è¿™æ ·å…¶å®ä¼šå¯¼è‡´ common åŒ…çš„è‡ƒè‚¿ï¼Œå› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰æœåŠ¡éƒ½ä¼šä½¿ç”¨åˆ°ã€‚æœ‰äº›å…¬å¸ï¼ˆè¿˜æ˜¯æˆ‘ä»¬å…¬å¸ï¼‰å¯èƒ½å¯¹é‚®ä»¶æœåŠ¡å™¨çš„è®¿é—®æœ‰ä¸¥æ ¼æƒé™æ§åˆ¶çš„ï¼Œè€Œä¸”æƒé™å¼€é€šæµç¨‹æ¯”è¾ƒç¹å¤çš„ï¼Œé‚£ä¹ˆä¼šè€ƒè™‘åšæˆæœåŠ¡ï¼Œéƒ¨ç½²åœ¨å·²ç»å…·æœ‰è®¿é—®æƒé™çš„ä¸»æœºä¸Šï¼Œå‡å»é‡å¤ç”³è¯·æƒé™å·¥ä½œã€‚å¦‚æœé™¤å»è¿™äº›é™åˆ¶ï¼Œé‚£ä¹ˆå°†è¿™äº›åŠŸèƒ½å°è£…æˆ starter è¿˜æ˜¯æŒºä¸é”™çš„ï¼Œ<span style="background-color:#f0f">å¯ä»¥é¿å… common åŒ…çš„è‡ƒè‚¿</span></p><h2 id="9-2-æ“ä½œæ­¥éª¤"><a href="#9-2-æ“ä½œæ­¥éª¤" class="headerlink" title="9.2. æ“ä½œæ­¥éª¤"></a>9.2. æ“ä½œæ­¥éª¤</h2><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230225092241.png" alt="image.png"></p><h3 id="9-2-1-ç¡®å®šåœºæ™¯éœ€è¦ä½¿ç”¨ä¾èµ–"><a href="#9-2-1-ç¡®å®šåœºæ™¯éœ€è¦ä½¿ç”¨ä¾èµ–" class="headerlink" title="9.2.1. ç¡®å®šåœºæ™¯éœ€è¦ä½¿ç”¨ä¾èµ–"></a>9.2.1. ç¡®å®šåœºæ™¯éœ€è¦ä½¿ç”¨ä¾èµ–</h3><h3 id="9-2-2-ä½¿ç”¨æ³¨è§£ç¼–å†™è‡ªåŠ¨é…ç½®"><a href="#9-2-2-ä½¿ç”¨æ³¨è§£ç¼–å†™è‡ªåŠ¨é…ç½®" class="headerlink" title="9.2.2. ä½¿ç”¨æ³¨è§£ç¼–å†™è‡ªåŠ¨é…ç½®"></a>9.2.2. ä½¿ç”¨æ³¨è§£ç¼–å†™è‡ªåŠ¨é…ç½®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span> <span class="hljs-comment">//æŒ‡å®šè¿™ä¸ªç±»æ˜¯ä¸€ä¸ªé…ç½®ç±»</span><br><span class="hljs-meta">@ConditionalOnXXX</span> <span class="hljs-comment">//åœ¨æŒ‡å®šæ¡ä»¶ä¸‹æˆç«‹çš„æƒ…å†µä¸‹è‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆ</span><br><span class="hljs-meta">@AutoConfigureAfter</span> <span class="hljs-comment">//æŒ‡å®šè‡ªåŠ¨é…ç½®ç±»çš„é¡ºåº</span><br><span class="hljs-meta">@Bean</span> <span class="hljs-comment">//ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶</span><br><br><span class="hljs-meta">@ConfigurationProperties</span> <span class="hljs-comment">//ç»“åˆç›¸å…³xxxPropertiesç±»æ¥ç»‘å®šç›¸å…³çš„é…ç½®</span><br><span class="hljs-meta">@EnableConfigurationProperties</span> <span class="hljs-comment">//è®©xxxPropertiesç”Ÿæ•ˆåŠ åˆ°å®¹å™¨ä¸­</span><br><br>è‡ªåŠ¨é…ç½®ç±»è¦èƒ½åŠ è½½<br>å°†éœ€è¦å¯åŠ¨å°±åŠ è½½çš„è‡ªåŠ¨é…ç½®ç±»ï¼Œé…ç½®åœ¨META-INF/spring.factories<br># Auto Configure<br>org.springframework.boot.autoconfigure.EnableAutoConfiguration=\<br>org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\<br>org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230225100054.png" alt="image.png"></p><h3 id="9-2-3-ç¼–å†™-2-ä¸ªæ¨¡å—"><a href="#9-2-3-ç¼–å†™-2-ä¸ªæ¨¡å—" class="headerlink" title="9.2.3. ç¼–å†™ 2 ä¸ªæ¨¡å—"></a>9.2.3. ç¼–å†™ 2 ä¸ªæ¨¡å—</h3><p><span style="display:none">%%<br>â–¶12.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230305-1118%%</span>â• ^8m431i</p><ol><li><p>å¯åŠ¨å™¨ç©ºçš„ jar åªéœ€è¦åšä¾èµ–ç®¡ç†å¯¼å…¥ï¼›æ¯”å¦‚ <code>xxx-spring-boot-starter</code>ï¼Œä½¿ç”¨æ–¹åªéœ€è¦å¼•å…¥è¿™ä¸ªå¯åŠ¨å™¨å³å¯<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230326085427.png" alt="image.png"></p></li><li><p>ä¸“é—¨å†™ä¸€ä¸ªè‡ªåŠ¨é…ç½®æ¨¡å—ï¼›æ¯”å¦‚ <code>xxx-spring-boot-starter-autoconfigurer</code>ï¼Œæ‰€æœ‰çš„ä¾èµ–é¡¹éƒ½æ”¾åœ¨è¿™ä¸ªæ¨¡å—çš„ <code>META-INF/spring.factories</code> ä¸­ï¼Œkey ä¸º <code>org.springframework.boot.autoconfigure.EnableAutoConfiguration</code><br>åŒæ—¶ pom ä¸­éœ€è¦æ·»åŠ åŸºç¡€ä¾èµ– <code>spring-boot-starter</code><br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230326085456.png" alt="image.png"></p></li><li><p>å¯åŠ¨å™¨ä¾èµ–è‡ªåŠ¨é…ç½®ï¼Œåˆ«äººåªéœ€è¦å¼•å…¥ starter<br>xxx-spring-boot-starter<br>â•<span style="display:none">%%<br>â–¶1.ğŸ¡â­ï¸â—¼ï¸å¦‚æœè‡ªå®šä¹‰ starter ä¸­ç”¨åˆ°äº†å±æ€§ä¿¡æ¯ ?ğŸ”œMSTMğŸ“ å¯ä»¥ç¼–å†™ä¸€ä¸ªå±æ€§ç±»ï¼Œä½¿ç”¨æ³¨è§£@ConfigurationPropertiesï¼Œç„¶åä½¿ç”¨ setter æ–¹æ³•æˆ–è€…æ„é€ å¯¼å…¥çš„æ–¹æ³•å…³è”åˆ° Service ç±»ä¸Šï¼Œåœ¨ Configurer ç±»é‡Œç›´æ¥æ³¨å…¥ä½¿ç”¨â—¼ï¸â­ï¸-point-20230226-0812%%</span></p></li></ol><h2 id="9-3-ä¸-common-åŒ…å¯¹æ¯”"><a href="#9-3-ä¸-common-åŒ…å¯¹æ¯”" class="headerlink" title="9.3. ä¸ common åŒ…å¯¹æ¯”"></a>9.3. ä¸ common åŒ…å¯¹æ¯”</h2><ol><li>common åŒ…ä¸çµæ´»ï¼Œéœ€è¦ä¸éœ€è¦çš„å†…å®¹éƒ½åœ¨ä¸€ä¸ª common åŒ…é‡Œï¼Œä¸éœ€è¦çš„å†…å®¹ä¹Ÿéšç€ common åŒ…å¼•å…¥åˆ°å·¥ç¨‹ä¸­</li><li>å•ä¸ªåŠŸèƒ½å¢åŠ å¤ªå¤šï¼Œcommon åŒ…å®¹æ˜“å˜çš„è‡ƒè‚¿</li></ol><h2 id="9-4-ç¤ºä¾‹ä»£ç "><a href="#9-4-ç¤ºä¾‹ä»£ç " class="headerlink" title="9.4. ç¤ºä¾‹ä»£ç "></a>9.4. ç¤ºä¾‹ä»£ç </h2><p>[[SpringBoot-V1-å…¥é—¨ç®€ä»‹#^u6byiq]]<br>[[pages&#x2F;002-schdule&#x2F;001-Arch&#x2F;001-Subject&#x2F;013-DemoCode&#x2F;springboot2&#x2F;boot-09-customer-starter&#x2F;atguigu-hello-spring-boot-starter-autoconfigure&#x2F;src&#x2F;main&#x2F;java&#x2F;com&#x2F;atguigu&#x2F;hello&#x2F;auto&#x2F;HelloServiceAutoConfiguration.java]]</p><p>[[SpringBoot-V1-å…¥é—¨ç®€ä»‹#8 1 æ–°å»ºä¸€ä¸ª starter]]</p><h1 id="10-é…ç½®è¯»å–åŸç†å’Œä¼˜å…ˆçº§è§„åˆ™â­ï¸ğŸ”´"><a href="#10-é…ç½®è¯»å–åŸç†å’Œä¼˜å…ˆçº§è§„åˆ™â­ï¸ğŸ”´" class="headerlink" title="10. é…ç½®è¯»å–åŸç†å’Œä¼˜å…ˆçº§è§„åˆ™â­ï¸ğŸ”´"></a>10. é…ç½®è¯»å–åŸç†å’Œä¼˜å…ˆçº§è§„åˆ™â­ï¸ğŸ”´</h1><p><span style="display:none">%%<br>â–¶7.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230303-1851%%</span> ^uxezha</p><h2 id="10-1-è¯»å–åŸç†"><a href="#10-1-è¯»å–åŸç†" class="headerlink" title="10.1. è¯»å–åŸç†"></a>10.1. è¯»å–åŸç†</h2><p>é€šè¿‡äº‹ä»¶ç›‘å¬çš„æ–¹å¼è¯»å–çš„é…ç½®æ–‡ä»¶ï¼š<code>ConfigFileApplicationListener</code><br>ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼Œé«˜ä¼˜å…ˆçº§çš„é…ç½®è¦†ç›–ä½ä¼˜å…ˆçº§çš„é…ç½®ï¼Œæ‰€æœ‰é…ç½®ä¼šå½¢æˆäº’è¡¥é…ç½®ã€‚<br><code>ConfigFileApplicationListener</code> ä¼šç›‘å¬ <code>onApplicationEnvironmentPreparedEvent</code> äº‹ä»¶æ¥åŠ è½½é…ç½®æ–‡ä»¶ <code>application.properties</code> çš„ç¯å¢ƒå˜é‡<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230225112751.png" alt="image.png"></p><h2 id="10-2-ä¼˜å…ˆçº§è§„åˆ™"><a href="#10-2-ä¼˜å…ˆçº§è§„åˆ™" class="headerlink" title="10.2. ä¼˜å…ˆçº§è§„åˆ™"></a>10.2. ä¼˜å…ˆçº§è§„åˆ™</h2><h3 id="10-2-1-æ–‡ä»¶ä¼˜å…ˆçº§"><a href="#10-2-1-æ–‡ä»¶ä¼˜å…ˆçº§" class="headerlink" title="10.2.1. æ–‡ä»¶ä¼˜å…ˆçº§"></a>10.2.1. æ–‡ä»¶ä¼˜å…ˆçº§</h3><h4 id="10-2-1-1-å¤–éƒ¨é…ç½®æº"><a href="#10-2-1-1-å¤–éƒ¨é…ç½®æº" class="headerlink" title="10.2.1.1. å¤–éƒ¨é…ç½®æº"></a>10.2.1.1. å¤–éƒ¨é…ç½®æº</h4><p>å¸¸ç”¨ï¼šproperties æ–‡ä»¶ã€YAML æ–‡ä»¶ã€ç¯å¢ƒå˜é‡ã€å‘½ä»¤è¡Œå‚æ•°ï¼›</p><h4 id="10-2-1-2-properties-ä¼˜äº-ymal"><a href="#10-2-1-2-properties-ä¼˜äº-ymal" class="headerlink" title="10.2.1.2. properties ä¼˜äº ymal"></a>10.2.1.2. properties ä¼˜äº ymal</h4><p>æ­£å¸¸çš„æƒ…å†µæ˜¯å…ˆåŠ è½½ ymlï¼Œæ¥ä¸‹æ¥åŠ è½½ properties æ–‡ä»¶ã€‚å¦‚æœç›¸åŒçš„é…ç½®å­˜åœ¨äºä¸¤ä¸ªæ–‡ä»¶ä¸­ã€‚æœ€åä¼šä½¿ç”¨ properties ä¸­çš„é…ç½®ã€‚æœ€åè¯»å–çš„ä¼˜å…ˆçº§æœ€é«˜ã€‚</p><p>ä¸¤ä¸ªé…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£å·ä¸ä¸€æ ·ä¼šè¯»å– properties ä¸­çš„ç«¯å£å·</p><h3 id="10-2-2-æŸ¥æ‰¾è¦†ç›–ä¼˜å…ˆçº§"><a href="#10-2-2-æŸ¥æ‰¾è¦†ç›–ä¼˜å…ˆçº§" class="headerlink" title="10.2.2. æŸ¥æ‰¾è¦†ç›–ä¼˜å…ˆçº§"></a>10.2.2. æŸ¥æ‰¾è¦†ç›–ä¼˜å…ˆçº§</h3><p>é…ç½®æ–‡ä»¶æŸ¥æ‰¾ä½ç½®ï¼š<span style="background-color:#f0f">æŸ¥æ‰¾è¦†ç›–é¡ºåºï¼šä¼˜å…ˆçº§é€çº§å˜é«˜</span></p><pre><code>        1. classpath æ ¹è·¯å¾„
        2. classpath æ ¹è·¯å¾„ä¸‹ config ç›®å½•
        3. jar åŒ…å½“å‰ç›®å½•
        4. jar åŒ…å½“å‰ç›®å½•çš„ config ç›®å½•
        5. /config å­ç›®å½•çš„ç›´æ¥å­ç›®å½•
</code></pre><h3 id="10-2-3-åŠ è½½ç”Ÿæ•ˆä¼˜å…ˆçº§"><a href="#10-2-3-åŠ è½½ç”Ÿæ•ˆä¼˜å…ˆçº§" class="headerlink" title="10.2.3. åŠ è½½ç”Ÿæ•ˆä¼˜å…ˆçº§"></a>10.2.3. åŠ è½½ç”Ÿæ•ˆä¼˜å…ˆçº§</h3><p>é…ç½®æ–‡ä»¶åŠ è½½é¡ºåºï¼š<span style="background-color:#f0f">åŠ è½½é¡ºåºï¼šå¤–éƒ¨&gt;å†…éƒ¨ã€åŠ  profile&gt;ä¸åŠ  profile</span></p><pre><code>        1.  å½“å‰ jar åŒ…å†…éƒ¨çš„ application.properties å’Œ application.yml
    ã€€2.  å½“å‰ jar åŒ…å†…éƒ¨çš„ application-&#123;profile&#125;.properties å’Œ application-&#123;profile&#125;.yml
    ã€€3. å¼•ç”¨çš„å¤–éƒ¨ jar åŒ…çš„ application.properties å’Œ application.yml
    ã€€4. å¼•ç”¨çš„å¤–éƒ¨ jar åŒ…çš„ application-&#123;profile&#125;.properties å’Œ application-&#123;profile&#125;.yml
</code></pre><h3 id="10-2-4-å®˜æ–¹æ–‡æ¡£"><a href="#10-2-4-å®˜æ–¹æ–‡æ¡£" class="headerlink" title="10.2.4. å®˜æ–¹æ–‡æ¡£"></a>10.2.4. å®˜æ–¹æ–‡æ¡£</h3><p><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config">https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config</a></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230225114206.png" alt="image.png"></p><p><span style="background-color:#f0f">æŒ‡å®šç¯å¢ƒä¼˜å…ˆï¼Œå¤–éƒ¨ä¼˜å…ˆï¼Œåé¢çš„å¯ä»¥è¦†ç›–å‰é¢çš„åŒåé…ç½®é¡¹</span></p><h3 id="10-2-5-æ¡ˆä¾‹"><a href="#10-2-5-æ¡ˆä¾‹" class="headerlink" title="10.2.5. æ¡ˆä¾‹"></a>10.2.5. æ¡ˆä¾‹</h3><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230225112420.png" alt="image.png"></p><h1 id="11-SpringBoot-çš„é»˜è®¤æ—¥å¿—å®ç°æ¡†æ¶åŠåˆ‡æ¢"><a href="#11-SpringBoot-çš„é»˜è®¤æ—¥å¿—å®ç°æ¡†æ¶åŠåˆ‡æ¢" class="headerlink" title="11. SpringBoot çš„é»˜è®¤æ—¥å¿—å®ç°æ¡†æ¶åŠåˆ‡æ¢"></a>11. SpringBoot çš„é»˜è®¤æ—¥å¿—å®ç°æ¡†æ¶åŠåˆ‡æ¢</h1><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1mf4y1c7cV?p=82&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV1mf4y1c7cV?p=82&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a></p><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Et411Y7tQ?p=23&amp;spm_id_from=pageDriver&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV1Et411Y7tQ?p=23&amp;spm_id_from=pageDriver&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a><br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230225115626.png" alt="image.png"></p><h2 id="11-1-SpringBoot-æ—¥å¿—æ¡†æ¶"><a href="#11-1-SpringBoot-æ—¥å¿—æ¡†æ¶" class="headerlink" title="11.1. SpringBoot æ—¥å¿—æ¡†æ¶"></a>11.1. SpringBoot æ—¥å¿—æ¡†æ¶</h2><p>1.Â SpringBoot åº•å±‚ä½¿ç”¨ slf4j+logback çš„æ–¹å¼è¿›è¡Œæ—¥å¿—è®°å½•<br>logback æ¡¥æ¥ï¼šlogback-classic<br>2.Â SpringBoot åŒæ—¶ä¹ŸæŠŠå…¶ä»–çš„æ—¥å¿—éƒ½æ›¿æ¢æˆäº† slf4jï¼›<br>a.Â log4j2Â é€‚é…ï¼šÂ log4j-over-slf4jÂ Â Â (é»˜è®¤æä¾›äº†é€‚é…å™¨ï¼Œå¦‚æœåˆ‡æ¢ log4j2 åªéœ€è¦æ›´æ¢åœºæ™¯å¯åŠ¨å™¨å³å¯)<br>b.Â jul é€‚é…ï¼šjul-to-slf4jÂ <br>c. jcl é€‚é…ï¼šjcl-over-slf4j<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230326121315.png"></p><h2 id="11-2-å°†-logback-åˆ‡æ¢æˆ-log4j2"><a href="#11-2-å°†-logback-åˆ‡æ¢æˆ-log4j2" class="headerlink" title="11.2. å°†Â logback åˆ‡æ¢æˆ log4j2"></a>11.2. å°†Â logback åˆ‡æ¢æˆ log4j2</h2><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230326130656.png" alt="image.png"></p><p>1.Â å°† logback çš„åœºæ™¯å¯åŠ¨å™¨æ’é™¤ï¼ˆslf4j åªèƒ½è¿è¡Œæœ‰ 1 ä¸ªæ¡¥æ¥å™¨ï¼‰<br>2.Â æ·»åŠ  log4j2 çš„åœºæ™¯å¯åŠ¨å™¨<br>3.Â æ·»åŠ  log4j2 çš„é…ç½®æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">exclusions</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- æ’é™¤æ‰logbackçš„ä¾èµ–--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-logging<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">exclusions</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- æ·»åŠ log4j2ä¾èµ–--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-log4j2<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h2 id="11-3-å°†-logback-åˆ‡æ¢æˆ-log4j"><a href="#11-3-å°†-logback-åˆ‡æ¢æˆ-log4j" class="headerlink" title="11.3. å°†Â logback åˆ‡æ¢æˆ log4j"></a>11.3. å°†Â logback åˆ‡æ¢æˆ log4j</h2><p>1.Â è¦å°† logback çš„æ¡¥æ¥å™¨æ’é™¤</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">exclusions</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>logback-classic<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>ch.qos.logback<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>		<span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">exclusions</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>2.Â æ·»åŠ  log4j çš„æ¡¥æ¥å™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>slf4jâ€log4j12<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>3.Â æ·»åŠ  log4j çš„é…ç½®æ–‡ä»¶</p><h1 id="12-å®¹å™¨"><a href="#12-å®¹å™¨" class="headerlink" title="12. å®¹å™¨"></a>12. å®¹å™¨</h1><p>åœ¨ Web ç¯å¢ƒä¸­æ˜¯ç”± Spring å’Œ SpringMvc ä¸¤ä¸ªå®¹å™¨ç»„æˆçš„ï¼Œåœ¨ SpringBoot ç¯å¢ƒä¸­åªæœ‰ä¸€ä¸ªå®¹å™¨ AnnotationConfigEmbeddedWebApplicationContextã€‚ä¹Ÿå°±æ˜¯å¯ä»¥è¯´æ˜¯ç”± SpringBoot å®¹å™¨ç®¡ç†çš„ã€‚</p><h2 id="12-1-é…ç½®åµŒå…¥å¼-Servlet-å®¹å™¨"><a href="#12-1-é…ç½®åµŒå…¥å¼-Servlet-å®¹å™¨" class="headerlink" title="12.1. é…ç½®åµŒå…¥å¼ Servlet å®¹å™¨"></a>12.1. é…ç½®åµŒå…¥å¼ Servlet å®¹å™¨</h2><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230222080746.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230222080710.png" alt="image.png"></p><h2 id="12-2-åµŒå…¥å¼-Servlet-å®¹å™¨è‡ªåŠ¨é…ç½®åŸç†-v1â­ï¸ğŸ”´"><a href="#12-2-åµŒå…¥å¼-Servlet-å®¹å™¨è‡ªåŠ¨é…ç½®åŸç†-v1â­ï¸ğŸ”´" class="headerlink" title="12.2. åµŒå…¥å¼ Servlet å®¹å™¨è‡ªåŠ¨é…ç½®åŸç† v1â­ï¸ğŸ”´"></a>12.2. åµŒå…¥å¼ Servlet å®¹å™¨è‡ªåŠ¨é…ç½®åŸç† v1â­ï¸ğŸ”´</h2><p><span style="display:none">%%<br>â–¶8.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230302-1057%%</span><br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Et411Y7tQ?p=48&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV1Et411Y7tQ?p=48&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a><br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230223220427.png" alt="image.png"> ^17d8bq</p><h3 id="12-2-1-å¼•å…¥ä¾èµ–è§¦å‘è‡ªåŠ¨é…ç½®"><a href="#12-2-1-å¼•å…¥ä¾èµ–è§¦å‘è‡ªåŠ¨é…ç½®" class="headerlink" title="12.2.1. å¼•å…¥ä¾èµ–è§¦å‘è‡ªåŠ¨é…ç½®"></a>12.2.1. å¼•å…¥ä¾èµ–è§¦å‘è‡ªåŠ¨é…ç½®</h3><p>Â å½“åŠ å…¥ <code>Spring-boot-starter-web</code> åœºæ™¯å¯åŠ¨å™¨ä¾èµ–æ—¶ï¼Œ<code>@ConditionalOnWebApplication</code> æ³¨è§£ä¼šè§¦å‘ EmbeddedServletContainerAutoConfiguration è‡ªåŠ¨é…ç½®ç±»å¼€å¯åµŒå…¥å¼ Servlet å®¹å™¨é…ç½®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE)</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@ConditionalOnWebApplication</span><br><span class="hljs-meta">@Import(BeanPostProcessorsRegistrar.class)</span><br><span class="hljs-comment">//ç»™å®¹å™¨å¯¼å…¥ç»„ä»¶ åç½®å¤„ç†å™¨ åœ¨Beanåˆå§‹åŒ–å‰åæ‰§è¡Œå‰ç½®åç½®çš„é€»è¾‘ åˆ›å»ºå®Œå¯¹è±¡è¿˜æ²¡å±æ€§èµ‹å€¼è¿›è¡Œåˆå§‹åŒ–å·¥ä½œ</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmbeddedServletContainerAutoConfiguration</span> &#123;<br>    <span class="hljs-meta">@Configuration</span><br>	<span class="hljs-meta">@ConditionalOnClass(&#123; Servlet.class, Tomcat.class &#125;)</span><span class="hljs-comment">//å½“å‰æ˜¯å¦å¼•å…¥tomcatä¾èµ–</span><br>    <span class="hljs-comment">//åˆ¤æ–­å½“å‰å®¹å™¨æ²¡æœ‰ç”¨æˆ·è‡ªå®šä¹‰EmbeddedServletContainerFactoryï¼Œå°±ä¼šåˆ›å»ºé»˜è®¤çš„åµŒå…¥å¼å®¹å™¨</span><br>	<span class="hljs-meta">@ConditionalOnMissingBean(value = EmbeddedServletContainerFactory.class, search = SearchStrategy.CURRENT)</span><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmbeddedTomcat</span> &#123;<br><br>		<span class="hljs-meta">@Bean</span><br>		<span class="hljs-keyword">public</span> TomcatEmbeddedServletContainerFactory <span class="hljs-title function_">tomcatEmbeddedServletContainerFactory</span><span class="hljs-params">()</span> &#123;<br>			<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TomcatEmbeddedServletContainerFactory</span>();<br>		&#125;<br></code></pre></td></tr></table></figure><h3 id="12-2-2-åˆ›å»ºé»˜è®¤çš„åµŒå…¥å¼å®¹å™¨-EmbeddedServletContainerFactory"><a href="#12-2-2-åˆ›å»ºé»˜è®¤çš„åµŒå…¥å¼å®¹å™¨-EmbeddedServletContainerFactory" class="headerlink" title="12.2.2. åˆ›å»ºé»˜è®¤çš„åµŒå…¥å¼å®¹å™¨ -EmbeddedServletContainerFactory"></a>12.2.2. åˆ›å»ºé»˜è®¤çš„åµŒå…¥å¼å®¹å™¨ -EmbeddedServletContainerFactory</h3><p>å¦‚æœå½“å‰å®¹å™¨æ²¡æœ‰ç”¨æˆ·è‡ªå®šä¹‰ EmbeddedServletContainerFactoryï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ TomcatEmbeddedServletContainerFactoryï¼Œç”¨æ¥åˆ›å»ºåµŒå…¥å¼å®¹å™¨ï¼Œé»˜è®¤ä¸º Tomcatï¼Œä¹Ÿæ”¯æŒå…¶ä»–åµŒå…¥å¼å®¹å™¨ï¼Œ3 ç§å·¥å‚åˆ†åˆ«å¯ä»¥åˆ›å»º 3 ç§ EmbeddedServletContainerï¼Œç»§æ‰¿å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230222085416.jpg" alt="24.EmdServletFactory"></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230222085423.jpg" alt="25.EmdServletContainer"></p><p>ä»¥ TomcatEmbeddedServletContainerFactory ä¸ºä¾‹ï¼Œ<span style="background-color:#0f0">new äº†ä¸€ä¸ª Tomcat å‡ºæ¥</span>å¹¶é…ç½®ï¼Œç„¶åä¼ å…¥ <code>getTomcatEmbeddedServletContainer</code> æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­ä¼šå¯åŠ¨ Tomcatã€‚SpringBoot2 ä¸­è¯¥æ–¹æ³•åå­—ä¸º getWebServerã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> EmbeddedServletContainer <span class="hljs-title function_">getEmbeddedServletContainer</span><span class="hljs-params">(</span><br><span class="hljs-params">      ServletContextInitializer... initializers)</span> &#123;<br>   <span class="hljs-type">Tomcat</span> <span class="hljs-variable">tomcat</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Tomcat</span>();<br>    <span class="hljs-comment">//é…ç½®tomcatçš„åŸºæœ¬ç¯èŠ‚</span><br>   <span class="hljs-type">File</span> <span class="hljs-variable">baseDir</span> <span class="hljs-operator">=</span> (<span class="hljs-built_in">this</span>.baseDirectory != <span class="hljs-literal">null</span> ? <span class="hljs-built_in">this</span>.baseDirectory<br>         : createTempDir(<span class="hljs-string">&quot;tomcat&quot;</span>));<br>   tomcat.setBaseDir(baseDir.getAbsolutePath());<br>   <span class="hljs-type">Connector</span> <span class="hljs-variable">connector</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Connector</span>(<span class="hljs-built_in">this</span>.protocol);<br>   tomcat.getService().addConnector(connector);<br>   customizeConnector(connector);<br>   tomcat.setConnector(connector);<br>   tomcat.getHost().setAutoDeploy(<span class="hljs-literal">false</span>);<br>   configureEngine(tomcat.getEngine());<br>   <span class="hljs-keyword">for</span> (Connector additionalConnector : <span class="hljs-built_in">this</span>.additionalTomcatConnectors) &#123;<br>      tomcat.getService().addConnector(additionalConnector);<br>   &#125;<br>   prepareContext(tomcat.getHost(), initializers);<br>    <span class="hljs-comment">//å°†é…ç½®å¥½çš„tomcatä¼ å…¥è¿›å»ï¼›å¹¶ä¸”å¯åŠ¨tomcatå®¹å™¨</span><br>   <span class="hljs-keyword">return</span> getTomcatEmbeddedServletContainer(tomcat);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="12-2-3-åµŒå…¥å¼é…ç½®è‡ªåŠ¨è§£ææ–¹å¼-EmbeddedServletContainerCustomizerBeanPostProcessor"><a href="#12-2-3-åµŒå…¥å¼é…ç½®è‡ªåŠ¨è§£ææ–¹å¼-EmbeddedServletContainerCustomizerBeanPostProcessor" class="headerlink" title="12.2.3. åµŒå…¥å¼é…ç½®è‡ªåŠ¨è§£ææ–¹å¼ -EmbeddedServletContainerCustomizerBeanPostProcessor"></a>12.2.3. åµŒå…¥å¼é…ç½®è‡ªåŠ¨è§£ææ–¹å¼ -EmbeddedServletContainerCustomizerBeanPostProcessor</h3><p>æœ‰ 2 ç§æ–¹å¼ï¼šServerPropertiesã€EmbeddedServletContainerCustomizer</p><p><strong>EmbeddedServletContainerCustomizer è‡ªåŠ¨åº”ç”¨ Servlet å®¹å™¨é…ç½®åŸç†</strong>ï¼š<br>æ˜¯é€šè¿‡ <strong>EmbeddedServletContainerCustomizerBeanPostProcessor</strong> æ¥å®Œæˆçš„</p><p>å®¹å™¨åœ¨é…ç½®ç±» <code>EmbeddedServletContainerAutoConfiguration</code> ä¸­é€šè¿‡ <code>@Import(BeanPostProcessorsRegistrar.class)</code> å¯¼å…¥äº† <strong>EmbeddedServletContainerCustomizerBeanPostProcessor</strong>ï¼Œåœ¨ <code>postProcessBeforeInitialization</code> æ–¹æ³•ä¸­ï¼Œåˆ¤æ–­å¦‚æœå½“å‰åˆå§‹åŒ–çš„æ˜¯ä¸€ä¸ª ConfigurableEmbeddedServletContainerï¼Œå°±ä¼šè·å–æ‰€æœ‰çš„å®šåˆ¶å™¨ï¼Œè°ƒç”¨æ¯ä¸ªå®šåˆ¶å™¨çš„ customer æ–¹æ³•ç»™ Servlet å®¹å™¨è¿›è¡Œèµ‹å€¼ã€‚</p><p><code>BeanPostProcessorsRegistrar.registerBeanDefinitions</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerBeanDefinitions</span><span class="hljs-params">(AnnotationMetadata importingClassMetadata,</span><br><span class="hljs-params">      BeanDefinitionRegistry registry)</span> &#123;<br>   <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.beanFactory == <span class="hljs-literal">null</span>) &#123;<br>      <span class="hljs-keyword">return</span>;<br>   &#125;<br>   registerSyntheticBeanIfMissing(registry,<br>         <span class="hljs-string">&quot;embeddedServletContainerCustomizerBeanPostProcessor&quot;</span>,<br>         EmbeddedServletContainerCustomizerBeanPostProcessor.class);<br>   registerSyntheticBeanIfMissing(registry,<br>         <span class="hljs-string">&quot;errorPageRegistrarBeanPostProcessor&quot;</span>,<br>         ErrorPageRegistrarBeanPostProcessor.class);<br>&#125;<br></code></pre></td></tr></table></figure><p><code>EmbeddedServletContainerCustomizerBeanPostProcessor.postProcessBeforeInitialization</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> Object <span class="hljs-title function_">postProcessBeforeInitialization</span><span class="hljs-params">(Object bean, String beanName)</span><br>      <span class="hljs-keyword">throws</span> BeansException &#123;<br>    <span class="hljs-comment">//å¦‚æœå½“å‰åˆå§‹åŒ–çš„æ˜¯ä¸€ä¸ªConfigurableEmbeddedServletContainer</span><br>   <span class="hljs-keyword">if</span> (bean <span class="hljs-keyword">instanceof</span> ConfigurableEmbeddedServletContainer) &#123;<br>      postProcessBeforeInitialization((ConfigurableEmbeddedServletContainer) bean);<br>   &#125;<br>   <span class="hljs-keyword">return</span> bean;<br>&#125;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postProcessBeforeInitialization</span><span class="hljs-params">(</span><br><span class="hljs-params">    ConfigurableEmbeddedServletContainer bean)</span> &#123;<br>    <span class="hljs-comment">//è·å–æ‰€æœ‰çš„å®šåˆ¶å™¨ï¼Œè°ƒç”¨æ¯ä¸ªå®šåˆ¶å™¨çš„customeræ–¹æ³•ç»™Servletå®¹å™¨è¿›è¡Œèµ‹å€¼</span><br>    <span class="hljs-keyword">for</span> (EmbeddedServletContainerCustomizer customizer : getCustomizers()) &#123;<br>        customizer.customize(bean);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">private</span> Collection&lt;EmbeddedServletContainerCustomizer&gt; <span class="hljs-title function_">getCustomizers</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.customizers == <span class="hljs-literal">null</span>) &#123;<br>        <span class="hljs-comment">// Look up does not include the parent context</span><br>        <span class="hljs-built_in">this</span>.customizers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;EmbeddedServletContainerCustomizer&gt;(<br>            <span class="hljs-built_in">this</span>.beanFactory<br>            <span class="hljs-comment">//ä»å®¹å™¨ä¸­è·å–æ‰€æœ‰çš„è¿™ä¸ªç±»å‹çš„ç»„ä»¶ï¼šEmbeddedServletContainerCustomizer</span><br>            <span class="hljs-comment">//å®šåˆ¶Servlet,ç»™å®¹å™¨ä¸­å¯ä»¥æ·»åŠ ä¸€ä¸ªEmbeddedServletContainerCustomizerç±»å‹çš„ç»„ä»¶</span><br>            .getBeansOfType(EmbeddedServletContainerCustomizer.class,<br>                            <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>)<br>            .values());<br>        Collections.sort(<span class="hljs-built_in">this</span>.customizers, AnnotationAwareOrderComparator.INSTANCE);<br>        <span class="hljs-built_in">this</span>.customizers = Collections.unmodifiableList(<span class="hljs-built_in">this</span>.customizers);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.customizers;<br>&#125;<br></code></pre></td></tr></table></figure><p><span style="background-color:#0f0">è€Œ ServerProperties ä¹Ÿæ˜¯ EmbeddedServletContainerCustomizer å®ç°ç±»ï¼Œæ‰€ä»¥ä¹Ÿä¼šè¢«è‡ªåŠ¨é…ç½®</span><br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230222094902.png" alt="image.png"></p><h3 id="12-2-4-æ€»ç»“"><a href="#12-2-4-æ€»ç»“" class="headerlink" title="12.2.4. æ€»ç»“"></a>12.2.4. æ€»ç»“</h3><p>1ï¼‰ã€SpringBoot æ ¹æ®å¯¼å…¥çš„ä¾èµ–æƒ…å†µï¼Œç»™å®¹å™¨ä¸­æ·»åŠ å“åº”çš„å®¹å™¨å·¥å‚æ¯”å¦‚ tomcat<br>å¯¹åº”çš„ <code>TomcatEmbeddedServletContainerFactory</code></p><p>2ï¼‰ã€å®¹å™¨ä¸­æŸä¸ªç»„ä»¶è¦åˆ›å»ºå¯¹è±¡å°±è¦é€šè¿‡åç½®å¤„ç†å™¨ï¼›<br><code>EmbeddedServletContainerCustomizerBeanPostProcessor</code><br>åªè¦æ˜¯åµŒå…¥å¼çš„ Servlet å®¹å™¨å·¥å‚ï¼Œåç½®å¤„ç†å™¨å°±å·¥ä½œï¼›</p><p>3ï¼‰ã€åç½®å¤„ç†å™¨ï¼Œä»å®¹å™¨ä¸­è·å–çš„æ‰€æœ‰çš„ EmbeddedServletContainerCustomizerï¼Œè°ƒç”¨å®šåˆ¶å™¨çš„å®šåˆ¶æ–¹æ³•</p><h2 id="12-3-å®šåˆ¶åŒ–åŸç†"><a href="#12-3-å®šåˆ¶åŒ–åŸç†" class="headerlink" title="12.3. å®šåˆ¶åŒ–åŸç†"></a>12.3. å®šåˆ¶åŒ–åŸç†</h2><ol><li>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼›</li><li>xxxxxCustomizerï¼›</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyWebServerFactoryCustomizer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebServerFactoryCustomizer</span>&lt;ConfigurableServletWebServerFactory&gt; &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">customize</span><span class="hljs-params">(ConfigurableServletWebServerFactory server)</span> &#123;<br>        server.setPort(<span class="hljs-number">9000</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="3"><li>ç¼–å†™è‡ªå®šä¹‰çš„é…ç½®ç±» xxxConfigurationï¼›+ @Bean æ›¿æ¢ã€å¢åŠ å®¹å™¨ä¸­é»˜è®¤ç»„ä»¶ï¼›è§†å›¾è§£æå™¨</li><li>Web åº”ç”¨ç¼–å†™ä¸€ä¸ªé…ç½®ç±»å®ç° <code>WebMvcConfigurer</code> å³å¯å®šåˆ¶åŒ– web åŠŸèƒ½ï¼›+ <code>@Bean</code> ç»™å®¹å™¨ä¸­å†æ‰©å±•ä¸€äº›ç»„ä»¶</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AdminWebConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span><br></code></pre></td></tr></table></figure><ol start="5"><li>@EnableWebMvc + WebMvcConfigurer â€”â€” @Bean å¯ä»¥å…¨é¢æ¥ç®¡ SpringMVCï¼Œæ‰€æœ‰è§„åˆ™å…¨éƒ¨è‡ªå·±é‡æ–°é…ç½®ï¼›å®ç°å®šåˆ¶å’Œæ‰©å±•åŠŸèƒ½<br>â—‹ åŸç†<br>â—‹ 1ã€WebMvcAutoConfiguration é»˜è®¤çš„ SpringMVC çš„è‡ªåŠ¨é…ç½®åŠŸèƒ½ç±»ã€‚é™æ€èµ„æºã€æ¬¢è¿é¡µâ€¦..<br>â—‹ 2ã€ä¸€æ—¦ä½¿ç”¨ @EnableWebMvc ä¼š@Import(<code>DelegatingWebMvcConfiguration.class</code>)<br>â—‹ 3ã€DelegatingWebMvcConfiguration çš„ä½œç”¨ï¼Œåªä¿è¯ SpringMVC æœ€åŸºæœ¬çš„ä½¿ç”¨<br>â–  æŠŠæ‰€æœ‰ç³»ç»Ÿä¸­çš„ WebMvcConfigurer æ‹¿è¿‡æ¥ã€‚æ‰€æœ‰åŠŸèƒ½çš„å®šåˆ¶éƒ½æ˜¯è¿™äº› WebMvcConfigurer åˆèµ·æ¥ä¸€èµ·ç”Ÿæ•ˆ<br>â–  è‡ªåŠ¨é…ç½®äº†ä¸€äº›éå¸¸åº•å±‚çš„ç»„ä»¶ã€‚RequestMappingHandlerMappingã€è¿™äº›ç»„ä»¶ä¾èµ–çš„ç»„ä»¶éƒ½æ˜¯ä»å®¹å™¨ä¸­è·å–<br>â–  public class DelegatingWebMvcConfiguration extends <code>WebMvcConfigurationSupport</code><br>â—‹ 4ã€WebMvcAutoConfiguration é‡Œé¢çš„é…ç½®è¦èƒ½ç”Ÿæ•ˆå¿…é¡» <span style="background-color:#f0f">@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)</span><br>â—‹ 5ã€@EnableWebMvc å¯¼è‡´äº† WebMvcAutoConfiguration æ²¡æœ‰ç”Ÿæ•ˆã€‚</li></ol><h1 id="13-Java-Config"><a href="#13-Java-Config" class="headerlink" title="13. Java Config"></a>13. Java Config</h1><h2 id="13-1-Configuration-proxyBeanMethods-x3D-false"><a href="#13-1-Configuration-proxyBeanMethods-x3D-false" class="headerlink" title="13.1. @Configuration(proxyBeanMethods &#x3D; false)"></a>13.1. @Configuration(proxyBeanMethods &#x3D; false)</h2><p>lite æ¨¡å¼ä¸‹ï¼Œç›´æ¥è¿”å›æ–°å®ä¾‹å¯¹è±¡ï¼Œä¸ç”¨ç”Ÿæˆä»£ç†ã€‚</p><p>Spring 5.2.0+ çš„ç‰ˆæœ¬ï¼Œå»ºè®®ä½ çš„é…ç½®ç±»å‡é‡‡ç”¨ Lite æ¨¡å¼å»åšï¼Œå³æ˜¾ç¤ºè®¾ç½® <code>proxyBeanMethods = false</code>ã€‚Spring Boot åœ¨ 2.2.0 ç‰ˆæœ¬ï¼ˆä¾èµ–äº Spring 5.2.0ï¼‰èµ·å°±æŠŠå®ƒçš„æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ç±»çš„æ­¤å±æ€§æ”¹ä¸ºäº† falseï¼Œå³@Configuration(proxyBeanMethods &#x3D; false)ï¼Œç›®çš„æ˜¯ä¸ºäº†æé«˜ Spring å¯åŠ¨é€Ÿåº¦</p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yunxing323/article/details/108655250">https://blog.csdn.net/yunxing323/article/details/108655250</a></p><h2 id="13-2-Import"><a href="#13-2-Import" class="headerlink" title="13.2. @Import"></a>13.2. @Import</h2><p><img src="https://github.com/TaylorLuo/typora-imgs/raw/master/img/image-20210921204122547.png" alt="image-20210921204122547"></p><h1 id="14-Rest-åŸç†"><a href="#14-Rest-åŸç†" class="headerlink" title="14. Rest åŸç†"></a>14. Rest åŸç†</h1><h2 id="14-1-filter-wrapper"><a href="#14-1-filter-wrapper" class="headerlink" title="14.1. filter+wrapper"></a>14.1. filter+wrapper</h2><p><img src="https://github.com/TaylorLuo/typora-imgs/raw/master/img/image-20210921060612553.png" alt="image-20210921060612553"><br>Rest åŸç†ï¼ˆè¡¨å•æäº¤è¦ä½¿ç”¨ REST çš„æ—¶å€™ï¼‰<br>â— è¡¨å•æäº¤ä¼šå¸¦ä¸Š <code>_method=PUT</code><br>â— è¯·æ±‚è¿‡æ¥è¢« <code>HiddenHttpMethodFilter</code> æ‹¦æˆª<br>â—‹ è¯·æ±‚æ˜¯å¦æ­£å¸¸ï¼Œå¹¶ä¸”æ˜¯ POST<br>â–  è·å–åˆ° _method çš„å€¼ã€‚<br>â–  å…¼å®¹ä»¥ä¸‹è¯·æ±‚ï¼›<code>PUTã€DELETEã€PATCH</code><br>â–  åŸç”Ÿ requestï¼ˆpostï¼‰ï¼ŒåŒ…è£…æ¨¡å¼ <code>requesWrapper</code> é‡å†™äº† getMethod æ–¹æ³•ï¼Œè¿”å›çš„æ˜¯ä¼ å…¥çš„å€¼ã€‚<br>â–  è¿‡æ»¤å™¨é“¾æ”¾è¡Œçš„æ—¶å€™ç”¨ wrapperã€‚ä»¥åçš„æ–¹æ³•è°ƒç”¨ getMethod æ˜¯è°ƒç”¨ requesWrapper çš„ã€‚</p><p><img src="https://github.com/TaylorLuo/typora-imgs/raw/master/img/image-20210921060523227.png" alt="image-20210921060523227"></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230324190828.png" alt="image.png"></p><p>Rest ä½¿ç”¨å®¢æˆ·ç«¯å·¥å…·ï¼Œ<br>â— å¦‚ PostMan ç›´æ¥å‘é€ Putã€delete ç­‰æ–¹å¼è¯·æ±‚ï¼Œæ— éœ€ Filterï¼Œä½†è¦æ³¨æ„æ–¹å¼å¯ç”¨å–å€¼ä¸º <code>GETã€PUTã€DELETEã€PATCH</code>ã€‚</p><h2 id="14-2-è‡ªå®šä¹‰éšè—åŸŸåç§°"><a href="#14-2-è‡ªå®šä¹‰éšè—åŸŸåç§°" class="headerlink" title="14.2. è‡ªå®šä¹‰éšè—åŸŸåç§°"></a>14.2. è‡ªå®šä¹‰éšè—åŸŸåç§°</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è‡ªå®šä¹‰filter</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> HiddenHttpMethodFilter <span class="hljs-title function_">hiddenHttpMethodFilter</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">HiddenHttpMethodFilter</span> <span class="hljs-variable">methodFilter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HiddenHttpMethodFilter</span>();<br>        methodFilter.setMethodParam(<span class="hljs-string">&quot;_m&quot;</span>);<br>        <span class="hljs-keyword">return</span> methodFilter;<br>    &#125;<br></code></pre></td></tr></table></figure><h1 id="15-è¯·æ±‚æ˜ å°„åŸç†â­ï¸ğŸ”´"><a href="#15-è¯·æ±‚æ˜ å°„åŸç†â­ï¸ğŸ”´" class="headerlink" title="15. è¯·æ±‚æ˜ å°„åŸç†â­ï¸ğŸ”´"></a>15. è¯·æ±‚æ˜ å°„åŸç†â­ï¸ğŸ”´</h1><p><span style="display:none">%%<br>â–¶1.ğŸ¡â­ï¸â—¼ï¸ã€ğŸŒˆè´¹æ›¼æ— æ•ŒğŸŒˆâ­ï¸ç¬¬ä¸€æ­¥â­ï¸ã€‘â—¼ï¸â­ï¸-point-20230410-0835%%</span>â• ^ijjhr0</p><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Et411Y7tQ?p=139&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV1Et411Y7tQ?p=139&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a></p><p>DispatchServlet</p><p><img src="https://github.com/TaylorLuo/typora-imgs/raw/master/img/image-20210921061541902.png" alt="image-20210921061541902"></p><h2 id="15-1-è¯·æ±‚è·¯å¾„"><a href="#15-1-è¯·æ±‚è·¯å¾„" class="headerlink" title="15.1. è¯·æ±‚è·¯å¾„"></a>15.1. è¯·æ±‚è·¯å¾„</h2><p><code>HttpServlet.doGet</code> â†’ <code>FrameworkServlet.processRequest</code> â†’ <code>FrameworkServlet.doService</code> â†’ <code>DispatcherServlet.doService</code> â†’ <code>DispatcherServlet.doDispatch</code> (æ¯ä¸ªè¯·æ±‚éƒ½ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•)</p><h2 id="15-2-æ‰§è¡Œé€»è¾‘"><a href="#15-2-æ‰§è¡Œé€»è¾‘" class="headerlink" title="15.2. æ‰§è¡Œé€»è¾‘"></a>15.2. æ‰§è¡Œé€»è¾‘</h2><h3 id="15-2-1-handlerMappings"><a href="#15-2-1-handlerMappings" class="headerlink" title="15.2.1. handlerMappings"></a>15.2.1. handlerMappings</h3><p><img src="https://github.com/TaylorLuo/typora-imgs/raw/master/img/image-20211011085954656.png" alt="image-20211011085954656"></p><p><img src="https://github.com/TaylorLuo/typora-imgs/raw/master/img/image-20211011091433222.png" alt="image-20211011091433222"></p><p>â— è¯·æ±‚è¿›æ¥ï¼ŒæŒ¨ä¸ªå°è¯•æ‰€æœ‰çš„ HandlerMapping çœ‹æ˜¯å¦æœ‰è¯·æ±‚ä¿¡æ¯ã€‚<br>â—‹ å¦‚æœæœ‰å°±æ‰¾åˆ°è¿™ä¸ªè¯·æ±‚å¯¹åº”çš„ handler<br>â—‹ å¦‚æœæ²¡æœ‰å°±æ˜¯ä¸‹ä¸€ä¸ª HandlerMapping</p><p><img src="https://github.com/TaylorLuo/typora-imgs/raw/master/img/image-20211011090131565.png" alt="image-20211011090131565"></p><h3 id="15-2-2-RequestMappingHeaderMapping"><a href="#15-2-2-RequestMappingHeaderMapping" class="headerlink" title="15.2.2. RequestMappingHeaderMapping"></a>15.2.2. RequestMappingHeaderMapping</h3><p>ä¿å­˜äº†æ‰€æœ‰@RequestMapping å’Œå¯¹åº” handler çš„æ‰€æœ‰æ˜ å°„å…³ç³»</p><p><img src="https://github.com/TaylorLuo/typora-imgs/raw/master/img/image-20211011090316527.png" alt="image-20211011090316527"></p><h3 id="15-2-3-è·å–-handler-é€»è¾‘"><a href="#15-2-3-è·å–-handler-é€»è¾‘" class="headerlink" title="15.2.3. è·å– handler é€»è¾‘"></a>15.2.3. è·å– handler é€»è¾‘</h3><h3 id="15-2-4-mappingRegistry"><a href="#15-2-4-mappingRegistry" class="headerlink" title="15.2.4. mappingRegistry"></a>15.2.4. mappingRegistry</h3><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230227103610.png" alt="image-20211011090316527"></p><p><img src="https://github.com/TaylorLuo/typora-imgs/raw/master/img/image-20211011090729432.png" alt="image-20211011090729432"></p><h1 id="16-å…¶ä»–"><a href="#16-å…¶ä»–" class="headerlink" title="16. å…¶ä»–"></a>16. å…¶ä»–</h1><h2 id="16-1-jar-åŒ…å¼•å…¥æ–¹å¼"><a href="#16-1-jar-åŒ…å¼•å…¥æ–¹å¼" class="headerlink" title="16.1. jar åŒ…å¼•å…¥æ–¹å¼"></a>16.1. jar åŒ…å¼•å…¥æ–¹å¼</h2><p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1500334">https://cloud.tencent.com/developer/article/1500334</a></p><h3 id="16-1-1-spring-boot-starter-parent"><a href="#16-1-1-spring-boot-starter-parent" class="headerlink" title="16.1.1. spring-boot-starter-parent"></a>16.1.1. spring-boot-starter-parent</h3><h3 id="16-1-2-spring-boot-dependencies"><a href="#16-1-2-spring-boot-dependencies" class="headerlink" title="16.1.2. spring-boot-dependencies"></a>16.1.2. spring-boot-dependencies</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/haohao_g/article/details/99695535">https://blog.csdn.net/haohao_g/article/details/99695535</a></p><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šå¯èƒ½æœ‰è‡ªå·±çš„ä¼ä¸šæ ‡å‡† parent</p><p>æˆ–è€…ä½ å¯èƒ½åªæ˜¯æ¯”è¾ƒå–œæ¬¢æ˜ç¡®å£°æ˜æ‰€æœ‰çš„ Maven é…ç½®</p><h2 id="16-2-å¤šç»§æ‰¿é—®é¢˜"><a href="#16-2-å¤šç»§æ‰¿é—®é¢˜" class="headerlink" title="16.2. å¤šç»§æ‰¿é—®é¢˜"></a>16.2. å¤šç»§æ‰¿é—®é¢˜</h2><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/7145f01ac3ad">https://www.jianshu.com/p/7145f01ac3ad</a></p><h2 id="16-3-dependencyManagement"><a href="#16-3-dependencyManagement" class="headerlink" title="16.3. dependencyManagement"></a>16.3. dependencyManagement</h2><p>dependencyManagement èŠ‚ç‚¹çš„ä½œç”¨æ˜¯ç»Ÿä¸€ maven å¼•å…¥ä¾èµ– JAR åŒ…çš„ç‰ˆæœ¬å·ï¼Œå¯ä»¥çœ‹å‡º spring-boot-dependencies æœ€é‡è¦çš„ä¸€ä¸ªä½œç”¨å°±æ˜¯å¯¹ springboot å¯èƒ½ç”¨åˆ°çš„ä¾èµ– JAR åŒ…åšäº†ç‰ˆæœ¬å·çš„æ§åˆ¶ç®¡ç†</p><h1 id="17-ä¸-Spring-çš„ä¸åŒä¹‹å¤„"><a href="#17-ä¸-Spring-çš„ä¸åŒä¹‹å¤„" class="headerlink" title="17. ä¸ Spring çš„ä¸åŒä¹‹å¤„"></a>17. ä¸ Spring çš„ä¸åŒä¹‹å¤„</h1><h2 id="17-1-åŠ¨æ€ä»£ç†"><a href="#17-1-åŠ¨æ€ä»£ç†" class="headerlink" title="17.1. åŠ¨æ€ä»£ç†"></a>17.1. åŠ¨æ€ä»£ç†</h2><ol><li>Spring æ˜¯åŠ¨æ€é€‰æ‹©çš„ï¼Œæœ‰æ¥å£å°±ç”¨ JDK åŠ¨æ€ä»£ç†ï¼Œå¦åˆ™ä½¿ç”¨ cglib åŠ¨æ€ä»£ç†<br>å¯ä»¥é€šè¿‡ <code>exproxy-target-class</code><a href="/2023/06/12/011-%E9%9D%A2%E8%AF%95%E9%A2%98%E4%B8%93%E9%A2%98/1%E3%80%81Spring-%E5%9F%BA%E7%A1%80/" title="1ã€Spring-åŸºç¡€">1ã€Spring-åŸºç¡€</a></li><li>SpringBoot é»˜è®¤æ˜¯ cglib åŠ¨æ€ä»£ç†</li></ol><h2 id="17-2-SpringMVC-å®¹å™¨â­ï¸ğŸ”´"><a href="#17-2-SpringMVC-å®¹å™¨â­ï¸ğŸ”´" class="headerlink" title="17.2. SpringMVC å®¹å™¨â­ï¸ğŸ”´"></a>17.2. SpringMVC å®¹å™¨â­ï¸ğŸ”´</h2><ol><li>Spring é›†æˆ SpringMVC æ˜¯é€šè¿‡ SPI æ–¹å¼æ³¨å†Œå­å®¹å™¨æ¥å®ç°é›†æˆ</li><li>SpringBoot é€šè¿‡@Bean æ³¨å†Œäº† DispatcherServletï¼Œå¹¶æ²¡æœ‰åƒ Spring é›†æˆ SpringMVC ä¸­é‚£æ ·ï¼Œé€šè¿‡ SPI çš„æ–¹å¼åˆ›å»ºå­å®¹å™¨</li></ol><h1 id="18-å‚è€ƒä¸æ„Ÿè°¢"><a href="#18-å‚è€ƒä¸æ„Ÿè°¢" class="headerlink" title="18. å‚è€ƒä¸æ„Ÿè°¢"></a>18. å‚è€ƒä¸æ„Ÿè°¢</h1><h2 id="18-1-SpringBoot"><a href="#18-1-SpringBoot" class="headerlink" title="18.1. SpringBoot"></a>18.1. SpringBoot</h2><h3 id="18-1-1-è§†é¢‘"><a href="#18-1-1-è§†é¢‘" class="headerlink" title="18.1.1. è§†é¢‘"></a>18.1.1. è§†é¢‘</h3><p>01ã€P112â€“P198 ä¸ºé›·ç¥ 2021 ç‰ˆ springboot2 æ•™ç¨‹ &lt;â€“ å»ºè®®ç›´æ¥çœ‹æ–°ç‰ˆ 02ã€2021 ç‰ˆç›´è¾¾é“¾æ¥: <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Et411Y7tQ?p=112&amp;spm_id_from=333.788.b_636f6d6d656e74.4">https://www.bilibili.com/video/BV1Et411Y7tQ?p=112&amp;spm_id_from=333.788.b_636f6d6d656e74.4</a><br>&#x2F;Volumes&#x2F;Seagate Bas&#x2F;001-ArchitectureRoad&#x2F;å°šç¡…è°· Springboot ç»å…¸ç‰ˆï¼ˆæ ¸å¿ƒæŠ€æœ¯ and æ•´åˆç¯‡ï¼‰&#x2F;æ ¸å¿ƒæŠ€æœ¯ç¯‡&#x2F;è§†é¢‘ 3&#x2F;è§†é¢‘ 3 ^yfxc8z</p><h3 id="18-1-2-ä»£ç "><a href="#18-1-2-ä»£ç " class="headerlink" title="18.1.2. ä»£ç "></a>18.1.2. ä»£ç </h3><p>&#x2F;Users&#x2F;taylor&#x2F;Nutstore Files&#x2F;Obsidian_data&#x2F;pages&#x2F;002-schdule&#x2F;001-Arch&#x2F;001-Subject&#x2F;013-DemoCode&#x2F;SpringBoot</p><h3 id="18-1-3-ç¬”è®°"><a href="#18-1-3-ç¬”è®°" class="headerlink" title="18.1.3. ç¬”è®°"></a>18.1.3. ç¬”è®°</h3><p>&#x2F;Users&#x2F;taylor&#x2F;Nutstore Files&#x2F;Obsidian_data&#x2F;pages&#x2F;002-schdule&#x2F;001-Arch&#x2F;001-Subject&#x2F;002- æ¡†æ¶æºç ä¸“é¢˜&#x2F;000-Spring&#x2F;SpringBoot<br>[[SpringBoot]]</p><h2 id="18-2-SpringBoot2"><a href="#18-2-SpringBoot2" class="headerlink" title="18.2. SpringBoot2"></a>18.2. SpringBoot2</h2><h3 id="18-2-1-è§†é¢‘"><a href="#18-2-1-è§†é¢‘" class="headerlink" title="18.2.1. è§†é¢‘"></a>18.2.1. è§†é¢‘</h3><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV19K4y1L7MT?p=58&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV19K4y1L7MT?p=58&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a></p><h3 id="18-2-2-ç¬”è®°"><a href="#18-2-2-ç¬”è®°" class="headerlink" title="18.2.2. ç¬”è®°"></a>18.2.2. ç¬”è®°</h3><p>è¯­é›€ï¼š <a target="_blank" rel="noopener" href="https://www.yuque.com/atguigu/springboot">https://www.yuque.com/atguigu/springboot</a></p><h3 id="18-2-3-ä»£ç "><a href="#18-2-3-ä»£ç " class="headerlink" title="18.2.3. ä»£ç "></a>18.2.3. ä»£ç </h3><p>&#x2F;Users&#x2F;taylor&#x2F;Nutstore Files&#x2F;Obsidian_data&#x2F;pages&#x2F;002-schdule&#x2F;001-Arch&#x2F;001-Subject&#x2F;013-DemoCode&#x2F;springboot2</p><h2 id="18-3-æ±‡æ€»"><a href="#18-3-æ±‡æ€»" class="headerlink" title="18.3. æ±‡æ€»"></a>18.3. æ±‡æ€»</h2><blockquote><p>01ã€P112â€“P198 ä¸ºé›·ç¥ 2021 ç‰ˆ springboot2 æ•™ç¨‹ &lt;â€“ å»ºè®®ç›´æ¥çœ‹æ–°ç‰ˆ 02ã€2021 ç‰ˆç›´è¾¾é“¾æ¥: <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Et411Y7tQ?p=112&amp;spm_id_from=333.788.b_636f6d6d656e74.4">https://www.bilibili.com/video/BV1Et411Y7tQ?p=112&amp;spm_id_from=333.788.b_636f6d6d656e74.4</a></p></blockquote><hr><p>2021 ç‰ˆé…å¥—ç¬”è®°åŠæºç ï¼š<br>é…å¥—æºç  - é›·ç¥ç äº‘åœ°å€ï¼š <a target="_blank" rel="noopener" href="https://gitee.com/leifengyang/springboot2">https://gitee.com/leifengyang/springboot2</a><br>é…å¥—ç¬”è®° - è¯­é›€åœ°å€ï¼š <a target="_blank" rel="noopener" href="https://yuque.com/atguigu/springboot">https://yuque.com/atguigu/springboot</a></p><hr><p>æ—§ç‰ˆé…å¥—æºç ã€æ–‡æ¡£ç­‰ï¼š<br>å°šç¡…è°· springboot æ ¸å¿ƒç¯‡ + æ•´åˆç¯‡é…å¥—èµ„æ–™<br>é“¾æ¥: <a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1Yfv05ncJoP_gOHB6cm9jdg">https://pan.baidu.com/s/1Yfv05ncJoP_gOHB6cm9jdg</a> æå–ç : 9h5i</p><h2 id="18-4-å…¶ä»–"><a href="#18-4-å…¶ä»–" class="headerlink" title="18.4. å…¶ä»–"></a>18.4. å…¶ä»–</h2><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1zh411H79h?p=4">https://www.bilibili.com/video/BV1zh411H79h?p=4</a></p><h2 id="18-5-Spring"><a href="#18-5-Spring" class="headerlink" title="18.5. Spring"></a>18.5. Spring</h2><a href="/2023/06/12/011-%E9%9D%A2%E8%AF%95%E9%A2%98%E4%B8%93%E9%A2%98/1%E3%80%81Spring-%E5%9F%BA%E7%A1%80/" title="1ã€Spring-åŸºç¡€">1ã€Spring-åŸºç¡€</a><h2 id="18-6-é»‘é©¬â­ï¸ğŸ”´âœ…"><a href="#18-6-é»‘é©¬â­ï¸ğŸ”´âœ…" class="headerlink" title="18.6. é»‘é©¬â­ï¸ğŸ”´âœ…"></a>18.6. é»‘é©¬â­ï¸ğŸ”´âœ…</h2><h3 id="18-6-1-è§†é¢‘"><a href="#18-6-1-è§†é¢‘" class="headerlink" title="18.6.1. è§†é¢‘"></a>18.6.1. è§†é¢‘</h3><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV15b4y1a7yG?p=169&amp;spm_id_from=pageDriver&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV15b4y1a7yG?p=169&amp;spm_id_from=pageDriver&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a></p><h3 id="18-6-2-èµ„æ–™"><a href="#18-6-2-èµ„æ–™" class="headerlink" title="18.6.2. èµ„æ–™"></a>18.6.2. èµ„æ–™</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">/Users/taylor/Nutstore Files/Obsidian_data/pages/<span class="hljs-number">002</span>-schdule/<span class="hljs-number">001</span>-Arch/<span class="hljs-number">001</span>-Subject/<span class="hljs-number">002</span>-æ¡†æ¶æºç ä¸“é¢˜/<span class="hljs-number">000</span>-Spring/SpringBoot/åŸç†ç¯‡-èµ„æ–™<br></code></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…:</span> <span class="post-copyright-info"><a href="https://taylorluo.github.io">Taylor Luo</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥:</span> <span class="post-copyright-info"><a href="https://taylorluo.github.io/2023/06/12/002-%E6%A1%86%E6%9E%B6%E6%BA%90%E7%A0%81%E4%B8%93%E9%A2%98/SpringBoot-1%E3%80%81%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/">https://taylorluo.github.io/2023/06/12/002-%E6%A1%86%E6%9E%B6%E6%BA%90%E7%A0%81%E4%B8%93%E9%A2%98/SpringBoot-1%E3%80%81%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜:</span> <span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://taylorluo.github.io" target="_blank">Taylor</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/timeline/">timeline</a></div><div class="post_share"><div class="social-share" data-image="https://picsum.photos/1920/962" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> æ‰“èµ</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="å¾®ä¿¡"></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="æ”¯ä»˜å®"></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/06/12/005-%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%93%E9%A2%98/%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86-10%E3%80%81%E9%99%90%E6%B5%81%E7%86%94%E6%96%AD%E9%99%8D%E7%BA%A7(%E6%9C%8D%E5%8A%A1%E4%BF%9D%E6%8A%A4)-Sentinel/"><img class="prev-cover" src="https://unpkg.com/justlovesmile-img/cover2.jpg" onerror='onerror=null,src="/null"' alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">æœåŠ¡æ²»ç†-10ã€é™æµç†”æ–­é™çº§(æœåŠ¡ä¿æŠ¤)-Sentinel</div></div></a></div><div class="next-post pull-right"><a href="/2023/06/12/011-%E9%9D%A2%E8%AF%95%E9%A2%98%E4%B8%93%E9%A2%98/1%E3%80%81Spring-%E5%9F%BA%E7%A1%80/"><img class="next-cover" src="https://unpkg.com/justlovesmile-img/cover1.JPG" onerror='onerror=null,src="/null"' alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">1ã€Spring-åŸºç¡€</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2023/02/06/001-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E4%B8%93%E9%A2%98/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-1%E3%80%81%E7%9B%B8%E5%85%B3%E5%90%8D%E8%AF%8D/" title="è®¡ç®—æœºåŸºç¡€-åŸºæœ¬åŸç†-1ã€ç›¸å…³åè¯"><img class="cover" src="https://picsum.photos/1920/952" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-07</div><div class="title">è®¡ç®—æœºåŸºç¡€-åŸºæœ¬åŸç†-1ã€ç›¸å…³åè¯</div></div></a></div><div><a href="/2023/03/27/002-%E6%A1%86%E6%9E%B6%E6%BA%90%E7%A0%81%E4%B8%93%E9%A2%98/JDK-1%E3%80%81SPI/" title="æ¡†æ¶æºç ä¸“é¢˜-JDK-1ã€SPI"><img class="cover" src="https://unpkg.com/justlovesmile-img/cover5.JPG" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-28</div><div class="title">æ¡†æ¶æºç ä¸“é¢˜-JDK-1ã€SPI</div></div></a></div><div><a href="/2023/03/18/002-%E6%A1%86%E6%9E%B6%E6%BA%90%E7%A0%81%E4%B8%93%E9%A2%98/MySQL-9%E3%80%81SQL%E5%BA%94%E7%94%A8%E4%BC%98%E5%8C%96/" title="æ¡†æ¶æºç ä¸“é¢˜-MySQL-9ã€SQLåº”ç”¨ä¼˜åŒ–"><img class="cover" src="https://picsum.photos/1920/1086" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-19</div><div class="title">æ¡†æ¶æºç ä¸“é¢˜-MySQL-9ã€SQLåº”ç”¨ä¼˜åŒ–</div></div></a></div><div><a href="/2023/01/28/002-%E6%A1%86%E6%9E%B6%E6%BA%90%E7%A0%81%E4%B8%93%E9%A2%98/Spring-7%E3%80%81%E6%89%A9%E5%B1%95%E7%82%B9/" title="æ¡†æ¶æºç ä¸“é¢˜-Spring-7ã€æ‰©å±•ç‚¹"><img class="cover" src="https://picsum.photos/1920/992" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-29</div><div class="title">æ¡†æ¶æºç ä¸“é¢˜-Spring-7ã€æ‰©å±•ç‚¹</div></div></a></div><div><a href="/2023/01/22/003-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E4%B8%93%E9%A2%98/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E4%B8%93%E9%A2%98-%E5%9F%BA%E7%A1%80-19%E3%80%81Queue/" title="å¹¶å‘ç¼–ç¨‹ä¸“é¢˜-åŸºç¡€-19ã€Queue"><img class="cover" src="https://unpkg.com/justlovesmile-img/cover3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-23</div><div class="title">å¹¶å‘ç¼–ç¨‹ä¸“é¢˜-åŸºç¡€-19ã€Queue</div></div></a></div><div><a href="/2023/03/08/006-%E6%9E%B6%E6%9E%84%E5%AE%9E%E6%88%98%E4%B8%93%E9%A2%98/%E6%9E%B6%E6%9E%84%E5%AE%9E%E6%88%98%E4%B8%93%E9%A2%98-%E5%9F%BA%E7%A1%80-1%E3%80%81%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B/" title="æ¶æ„å®æˆ˜ä¸“é¢˜-åŸºç¡€-1ã€æ¶æ„æ¼”è¿›"><img class="cover" src="https://picsum.photos/1920/1083" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-09</div><div class="title">æ¶æ„å®æˆ˜ä¸“é¢˜-åŸºç¡€-1ã€æ¶æ„æ¼”è¿›</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/index.jpeg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">Taylor Luo</div><div class="author-info__description">äººç”Ÿæµ·æµ· ä¸å¿˜åˆå¿ƒ</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">183</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">85</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">31</div></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-SpringBoot-%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-text">1. SpringBoot çš„ç‰¹æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86"><span class="toc-text">1.1. ä¾èµ–ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1-%E7%88%B6%E9%A1%B9%E7%9B%AE%E5%81%9A%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86"><span class="toc-text">1.1.1. çˆ¶é¡¹ç›®åšä¾èµ–ç®¡ç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-2-starter-%E5%9C%BA%E6%99%AF%E5%90%AF%E5%8A%A8%E5%99%A8"><span class="toc-text">1.1.2. starter åœºæ™¯å¯åŠ¨å™¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE"><span class="toc-text">1.2. è‡ªåŠ¨é…ç½®</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E8%B0%88%E8%B0%88%E4%BD%A0%E5%AF%B9-SpringBoot-%E7%9A%84%E7%90%86%E8%A7%A3-%E4%BC%98%E7%82%B9%E7%89%B9%E6%80%A7"><span class="toc-text">2. è°ˆè°ˆä½ å¯¹ SpringBoot çš„ç†è§£ (ä¼˜ç‚¹ç‰¹æ€§)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-SpringBoot-%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86-SpringBootApplication-%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">3. SpringBoot è‡ªåŠ¨é…ç½®åŸç† -@SpringBootApplication â­ï¸ğŸ”´</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E5%BC%95%E5%AF%BC%E5%8A%A0%E8%BD%BD%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="toc-text">3.1. å¼•å¯¼åŠ è½½è‡ªåŠ¨é…ç½®ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-1-SpringBootConfiguration"><span class="toc-text">3.1.1. @SpringBootConfiguration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-ComponentScan"><span class="toc-text">3.1.2. @ComponentScan</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-EnableAutoConfiguration"><span class="toc-text">3.1.3. @EnableAutoConfiguration</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-3-1-AutoConfigurationPackage"><span class="toc-text">3.1.3.1. @AutoConfigurationPackage</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-3-2-Import-AutoConfigurationImportSelector-class"><span class="toc-text">3.1.3.2. @Import(AutoConfigurationImportSelector.class)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-3-2-1-SPI-%E5%8E%9F%E7%90%86"><span class="toc-text">3.1.3.2.1. SPI åŸç†</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E6%8C%89%E9%9C%80%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="toc-text">3.2. æŒ‰éœ€å¼€å¯è‡ªåŠ¨é…ç½®é¡¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE"><span class="toc-text">3.3. ä¿®æ”¹é»˜è®¤é…ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-%E4%B8%8E-SpringMVC-%E9%85%8D%E7%BD%AE%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">3.4. ä¸ SpringMVC é…ç½®çš„åŒºåˆ«</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-1-%E5%85%B3%E4%BA%8E-JSON-%E7%BC%96%E7%A0%81%E9%85%8D%E7%BD%AE"><span class="toc-text">3.4.1. å…³äº JSON ç¼–ç é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-2-EnableAspectJAutoProxy%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">3.4.2. @EnableAspectJAutoProxyâ­ï¸ğŸ”´</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E6%80%BB%E7%BB%93"><span class="toc-text">3.5. è‡ªåŠ¨é…ç½®æ€»ç»“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-6-%E9%BB%91%E9%A9%AC%E8%A1%A5%E5%85%85"><span class="toc-text">3.6. é»‘é©¬è¡¥å……</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-SpringBoot-%E7%9A%84%E5%90%AF%E5%8A%A8%E5%8E%9F%E7%90%86%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">4. SpringBoot çš„å¯åŠ¨åŸç†â­ï¸ğŸ”´</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E5%88%9B%E5%BB%BA-SpringApplication"><span class="toc-text">4.1. åˆ›å»º SpringApplication</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E8%BF%90%E8%A1%8C-SpringApplication"><span class="toc-text">4.2. è¿è¡Œ SpringApplication</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-1-%E8%AE%B0%E5%BD%95%E5%BA%94%E7%94%A8%E7%9A%84%E5%90%AF%E5%8A%A8%E6%97%B6%E9%97%B4-%E5%88%9B%E5%BB%BA%E5%BC%95%E5%AF%BC%E4%B8%8A%E4%B8%8B%E6%96%87-bootstrappers-intitialize"><span class="toc-text">4.2.1. è®°å½•åº”ç”¨çš„å¯åŠ¨æ—¶é—´ - åˆ›å»ºå¼•å¯¼ä¸Šä¸‹æ–‡ -bootstrappers.intitialize</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-2-%E5%8F%91%E5%B8%83-ApplicationStartingEvent-%E4%BA%8B%E4%BB%B6"><span class="toc-text">4.2.2. å‘å¸ƒ ApplicationStartingEvent äº‹ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-3-%E8%AF%BB%E5%8F%96%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF%E5%8F%91%E5%B8%83-environmentPreparedEvent"><span class="toc-text">4.2.3. è¯»å–ç¯å¢ƒé…ç½®ä¿¡æ¯å‘å¸ƒ environmentPreparedEvent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-4-%E6%A0%B9%E6%8D%AE%E9%A1%B9%E7%9B%AE%E7%B1%BB%E5%9E%8B%E5%88%9B%E5%BB%BA-IOC-%E5%AE%B9%E5%99%A8%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">4.2.4. æ ¹æ®é¡¹ç›®ç±»å‹åˆ›å»º IOC å®¹å™¨â­ï¸ğŸ”´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-5-%E5%87%86%E5%A4%87-IOC-%E5%AE%B9%E5%99%A8%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF-%E5%88%B7%E6%96%B0%E5%89%8D%E5%87%86%E5%A4%87-contextPrepared-loaded"><span class="toc-text">4.2.5. å‡†å¤‡ IOC å®¹å™¨åŸºæœ¬ä¿¡æ¯ (åˆ·æ–°å‰å‡†å¤‡ -contextPrepared-loaded)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-6-%E5%88%B7%E6%96%B0-IOC-%E5%AE%B9%E5%99%A8%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">4.2.6. åˆ·æ–° IOC å®¹å™¨â­ï¸ğŸ”´</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-6-1-invokeBeanFactoryPostProcessors"><span class="toc-text">4.2.6.1. invokeBeanFactoryPostProcessors</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-6-2-onrefresh-%E5%88%9B%E5%BB%BA%E5%AD%90%E5%AE%B9%E5%99%A8"><span class="toc-text">4.2.6.2. onrefresh åˆ›å»ºå­å®¹å™¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-7-%E8%AE%B0%E5%BD%95%E5%90%AF%E5%8A%A8%E7%BB%93%E6%9D%9F%E6%97%B6%E9%97%B4%E5%B9%B6%E8%BE%93%E5%87%BA"><span class="toc-text">4.2.7. è®°å½•å¯åŠ¨ç»“æŸæ—¶é—´å¹¶è¾“å‡º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-8-%E5%8F%91%E5%B8%83-ApplicationStartedEvent"><span class="toc-text">4.2.8. å‘å¸ƒ ApplicationStartedEvent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-9-%E8%B0%83%E7%94%A8%E6%89%80%E6%9C%89-runners"><span class="toc-text">4.2.9. è°ƒç”¨æ‰€æœ‰ runners</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-10-%E5%A6%82%E6%9E%9C%E5%90%AF%E5%8A%A8%E5%BC%82%E5%B8%B8%E5%88%99%E5%8F%91%E9%80%81-ApplicationFailedEvent"><span class="toc-text">4.2.10. å¦‚æœå¯åŠ¨å¼‚å¸¸åˆ™å‘é€ ApplicationFailedEvent</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E5%B5%8C%E5%85%A5%E5%BC%8F-Servlet-%E5%AE%B9%E5%99%A8%E5%90%AF%E5%8A%A8%E5%8E%9F%E7%90%86-V2"><span class="toc-text">5. åµŒå…¥å¼ Servlet å®¹å™¨å¯åŠ¨åŸç† V2</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96%E8%A7%A6%E5%8F%91%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE"><span class="toc-text">5.1. å¼•å…¥ä¾èµ–è§¦å‘è‡ªåŠ¨é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-1-%E5%AE%B9%E5%99%A8%E5%B7%A5%E5%8E%82%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E7%B1%BB%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">5.1.1. å®¹å™¨å·¥å‚è‡ªåŠ¨é…ç½®ç±»â­ï¸ğŸ”´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-2-Web-%E5%AE%B9%E5%99%A8%E5%B7%A5%E5%8E%82-%E9%BB%98%E8%AE%A4-Tomcat"><span class="toc-text">5.1.2. Web å®¹å™¨å·¥å‚ - é»˜è®¤ Tomcat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-3-Web-%E5%AE%B9%E5%99%A8%E5%B7%A5%E5%8E%82%E5%AE%9A%E5%88%B6%E5%8C%96%E5%99%A8%E7%9A%84%E5%90%8E%E7%BD%AE%E5%A4%84%E7%90%86%E5%99%A8"><span class="toc-text">5.1.3. Web å®¹å™¨å·¥å‚å®šåˆ¶åŒ–å™¨çš„åç½®å¤„ç†å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-3-1-BeanPostProcessorsRegistrar"><span class="toc-text">5.1.3.1. BeanPostProcessorsRegistrar</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-3-2-WebServerFactoryCustomizer-%E5%AE%B9%E5%99%A8%E5%B7%A5%E5%8E%82%E5%AE%9A%E5%88%B6%E5%8C%96%E5%99%A8-%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">5.1.3.2. WebServerFactoryCustomizer(å®¹å™¨å·¥å‚å®šåˆ¶åŒ–å™¨)â­ï¸ğŸ”´</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-SpringBoot-%E5%BA%94%E7%94%A8%E6%89%A7%E8%A1%8C-Run-%E6%96%B9%E6%B3%95"><span class="toc-text">5.2. SpringBoot åº”ç”¨æ‰§è¡Œ Run æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-1-%E5%88%9B%E5%BB%BA-IOC-%E5%AE%B9%E5%99%A8"><span class="toc-text">5.2.1. åˆ›å»º IOC å®¹å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-2-%E8%B0%83%E7%94%A8%E7%88%B6%E7%B1%BB-refresh"><span class="toc-text">5.2.2. è°ƒç”¨çˆ¶ç±» refresh()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-3-%E6%89%A7%E8%A1%8C%E9%87%8D%E5%86%99%E7%9A%84-onRefresh-%E6%96%B9%E6%B3%95"><span class="toc-text">5.2.3. æ‰§è¡Œé‡å†™çš„ onRefresh() æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-4-%E4%BB%8E%E5%AE%B9%E5%99%A8%E4%B8%AD%E8%8E%B7%E5%8F%96-TomcatServletWebServerFactory"><span class="toc-text">5.2.4. ä»å®¹å™¨ä¸­è·å– TomcatServletWebServerFactory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-5-%E5%90%8E%E7%BD%AE%E5%A4%84%E7%90%86%E5%99%A8%E6%89%A7%E8%A1%8C%E9%85%8D%E7%BD%AE%E5%AE%9A%E5%88%B6"><span class="toc-text">5.2.5. åç½®å¤„ç†å™¨æ‰§è¡Œé…ç½®å®šåˆ¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-6-%E5%88%9B%E5%BB%BA-Servlet-%E5%AE%B9%E5%99%A8%E5%B9%B6%E5%90%AF%E5%8A%A8"><span class="toc-text">5.2.6. åˆ›å»º Servlet å®¹å™¨å¹¶å¯åŠ¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-7-%E9%A1%BA%E5%BA%8F%E6%80%BB%E7%BB%93"><span class="toc-text">5.2.7. é¡ºåºæ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-%E6%A6%82%E8%BF%B0"><span class="toc-text">5.3. æ¦‚è¿°</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-SpringBoot-%E5%A4%96%E7%BD%AE-Tomcat-%E5%90%AF%E5%8A%A8%E5%8E%9F%E7%90%86%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">6. SpringBoot å¤–ç½® Tomcat å¯åŠ¨åŸç†â­ï¸ğŸ”´</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">6.1. æ“ä½œæ­¥éª¤â­ï¸ğŸ”´</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">6.2. åº•å±‚åŸç†â­ï¸ğŸ”´</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3-%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="toc-text">6.3. æ‰§è¡Œæµç¨‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-4-%E5%85%B6%E4%BB%96"><span class="toc-text">6.4. å…¶ä»–</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-SpringBoot-%E7%9A%84%E6%A0%B8%E5%BF%83%E6%B3%A8%E8%A7%A3"><span class="toc-text">7. SpringBoot çš„æ ¸å¿ƒæ³¨è§£</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-%E4%B8%BA%E4%BB%80%E4%B9%88-SpringBoot-%E7%9A%84-jar-%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E8%BF%90%E8%A1%8C%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">8. ä¸ºä»€ä¹ˆ SpringBoot çš„ jar å¯ä»¥ç›´æ¥è¿è¡Œâ­ï¸ğŸ”´</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#8-1-spring-boot-maven-plugin-%E6%89%93-Fat-jar"><span class="toc-text">8.1. spring-boot-maven-plugin æ‰“ Fat jar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-2-MANIFEST-MF-%E6%96%87%E4%BB%B6"><span class="toc-text">8.2. MANIFEST.MF æ–‡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-3-LaunchedURLClassLoader"><span class="toc-text">8.3. LaunchedURLClassLoader</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-4-launch"><span class="toc-text">8.4. launch</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9-%E8%87%AA%E5%AE%9A%E4%B9%89-starter%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">9. è‡ªå®šä¹‰ starterâ­ï¸ğŸ”´</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#9-1-%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">9.1. ä½¿ç”¨åœºæ™¯â­ï¸ğŸ”´</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-2-%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4"><span class="toc-text">9.2. æ“ä½œæ­¥éª¤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-1-%E7%A1%AE%E5%AE%9A%E5%9C%BA%E6%99%AF%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%E4%BE%9D%E8%B5%96"><span class="toc-text">9.2.1. ç¡®å®šåœºæ™¯éœ€è¦ä½¿ç”¨ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-2-%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E7%BC%96%E5%86%99%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE"><span class="toc-text">9.2.2. ä½¿ç”¨æ³¨è§£ç¼–å†™è‡ªåŠ¨é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-3-%E7%BC%96%E5%86%99-2-%E4%B8%AA%E6%A8%A1%E5%9D%97"><span class="toc-text">9.2.3. ç¼–å†™ 2 ä¸ªæ¨¡å—</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-3-%E4%B8%8E-common-%E5%8C%85%E5%AF%B9%E6%AF%94"><span class="toc-text">9.3. ä¸ common åŒ…å¯¹æ¯”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-4-%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81"><span class="toc-text">9.4. ç¤ºä¾‹ä»£ç </span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10-%E9%85%8D%E7%BD%AE%E8%AF%BB%E5%8F%96%E5%8E%9F%E7%90%86%E5%92%8C%E4%BC%98%E5%85%88%E7%BA%A7%E8%A7%84%E5%88%99%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">10. é…ç½®è¯»å–åŸç†å’Œä¼˜å…ˆçº§è§„åˆ™â­ï¸ğŸ”´</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#10-1-%E8%AF%BB%E5%8F%96%E5%8E%9F%E7%90%86"><span class="toc-text">10.1. è¯»å–åŸç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-2-%E4%BC%98%E5%85%88%E7%BA%A7%E8%A7%84%E5%88%99"><span class="toc-text">10.2. ä¼˜å…ˆçº§è§„åˆ™</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-1-%E6%96%87%E4%BB%B6%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">10.2.1. æ–‡ä»¶ä¼˜å…ˆçº§</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-1-1-%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE%E6%BA%90"><span class="toc-text">10.2.1.1. å¤–éƒ¨é…ç½®æº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-1-2-properties-%E4%BC%98%E4%BA%8E-ymal"><span class="toc-text">10.2.1.2. properties ä¼˜äº ymal</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-2-%E6%9F%A5%E6%89%BE%E8%A6%86%E7%9B%96%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">10.2.2. æŸ¥æ‰¾è¦†ç›–ä¼˜å…ˆçº§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-3-%E5%8A%A0%E8%BD%BD%E7%94%9F%E6%95%88%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">10.2.3. åŠ è½½ç”Ÿæ•ˆä¼˜å…ˆçº§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-4-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3"><span class="toc-text">10.2.4. å®˜æ–¹æ–‡æ¡£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-5-%E6%A1%88%E4%BE%8B"><span class="toc-text">10.2.5. æ¡ˆä¾‹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#11-SpringBoot-%E7%9A%84%E9%BB%98%E8%AE%A4%E6%97%A5%E5%BF%97%E5%AE%9E%E7%8E%B0%E6%A1%86%E6%9E%B6%E5%8F%8A%E5%88%87%E6%8D%A2"><span class="toc-text">11. SpringBoot çš„é»˜è®¤æ—¥å¿—å®ç°æ¡†æ¶åŠåˆ‡æ¢</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#11-1-SpringBoot-%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6"><span class="toc-text">11.1. SpringBoot æ—¥å¿—æ¡†æ¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-2-%E5%B0%86-logback-%E5%88%87%E6%8D%A2%E6%88%90-log4j2"><span class="toc-text">11.2. å°†Â logback åˆ‡æ¢æˆ log4j2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-3-%E5%B0%86-logback-%E5%88%87%E6%8D%A2%E6%88%90-log4j"><span class="toc-text">11.3. å°†Â logback åˆ‡æ¢æˆ log4j</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#12-%E5%AE%B9%E5%99%A8"><span class="toc-text">12. å®¹å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#12-1-%E9%85%8D%E7%BD%AE%E5%B5%8C%E5%85%A5%E5%BC%8F-Servlet-%E5%AE%B9%E5%99%A8"><span class="toc-text">12.1. é…ç½®åµŒå…¥å¼ Servlet å®¹å™¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-2-%E5%B5%8C%E5%85%A5%E5%BC%8F-Servlet-%E5%AE%B9%E5%99%A8%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86-v1%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">12.2. åµŒå…¥å¼ Servlet å®¹å™¨è‡ªåŠ¨é…ç½®åŸç† v1â­ï¸ğŸ”´</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-1-%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96%E8%A7%A6%E5%8F%91%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE"><span class="toc-text">12.2.1. å¼•å…¥ä¾èµ–è§¦å‘è‡ªåŠ¨é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-2-%E5%88%9B%E5%BB%BA%E9%BB%98%E8%AE%A4%E7%9A%84%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%AE%B9%E5%99%A8-EmbeddedServletContainerFactory"><span class="toc-text">12.2.2. åˆ›å»ºé»˜è®¤çš„åµŒå…¥å¼å®¹å™¨ -EmbeddedServletContainerFactory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E9%85%8D%E7%BD%AE%E8%87%AA%E5%8A%A8%E8%A7%A3%E6%9E%90%E6%96%B9%E5%BC%8F-EmbeddedServletContainerCustomizerBeanPostProcessor"><span class="toc-text">12.2.3. åµŒå…¥å¼é…ç½®è‡ªåŠ¨è§£ææ–¹å¼ -EmbeddedServletContainerCustomizerBeanPostProcessor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-4-%E6%80%BB%E7%BB%93"><span class="toc-text">12.2.4. æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-3-%E5%AE%9A%E5%88%B6%E5%8C%96%E5%8E%9F%E7%90%86"><span class="toc-text">12.3. å®šåˆ¶åŒ–åŸç†</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#13-Java-Config"><span class="toc-text">13. Java Config</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#13-1-Configuration-proxyBeanMethods-x3D-false"><span class="toc-text">13.1. @Configuration(proxyBeanMethods &#x3D; false)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-2-Import"><span class="toc-text">13.2. @Import</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#14-Rest-%E5%8E%9F%E7%90%86"><span class="toc-text">14. Rest åŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#14-1-filter-wrapper"><span class="toc-text">14.1. filter+wrapper</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-2-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%9A%90%E8%97%8F%E5%9F%9F%E5%90%8D%E7%A7%B0"><span class="toc-text">14.2. è‡ªå®šä¹‰éšè—åŸŸåç§°</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#15-%E8%AF%B7%E6%B1%82%E6%98%A0%E5%B0%84%E5%8E%9F%E7%90%86%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">15. è¯·æ±‚æ˜ å°„åŸç†â­ï¸ğŸ”´</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#15-1-%E8%AF%B7%E6%B1%82%E8%B7%AF%E5%BE%84"><span class="toc-text">15.1. è¯·æ±‚è·¯å¾„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-2-%E6%89%A7%E8%A1%8C%E9%80%BB%E8%BE%91"><span class="toc-text">15.2. æ‰§è¡Œé€»è¾‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-1-handlerMappings"><span class="toc-text">15.2.1. handlerMappings</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-2-RequestMappingHeaderMapping"><span class="toc-text">15.2.2. RequestMappingHeaderMapping</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-3-%E8%8E%B7%E5%8F%96-handler-%E9%80%BB%E8%BE%91"><span class="toc-text">15.2.3. è·å– handler é€»è¾‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-4-mappingRegistry"><span class="toc-text">15.2.4. mappingRegistry</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#16-%E5%85%B6%E4%BB%96"><span class="toc-text">16. å…¶ä»–</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#16-1-jar-%E5%8C%85%E5%BC%95%E5%85%A5%E6%96%B9%E5%BC%8F"><span class="toc-text">16.1. jar åŒ…å¼•å…¥æ–¹å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#16-1-1-spring-boot-starter-parent"><span class="toc-text">16.1.1. spring-boot-starter-parent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-1-2-spring-boot-dependencies"><span class="toc-text">16.1.2. spring-boot-dependencies</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-2-%E5%A4%9A%E7%BB%A7%E6%89%BF%E9%97%AE%E9%A2%98"><span class="toc-text">16.2. å¤šç»§æ‰¿é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-3-dependencyManagement"><span class="toc-text">16.3. dependencyManagement</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#17-%E4%B8%8E-Spring-%E7%9A%84%E4%B8%8D%E5%90%8C%E4%B9%8B%E5%A4%84"><span class="toc-text">17. ä¸ Spring çš„ä¸åŒä¹‹å¤„</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#17-1-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-text">17.1. åŠ¨æ€ä»£ç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-2-SpringMVC-%E5%AE%B9%E5%99%A8%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">17.2. SpringMVC å®¹å™¨â­ï¸ğŸ”´</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#18-%E5%8F%82%E8%80%83%E4%B8%8E%E6%84%9F%E8%B0%A2"><span class="toc-text">18. å‚è€ƒä¸æ„Ÿè°¢</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#18-1-SpringBoot"><span class="toc-text">18.1. SpringBoot</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#18-1-1-%E8%A7%86%E9%A2%91"><span class="toc-text">18.1.1. è§†é¢‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-1-2-%E4%BB%A3%E7%A0%81"><span class="toc-text">18.1.2. ä»£ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-1-3-%E7%AC%94%E8%AE%B0"><span class="toc-text">18.1.3. ç¬”è®°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18-2-SpringBoot2"><span class="toc-text">18.2. SpringBoot2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#18-2-1-%E8%A7%86%E9%A2%91"><span class="toc-text">18.2.1. è§†é¢‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-2-2-%E7%AC%94%E8%AE%B0"><span class="toc-text">18.2.2. ç¬”è®°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-2-3-%E4%BB%A3%E7%A0%81"><span class="toc-text">18.2.3. ä»£ç </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18-3-%E6%B1%87%E6%80%BB"><span class="toc-text">18.3. æ±‡æ€»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18-4-%E5%85%B6%E4%BB%96"><span class="toc-text">18.4. å…¶ä»–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18-5-Spring"><span class="toc-text">18.5. Spring</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18-6-%E9%BB%91%E9%A9%AC%E2%AD%90%EF%B8%8F%F0%9F%94%B4%E2%9C%85"><span class="toc-text">18.6. é»‘é©¬â­ï¸ğŸ”´âœ…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#18-6-1-%E8%A7%86%E9%A2%91"><span class="toc-text">18.6.1. è§†é¢‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-6-2-%E8%B5%84%E6%96%99"><span class="toc-text">18.6.2. èµ„æ–™</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/012-%E7%BB%8F%E9%AA%8C%E4%B8%93%E9%A2%98/%E7%BB%8F%E9%AA%8C%E4%B8%93%E9%A2%98-%E9%A3%8E%E6%8E%A7%E7%B3%BB%E7%BB%9F-2%E3%80%81%E9%A3%8E%E6%8E%A7%E4%B8%AD%E5%8F%B0/" title="æ— é¢˜"><img src="https://picsum.photos/1920/1081" onerror='this.onerror=null,this.src="/null"' alt="æ— é¢˜"></a><div class="content"><a class="title" href="/2023/06/13/012-%E7%BB%8F%E9%AA%8C%E4%B8%93%E9%A2%98/%E7%BB%8F%E9%AA%8C%E4%B8%93%E9%A2%98-%E9%A3%8E%E6%8E%A7%E7%B3%BB%E7%BB%9F-2%E3%80%81%E9%A3%8E%E6%8E%A7%E4%B8%AD%E5%8F%B0/" title="æ— é¢˜">æ— é¢˜</a><time datetime="2023-06-13T23:32:43.044Z" title="å‘è¡¨äº 2023-06-14 07:32:43">2023-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/005-%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%93%E9%A2%98/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%93%E9%A2%98-15%E3%80%81%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA/" title="åˆ†å¸ƒå¼ä¸“é¢˜-15ã€é“¾è·¯è¿½è¸ª"><img src="https://picsum.photos/1920/962" onerror='this.onerror=null,this.src="/null"' alt="åˆ†å¸ƒå¼ä¸“é¢˜-15ã€é“¾è·¯è¿½è¸ª"></a><div class="content"><a class="title" href="/2023/06/13/005-%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%93%E9%A2%98/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%93%E9%A2%98-15%E3%80%81%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA/" title="åˆ†å¸ƒå¼ä¸“é¢˜-15ã€é“¾è·¯è¿½è¸ª">åˆ†å¸ƒå¼ä¸“é¢˜-15ã€é“¾è·¯è¿½è¸ª</a><time datetime="2023-06-13T16:00:00.000Z" title="å‘è¡¨äº 2023-06-14 00:00:00">2023-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/013-%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/%E8%B5%84%E6%BA%90%E5%AF%BC%E8%88%AA/" title="èµ„æºå¯¼èˆª"><img src="https://picsum.photos/1920/992" onerror='this.onerror=null,this.src="/null"' alt="èµ„æºå¯¼èˆª"></a><div class="content"><a class="title" href="/2023/06/13/013-%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/%E8%B5%84%E6%BA%90%E5%AF%BC%E8%88%AA/" title="èµ„æºå¯¼èˆª">èµ„æºå¯¼èˆª</a><time datetime="2023-06-13T16:00:00.000Z" title="å‘è¡¨äº 2023-06-14 00:00:00">2023-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/014-AI%E7%AE%97%E6%B3%95%E4%B8%93%E9%A2%98/%E7%AE%97%E6%B3%95-0%E3%80%81%E6%B1%87%E6%80%BB/" title="ç®—æ³•-0ã€æ±‡æ€»"><img src="https://picsum.photos/1920/972" onerror='this.onerror=null,this.src="/null"' alt="ç®—æ³•-0ã€æ±‡æ€»"></a><div class="content"><a class="title" href="/2023/06/13/014-AI%E7%AE%97%E6%B3%95%E4%B8%93%E9%A2%98/%E7%AE%97%E6%B3%95-0%E3%80%81%E6%B1%87%E6%80%BB/" title="ç®—æ³•-0ã€æ±‡æ€»">ç®—æ³•-0ã€æ±‡æ€»</a><time datetime="2023-06-13T16:00:00.000Z" title="å‘è¡¨äº 2023-06-14 00:00:00">2023-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/014-AI%E7%AE%97%E6%B3%95%E4%B8%93%E9%A2%98/%E7%AE%97%E6%B3%95-1%E3%80%81%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90/" title="ç®—æ³•-1ã€é¢˜ç›®è§£æ"><img src="https://picsum.photos/1920/1082" onerror='this.onerror=null,this.src="/null"' alt="ç®—æ³•-1ã€é¢˜ç›®è§£æ"></a><div class="content"><a class="title" href="/2023/06/13/014-AI%E7%AE%97%E6%B3%95%E4%B8%93%E9%A2%98/%E7%AE%97%E6%B3%95-1%E3%80%81%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90/" title="ç®—æ³•-1ã€é¢˜ç›®è§£æ">ç®—æ³•-1ã€é¢˜ç›®è§£æ</a><time datetime="2023-06-13T16:00:00.000Z" title="å‘è¡¨äº 2023-06-14 00:00:00">2023-06-14</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url('https://picsum.photos/1920/962')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Taylor Luo</div><div class="framework-info"><span>æ¡†æ¶</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",preloader.endLoading())</script><div class="js-pjax"><script>(()=>{const o=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo-taylorluo.vercel.app/",region:"ap-shanghai",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null)),GLOBAL_CONFIG_SITE.isPost&&(()=>{const o=document.getElementById("twikoo-count");o&&twikoo.getCommentsCount({envId:"https://twikoo-taylorluo.vercel.app/",region:"ap-shanghai",urls:[window.location.pathname],includeReply:!1}).then((function(t){o.innerText=t[0].count})).catch((function(o){console.error(o)}))})()},t=()=>{"object"!=typeof twikoo?getScript("https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(o):setTimeout(o,0)};t()})()</script></div><script defer id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zindex="-1" mobile="false" data-click="true"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="æ‹¼æ,è‡ªå¼º,æ­£ç›´,è‡ªä¿¡" data-fontsize="15px" data-random="false" async></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>