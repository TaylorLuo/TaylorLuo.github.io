<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>内功心法专题-设计模式-2、设计模式及设计原则 | Taylor</title><meta name="keywords" content="内功心法专题,设计模式,设计原则"><meta name="author" content="Taylor Luo"><meta name="copyright" content="Taylor Luo"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1. 设计模式1.1. 是什么软件工程中，设计模式（design pattern）是对软件设计中普遍存在（反复出现）的各种问题，所提出的解决方案。  设计模式是程序员在面对同类软件工程设计问题所总结出来的有用的经验，模式不是代码，而是某类问题的通用解决方案，设计模式（Design pattern）代表了最佳的实践。这些解决方案是众多软件开发人员经过相当长的一段时间的试验和错误总结出来的。 设计模式"><meta property="og:type" content="article"><meta property="og:title" content="内功心法专题-设计模式-2、设计模式及设计原则"><meta property="og:url" content="https://taylorluo.github.io/2023/01/06/009-%E5%86%85%E5%8A%9F%E5%BF%83%E6%B3%95%E4%B8%93%E9%A2%98/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-2%E3%80%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%8F%8A%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/index.html"><meta property="og:site_name" content="Taylor"><meta property="og:description" content="1. 设计模式1.1. 是什么软件工程中，设计模式（design pattern）是对软件设计中普遍存在（反复出现）的各种问题，所提出的解决方案。  设计模式是程序员在面对同类软件工程设计问题所总结出来的有用的经验，模式不是代码，而是某类问题的通用解决方案，设计模式（Design pattern）代表了最佳的实践。这些解决方案是众多软件开发人员经过相当长的一段时间的试验和错误总结出来的。 设计模式"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://picsum.photos/1920/1080"><meta property="article:published_time" content="2023-01-06T16:00:00.000Z"><meta property="article:modified_time" content="2023-06-13T23:32:42.807Z"><meta property="article:author" content="Taylor Luo"><meta property="article:tag" content="内功心法专题"><meta property="article:tag" content="设计模式"><meta property="article:tag" content="设计原则"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://picsum.photos/1920/1080"><link rel="shortcut icon" href="https://gcore.jsdelivr.net/gh/code-anan/image/蜘蛛网万圣节.png"><link rel="canonical" href="https://taylorluo.github.io/2023/01/06/009-%E5%86%85%E5%8A%9F%E5%BF%83%E6%B3%95%E4%B8%93%E9%A2%98/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-2%E3%80%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%8F%8A%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!0,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简"},noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"内功心法专题-设计模式-2、设计模式及设计原则",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-06-14 07:32:42"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)})),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/self/Kimbiedark.css"><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Taylor" type="application/atom+xml"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/index.jpeg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">183</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">85</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">31</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url('https://picsum.photos/1920/1080')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Taylor</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">内功心法专题-设计模式-2、设计模式及设计原则</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-01-06T16:00:00.000Z" title="发表于 2023-01-07 00:00:00">2023-01-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-13T23:32:42.807Z" title="更新于 2023-06-14 07:32:42">2023-06-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>15分钟</span></span><span class="post-meta-separator">|</span><span data-flag-title="内功心法专题-设计模式-2、设计模式及设计原则"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2023/01/06/009-%E5%86%85%E5%8A%9F%E5%BF%83%E6%B3%95%E4%B8%93%E9%A2%98/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-2%E3%80%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%8F%8A%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/#post-comment"><span id="twikoo-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="1-设计模式"><a href="#1-设计模式" class="headerlink" title="1. 设计模式"></a>1. 设计模式</h1><h2 id="1-1-是什么"><a href="#1-1-是什么" class="headerlink" title="1.1. 是什么"></a>1.1. 是什么</h2><p>软件工程中，设计模式（design pattern）是对软件设计中<span style="background-color:#0f0">普遍存在（反复出现）</span><br>的各种问题，所提出的解决方案。</p><ol><li>设计模式是程序员在面对同类软件工程设计问题所总结出来的有用的经验，模式不是代码，而是某类问题的<span style="background-color:#0f0">通用解决方案，设计模式（Design pattern）代表了最佳的实践</span>。这些解决方案是众多软件开发人员经过相当长的一段时间的试验和错误总结出来的。</li><li>设计模式的本质<span style="background-color:#0f0">提高软件的维护性，通用性和扩展性，并降低软件的复杂度</span></li></ol><h2 id="1-2-为什么"><a href="#1-2-为什么" class="headerlink" title="1.2. 为什么"></a>1.2. 为什么</h2><p>编写软件过程中，程序员面临着来自 <span style="background-color:#ff0">耦合性，内聚性以及可维护性，可扩展性，重</span><span style="background-color:#ff0">用性，灵活性</span> 等多方面的挑战，设计模式是为了让程序 (软件)，具有更好</p><ol><li>代码重用性 (即：相同功能的代码，不用多次编写)</li><li>可读性 (即：编程规范性, 便于其他程序员的阅读和理解)</li><li>可扩展性 (即：当需要增加新的功能时，非常的方便，称为可维护)</li><li>可靠性 (即：当我们增加新的功能后，对原来的功能没有影响)</li><li>使程序呈现高内聚，低耦合的特性<br>❕<span style="display:none">%%<br>1620-🏡⭐️◼️设计模式的目的？高内聚 (结构上)、低耦合 (行为上)；(3 易 2 可)：易复用、易扩展、易维护；高可读、高可靠◼️⭐️-point-202301231620%%</span></li></ol><h2 id="1-3-分类"><a href="#1-3-分类" class="headerlink" title="1.3. 分类"></a>1.3. 分类</h2><p>设计模式分为三种类型，共 23 种</p><ol><li>创建型模式：</li></ol><ul><li>单例模式</li><li>工厂方法模式</li><li>抽象工厂模式</li><li>原型模式</li><li>建造者模式</li></ul><ol start="2"><li>结构型模式：</li></ol><ul><li>代理模式</li><li>适配器模式</li><li>装饰者模式</li><li>桥接模式</li><li>外观模式</li><li>组合模式</li><li>享元模式</li></ul><ol start="3"><li>行为型模式：</li></ol><ul><li>模板方法模式</li><li>策略模式</li><li>命令模式</li><li>职责链模式</li><li>状态模式</li><li>观察者模式</li><li>中介者模式</li><li>迭代器模式</li><li>访问者模式</li><li>备忘录模式</li><li>解释器模式<br>❕<span style="display:none">%%<br>1427-🏡⭐️◼️23 种设计模式有什么？◼️⭐️-point-202301231427%%</span></li></ul><h1 id="2-七大设计原则"><a href="#2-七大设计原则" class="headerlink" title="2. 七大设计原则"></a>2. 七大设计原则</h1><p>设计模式原则，其实就是程序员在编程时，应当遵守的原则，也是各种设计模<br>式的基础 (即：设计模式为什么这样设计的依据)</p><p>设计模式常用的七大原则有:</p><ol><li>开闭原则</li><li>里氏替换原则</li><li>合成复用原则</li><li>依赖倒转 (倒置) 原则</li><li>接口隔离原则</li><li>迪米特法则</li><li>单一职责原则<br>❕<span style="display:none">%%<br>1432-🏡⭐️◼️七大设计原则：开闭原则、里氏代换原则、组合复用原则、依赖倒转原则、接口隔离、迪米特法则、单一职责原则◼️⭐️-point-202301231432%%</span></li></ol><h2 id="2-1-开闭原则-Open-Closed-Principle"><a href="#2-1-开闭原则-Open-Closed-Principle" class="headerlink" title="2.1. 开闭原则 (Open Closed Principle)"></a>2.1. 开闭原则 (Open Closed Principle)</h2><h3 id="2-1-1-是什么"><a href="#2-1-1-是什么" class="headerlink" title="2.1.1. 是什么"></a>2.1.1. 是什么</h3><ol><li>开闭原则（Open Closed Principle）是编程中最基础、最重要的设计原则</li><li>一个软件实体如类，模块和函数应该对扩展开放 (<span style="background-color:#ff0">对提供方</span>)，对修改关闭 (<span style="background-color:#ff0">对使用</span><span style="background-color:#ff0">方</span>)。用抽象构建框架，用实现扩展细节。</li><li>当软件需要变化时，<span style="background-color:#f0f">尽量通过扩展软件实体的行为来实现变化，而不是通过修改已</span><span style="background-color:#f0f">有的代码来实现变化。</span></li><li>编程中遵循其它原则，以及使用设计模式的目的就是遵循开闭原则。</li></ol><h3 id="2-1-2-为什么"><a href="#2-1-2-为什么" class="headerlink" title="2.1.2. 为什么"></a>2.1.2. 为什么</h3><p><strong>对扩展开放，对修改关闭</strong>。在程序需要进行拓展的时候，不修改原有的代码，而实现一个热插拔的效果。简言之，是为了使程序的扩展性好，易于维护和升级。</p><p>想要达到这样的效果，我们<span style="background-color:#0f0">需要使用接口和抽象类</span>。</p><p>因为抽象灵活性好，适应性广，只要抽象的合理，可以基本保持软件架构的稳定。而软件中易变的细节可以从抽象派生来的实现类来进行扩展，当软件需要发生变化时，只需要根据需求重新派生一个实现类来扩展就可以了。</p><h3 id="2-1-3-案例"><a href="#2-1-3-案例" class="headerlink" title="2.1.3. 案例"></a>2.1.3. 案例</h3><p>下面以 <code>搜狗输入法</code> 的皮肤为例介绍开闭原则的应用。</p><p>【例】<code>搜狗输入法</code> 的皮肤设计。</p><p>分析：<code>搜狗输入法</code> 的皮肤是输入法背景图片、窗口颜色和声音等元素的组合。用户可以根据自己的喜爱更换自己的输入法的皮肤，也可以从网上下载新的皮肤。这些皮肤有共同的特点，可以为其定义一个抽象类（AbstractSkin），而每个具体的皮肤（DefaultSpecificSkin 和 HeimaSpecificSkin）是其子类。用户窗体可以根据需要选择或者增加新的主题，而不需要修改原代码，所以它是满足开闭原则的。<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20221205225928.png"></p><h3 id="2-1-4-满足开闭原则的设计模式"><a href="#2-1-4-满足开闭原则的设计模式" class="headerlink" title="2.1.4. 满足开闭原则的设计模式"></a>2.1.4. 满足开闭原则的设计模式</h3><p>[[内功心法专题-设计模式-0、设计模式总结#^8yg365]]</p><h2 id="2-2-里氏代换原则-Liskov-Substitution-Principle"><a href="#2-2-里氏代换原则-Liskov-Substitution-Principle" class="headerlink" title="2.2. 里氏代换原则 (Liskov Substitution Principle)"></a>2.2. 里氏代换原则 (Liskov Substitution Principle)</h2><h3 id="2-2-1-是什么"><a href="#2-2-1-是什么" class="headerlink" title="2.2.1. 是什么"></a>2.2.1. 是什么</h3><p>里氏代换原则是面向对象设计的基本原则之一。<span style="background-color:#0f0">通常类的复用分为继承复用和合成复用两种。里氏代换原则就属于继承复用的复用类型</span></p><p>里氏代换原则：任何基类可以出现的地方，子类一定可以出现。通俗理解：<span style="background-color:#0f0">子类可以扩展父类的功能，但不能改变父类原有的功能</span>。换句话说，子类继承父类时，除添加新的方法完成新增功能外，<span style="background-color:red">尽量不要重写</span>父类的方法。</p><p>如果通过重写父类的方法来完成新的功能，这样写起来虽然简单，但是整个继承体系的可复用性会比较差，特别是运用多态比较频繁时，程序运行出错的概率会非常大。</p><p><span style="background-color:#f0f">子类可以在任意方法中，替代父类作为方法的入参</span></p><h3 id="2-2-2-为什么"><a href="#2-2-2-为什么" class="headerlink" title="2.2.2. 为什么"></a>2.2.2. 为什么</h3><ol><li>继承包含这样一层含义：父类中凡是已经实现好的方法，实际上是在设定规范和契<br>约，<u>虽然它不强制要求所有的子类必须遵循这些契约，但是如果子类对这些已经实</u><br><u>现的方法任意修改，<span style="background-color:#ff0">就会对整个继承体系造成破坏</span>。</u></li><li><span style="background-color:#f0f">继承在给程序设计带来便利的同时，也带来了弊端。</span>比如使用继承会给程序带来侵<br>入性，程序的可移植性降低，增加对象间的耦合性，<span style="background-color:red">如果一个类被其他的类所继承，</span><br><span style="background-color:red">则当这个类需要修改时，必须考虑到所有的子类，并且父类修改后，所有涉及到子</span><br><span style="background-color:red">类的功能都有可能产生故障</span></li><li>问题提出：在编程中，如何正确的使用继承? &#x3D;&gt; <span style="background-color:#0f0">里氏替换原则</span></li></ol><h3 id="2-2-3-如何遵循里氏替换原则⭐️🔴"><a href="#2-2-3-如何遵循里氏替换原则⭐️🔴" class="headerlink" title="2.2.3. 如何遵循里氏替换原则⭐️🔴"></a>2.2.3. 如何遵循里氏替换原则⭐️🔴</h3><ol><li>子类可以实现父类的抽象方法，但<span style="background-color:red">不能覆盖父类的非抽象方法</span>。</li><li>子类中可以增加自己特有的方法。</li><li>当子类的方法重载父类的方法时，方法的前置条件（即方法的形参）要比父类方法的输入参数更宽松。</li><li>当子类的方法实现父类的抽象方法时，方法的后置条件（即方法的返回值）要比父类更严格。</li><li>里氏替换原则告诉我们，继承实际上让两个类耦合性增强了，在适当的情况下，可</li><li>以通过<span style="background-color:#0f0">聚合，组合，依赖</span> 来解决问题。</li><li>其他方案：抽象出更高层的抽象类或者接口。</li></ol><p>❕<span style="display:none">%%<br>1440-🏡⭐️◼️里氏代换原则是正确使用继承的法则：如果无法避免使用继承，那么尽量不要覆盖父类的方法。最好使用组合、聚合 + 构造导入、setter 导入的方式◼️⭐️-point-202301231440%%</span></p><h2 id="2-3-合成复用原则-Composite-Reuse-Principle"><a href="#2-3-合成复用原则-Composite-Reuse-Principle" class="headerlink" title="2.3. 合成复用原则 (Composite Reuse Principle)"></a>2.3. 合成复用原则 (Composite Reuse Principle)</h2><p>合成复用原则是指：尽量先使用<span style="background-color:#f0f">组合或者聚合等关联关系</span>来实现，<span style="background-color:#ff0">其次才考虑使用继承关系</span>来实现。</p><p>通常类的复用分为继承复用和合成复用两种。</p><p>继承复用虽然有简单和易实现的优点，但它也存在以下缺点：</p><ol><li>继承复用破坏了类的封装性。因为继承会将父类的实现细节暴露给子类，父类对子类是透明的，所以这种复用又称为<span style="background-color:#ff0">“白箱”复用</span>。</li><li><span style="background-color:#f0f">子类与父类的耦合度高。父类的实现的任何改变都会导致子类的实现发生变化</span>，这不利于类的扩展与维护。</li><li>它限制了复用的灵活性。从父类继承而来的实现是静态的，在编译时已经定义，所以在运行时不可能发生变化。</li></ol><p>采用组合或聚合复用时，可以将已有对象纳入新对象中，使之成为新对象的一部分，新对象可以调用已有对象的功能，它有以下优点：</p><ol><li>它维持了类的封装性。因为成分对象的内部细节是新对象看不见的，所以这种复用又称为<span style="background-color:#0f0">“黑箱”复用</span>。</li><li>对象间的耦合度低。可以在类的成员位置声明抽象。</li><li>复用的灵活性高。这种复用可以在运行时动态进行，新对象可以动态地引用与成分对象类型相同的对象。❕<span style="display:none">%%<br>1443-🏡⭐️◼️白箱复用：继承复用，破坏了类的封装特性，将父类细节暴露给子类，带来变更风险<br>黑箱复用：组合复用，被使用类的内部细节对使用类不可见，保护了封装性，不会让变更扩散◼️⭐️-point-202301231443%%</span></li></ol><p>下面看一个例子来理解合成复用原则</p><p>【例】汽车分类管理程序</p><p>汽车按“动力源”划分可分为汽油汽车、电动汽车等；按“颜色”划分可分为白色汽车、黑色汽车和红色汽车等。如果同时考虑这两种分类，其组合就很多。类图如下：</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230107211859.png" alt="image-20191229173554296"></p><p>从上面类图我们可以看到使用继承复用产生了很多子类，如果现在又有新的动力源或者新的颜色的话，就需要再定义新的类。我们试着将继承复用改为聚合复用看一下。</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230107211906.png" alt="image-20191229173554296"></p><h2 id="2-4-依赖倒转原则-Dependence-Inversion-Principle"><a href="#2-4-依赖倒转原则-Dependence-Inversion-Principle" class="headerlink" title="2.4. 依赖倒转原则 (Dependence Inversion Principle)"></a>2.4. 依赖倒转原则 (Dependence Inversion Principle)</h2><h3 id="2-4-1-是什么"><a href="#2-4-1-是什么" class="headerlink" title="2.4.1. 是什么"></a>2.4.1. 是什么</h3><p>依赖倒转原则 (Dependence Inversion Principle) 是指：<br><span style="background-color:#f0f">1) 高层模块不应该依赖低层模块，二者都应该依赖其抽象</span><br><span style="background-color:#f0f">2) 抽象不应该依赖细节，细节应该依赖抽象</span><br>3) 依赖倒转 (倒置) 的中心思想是<span style="background-color:#0f0">面向接口编程</span><br>4) 依赖倒转原则是基于这样的设计理念：相对于细节的多变性，抽象的东西要稳定的<br>多。以抽象为基础搭建的架构比以细节为基础的架构要稳定的多。在 java 中，<span style="background-color:#0f0">抽象</span><br><span style="background-color:#0f0">指的是接口或抽象类，细节就是具体的实现类</span><br>5) 使用接口或抽象类的目的是制定好规范，而不涉及任何具体的操作，把展现细节的<br>任务交给他们的实现类去完成<br>6) 依赖倒转原则可以看做是开闭原则的具体实践</p><h3 id="2-4-2-如何做⭐️🔴"><a href="#2-4-2-如何做⭐️🔴" class="headerlink" title="2.4.2. 如何做⭐️🔴"></a>2.4.2. 如何做⭐️🔴</h3><p>依赖关系传递的三种方式</p><ol><li>接口传递 ❌</li><li>构造方法传递</li><li>setter 方式传递<br>❕<span style="display:none">%%<br>1445-🏡⭐️◼️依赖传递的 3 种方式：接口传递、构造方法传递、setter 方法传递，其中接口注入由于在灵活性和易用性比较差，现在从 Spring4 开始已被废弃。◼️⭐️-point-202301231445%%</span></li></ol><p>依赖注入是时下最流行的 IOC 实现方式，依赖注入分为接口注入（Interface Injection），Setter 方法注入（Setter Injection）和构造器注入（Constructor Injection）三种方式。<span style="background-color:red">其中接口注入由于在灵活性和易用性比较差，现在从 Spring4 开始已被废弃。</span><br>构造器依赖注入：构造器依赖注入通过容器触发一个类的构造器来实现的，该类有一系列参数，每个参数代表一个对其他类的依赖。<br>Setter 方法注入：Setter 方法注入是容器通过调用无参构造器或无参 static 工厂 方法实例化 bean 之后，调用该 bean 的 setter 方法，即实现了基于 setter 的依赖注入。</p><h3 id="2-4-3-注意细节"><a href="#2-4-3-注意细节" class="headerlink" title="2.4.3. 注意细节"></a>2.4.3. 注意细节</h3><ol><li>低层模块尽量都要有抽象类或接口，或者两者都有，程序稳定性更好.</li><li><span style="background-color:#f0f">变量的声明类型尽量是抽象类或接口</span>, 这样我们的变量引用和实际对象间，就存在<br>一个缓冲层，利于程序扩展和优化</li><li><span style="background-color:#f0f">继承时遵循里氏替换原则</span></li></ol><h3 id="2-4-4-案例"><a href="#2-4-4-案例" class="headerlink" title="2.4.4. 案例"></a>2.4.4. 案例</h3><p>下面看一个例子来理解依赖倒转原则<br>【例】组装电脑</p><p>现要组装一台电脑，需要配件 cpu，硬盘，内存条。只有这些配置都有了，计算机才能正常的运行。选择 cpu 有很多选择，如 Intel，AMD 等，硬盘可以选择希捷，西数等，内存条可以选择金士顿，海盗船等。</p><p><strong>类图如下：</strong></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230107222653.png"></p><p>上面代码可以看到已经组装了一台电脑，但是似乎组装的电脑的 cpu 只能是 Intel 的，内存条只能是金士顿的，硬盘只能是希捷的，这对用户肯定是不友好的，用户有了机箱肯定是想按照自己的喜好，选择自己喜欢的配件。</p><p>根据依赖倒转原则进行改进：</p><p>代码我们只需要修改 Computer 类，让 Computer 类依赖抽象（各个配件的接口），而不是依赖于各个组件具体的实现类。</p><p><strong>类图如下：</strong></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230107222701.png" alt="image-20191229173554296"><br>面向对象的开发很好的解决了这个问题，一般情况下<span style="background-color:#0f0">抽象的变化概率很小</span>，让用户程序依赖于抽象，实现的细节也依赖于抽象。即使实现细节不断变动，<span style="background-color:#0f0">只要抽象不变，客户程序就不需要变化</span>。这大大降低了客户程序与实现细节的耦合度。</p><h2 id="2-5-接口隔离原则-Interface-Segregation-Principle"><a href="#2-5-接口隔离原则-Interface-Segregation-Principle" class="headerlink" title="2.5. 接口隔离原则 (Interface Segregation Principle)"></a>2.5. 接口隔离原则 (Interface Segregation Principle)</h2><p>客户端不应该被迫依赖于它不使用的方法；<span style="background-color:#f0f">一个类对另一个类的依赖应该建立在最小的接口上</span></p><p>下面看一个例子来理解接口隔离原则</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230107232938.png"></p><p>类 A 通过接口 Interface1 依赖类 B，类 C 通过接口 Interface1 依赖类 D，如果接口 Interface1 对于类 A 和类 C 来说不是最小接口，那么类 B 和类 D 必须去实现他们不需要的方法。</p><p>按隔离原则应当这样处理：<br>将接口 Interface1 拆分为独立的几个接口，类 A 和类 C 分别与他们需要的接口建立依赖<br>关系。也就是采用接口隔离原则</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230107232903.png"><br>❕<span style="display:none">%%<br>1446-🏡⭐️◼️这个图与模板方法模式有点类似◼️⭐️-point-202301231446%%</span></p><h2 id="2-6-迪米特法则-Demeter-Principle"><a href="#2-6-迪米特法则-Demeter-Principle" class="headerlink" title="2.6. 迪米特法则 (Demeter Principle)"></a>2.6. 迪米特法则 (Demeter Principle)</h2><h3 id="2-6-1-是什么"><a href="#2-6-1-是什么" class="headerlink" title="2.6.1. 是什么"></a>2.6.1. 是什么</h3><ol><li>一个对象应该对其他对象保持最少的了解</li><li>类与类关系越密切，耦合度越大</li><li>迪米特法则 (Demeter Principle) 又叫<span style="background-color:#0f0">最少知道原则</span>，<span style="background-color:#f0f">即一个类对自己依赖的类知道的</span><br><span style="background-color:#f0f">越少越好</span>。也就是说，对于被依赖的类不管多么复杂，都尽量将逻辑封装在类的内<br>部。对外除了提供的 public 方法，不对外泄露任何信息 ❕<span style="display:none">%%<br>0846-🏡⭐️◼️迪米特法则的含义是什么？🔜📝最少知道原则，即一个类对自己所依赖的类知道的越少越好。被依赖的类不管有多复杂，都不要暴露细节给其他类，而应该封装好只对外提供 public 方法，如此才能减少耦合，提高设计的扩展性和复用性。◼️⭐️-point-202301280846%%</span></li><li>迪米特法则还有个更简单的定义：<span style="background-color:#0f0">只与直接的朋友通信</span></li><li>直接的朋友：每个对象都会与其他对象有耦合关系，只要两个对象之间有耦合关系，<br>我们就说这两个对象之间是朋友关系。耦合的方式很多，依赖，关联，组合，聚合<br>等。其中，我们称<span style="background-color:#f0f">出现在<font color="#ffff00">成员变量，方法参数，方法返回值中的类</font>为直接的朋友</span>，<span style="background-color:red">而</span><br><span style="background-color:red">出现在局部变量中的类不是直接的朋友。也就是说，陌生的类最好不要以局部变量</span><br><span style="background-color:red">的形式出现在类的内部</span>。<span style="background-color:#0f0">如果出现则转移到方法入参中，交给自己的直接朋友来隔离变更</span> ❕<span style="display:none">%%<br>1456-🏡⭐️◼️直接朋友是什么意思？指依赖关系中的成员变量、方法参数、方法返回值所引用的对象 (记忆方法：类的内容从下往下数)，而非直接朋友指局部变量。如果一个方法中通过成员变量、方法参数或者方法返回值这种直接朋友带入了不认识类作为方法中的局部变量，那么就要将这些变量拿到直接朋友中封装起来◼️⭐️-point-202301231456%%</span></li></ol><h3 id="2-6-2-案例"><a href="#2-6-2-案例" class="headerlink" title="2.6.2. 案例"></a>2.6.2. 案例</h3><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230107230401.png"></p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20230107230819.png"></p><p>代码示例：<br>[[pages&#x2F;002-schdule&#x2F;001-Arch&#x2F;001-Subject&#x2F;013-DemoCode&#x2F;DesignPattern&#x2F;src&#x2F;com&#x2F;atguigu&#x2F;principle&#x2F;demeter&#x2F;Demeter1.java]]</p><h3 id="2-6-3-注意"><a href="#2-6-3-注意" class="headerlink" title="2.6.3. 注意"></a>2.6.3. 注意</h3><ul><li>1）迪米特法则的核心是降低类之间的耦合</li><li>2）但是注意：由于每个类都减少了不必要的依赖，因此迪米特法则只是要求降低类间（对象间）耦合关系，并不是要求完全没有依赖关系</li></ul><h2 id="2-7-单一职责原则-Single-Responsibility-Principle"><a href="#2-7-单一职责原则-Single-Responsibility-Principle" class="headerlink" title="2.7. 单一职责原则 (Single Responsibility Principle)"></a>2.7. 单一职责原则 (Single Responsibility Principle)</h2><h3 id="2-7-1-是什么"><a href="#2-7-1-是什么" class="headerlink" title="2.7.1. 是什么"></a>2.7.1. 是什么</h3><p>对类来说的，即<span style="background-color:#f0f">一个类应该只负责一项职责</span>。如类 A 负责两个不同职责：职责 1，职责 2。<br>当职责 1 需求变更而改变 A 时，可能造成职责 2 执行错误，所以需要将类 A 的粒度分解为 A1，A2</p><p>坚持类级别的单一职责原则，尽量少用方法级别的，否则后面很可能会面临拆分的麻烦</p><h3 id="2-7-2-为什么"><a href="#2-7-2-为什么" class="headerlink" title="2.7.2. 为什么"></a>2.7.2. 为什么</h3><ol><li>降低类的复杂度，一个类只负责一项职责。</li><li>提高类的可读性，可维护性</li><li>降低变更引起的风险</li><li>通常情况下，我们应当遵守单一职责原则，<span style="background-color:#0f0">只有逻辑足够简单，才可以在代码级违</span><br><span style="background-color:#0f0">反单一职责原则；也只有在类中方法数量足够少的情况下，才可以下方到方法级别保持单一职责原则</span></li></ol><h1 id="3-参考与感谢"><a href="#3-参考与感谢" class="headerlink" title="3. 参考与感谢"></a>3. 参考与感谢</h1><h2 id="3-1-尚硅谷韩顺平"><a href="#3-1-尚硅谷韩顺平" class="headerlink" title="3.1. 尚硅谷韩顺平"></a>3.1. 尚硅谷韩顺平</h2><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1G4411c7N4?p=20&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204">https://www.bilibili.com/video/BV1G4411c7N4?p=20&amp;vd_source=c5b2d0d7bc377c0c35dbc251d95cf204</a><br>课件已下载：&#x2F;Users&#x2F;Enterprise&#x2F;0003-Architecture&#x2F;架构师之路&#x2F;尚硅谷 - 设计模式<br>示例代码：&#x2F;Users&#x2F;taylor&#x2F;Nutstore Files&#x2F;Obsidian_data&#x2F;pages&#x2F;002-schdule&#x2F;001-Arch&#x2F;001-Subject&#x2F;013-DemoCode&#x2F;DesignPattern</p><h2 id="3-2-黑马程序员"><a href="#3-2-黑马程序员" class="headerlink" title="3.2. 黑马程序员"></a>3.2. 黑马程序员</h2><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Np4y1z7BU?p=35">https://www.bilibili.com/video/BV1Np4y1z7BU?p=35</a></p><p>课件已下载：&#x2F;Volumes&#x2F;Seagate Bas&#x2F;001-ArchitectureRoad&#x2F;资料 -java 设计模式（图解 + 框架源码分析 + 实战）<br>示例代码：&#x2F;Users&#x2F;taylor&#x2F;Nutstore Files&#x2F;Obsidian_data&#x2F;pages&#x2F;002-schdule&#x2F;001-Arch&#x2F;001-Subject&#x2F;013-DemoCode&#x2F;design_patterns</p><p>[[pages&#x2F;002-schdule&#x2F;001-Arch&#x2F;001-Subject&#x2F;009-内功心法专题&#x2F;设计模式&#x2F;黑马&#x2F;设计模式]]</p><h2 id="3-3-网络笔记"><a href="#3-3-网络笔记" class="headerlink" title="3.3. 网络笔记"></a>3.3. 网络笔记</h2><p>笔记： <a target="_blank" rel="noopener" href="https://www.yuque.com/u21195183/fnz31h">https://www.yuque.com/u21195183/fnz31h</a><br>代码： <a target="_blank" rel="noopener" href="https://github.com/vectorxxxx/NOTE_DesignPatterns">https://github.com/vectorxxxx/NOTE_DesignPatterns</a><br>或 <a target="_blank" rel="noopener" href="https://gitee.com/vectorx/NOTE_DesignPatterns">https://gitee.com/vectorx/NOTE_DesignPatterns</a></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="https://taylorluo.github.io">Taylor Luo</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://taylorluo.github.io/2023/01/06/009-%E5%86%85%E5%8A%9F%E5%BF%83%E6%B3%95%E4%B8%93%E9%A2%98/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-2%E3%80%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%8F%8A%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/">https://taylorluo.github.io/2023/01/06/009-%E5%86%85%E5%8A%9F%E5%BF%83%E6%B3%95%E4%B8%93%E9%A2%98/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-2%E3%80%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%8F%8A%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://taylorluo.github.io" target="_blank">Taylor</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%86%85%E5%8A%9F%E5%BF%83%E6%B3%95%E4%B8%93%E9%A2%98/">内功心法专题</a><a class="post-meta__tags" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a><a class="post-meta__tags" href="/tags/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/">设计原则</a></div><div class="post_share"><div class="social-share" data-image="https://picsum.photos/1920/1080" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/01/07/009-%E5%86%85%E5%8A%9F%E5%BF%83%E6%B3%95%E4%B8%93%E9%A2%98/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-1%E3%80%81UML/"><img class="prev-cover" src="https://unpkg.com/justlovesmile-img/cover6.JPG" onerror='onerror=null,src="/null"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">内功心法专题-设计模式-1、UML</div></div></a></div><div class="next-post pull-right"><a href="/2023/01/06/009-%E5%86%85%E5%8A%9F%E5%BF%83%E6%B3%95%E4%B8%93%E9%A2%98/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-3%E3%80%81%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"><img class="next-cover" src="https://picsum.photos/1920/942" onerror='onerror=null,src="/null"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">内功心法专题-设计模式-3、单例模式</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/01/24/009-%E5%86%85%E5%8A%9F%E5%BF%83%E6%B3%95%E4%B8%93%E9%A2%98/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-0%E3%80%81%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%80%BB%E7%BB%93/" title="内功心法专题-设计模式-0、设计模式总结"><img class="cover" src="https://picsum.photos/1920/1080" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-25</div><div class="title">内功心法专题-设计模式-0、设计模式总结</div></div></a></div><div><a href="/2023/01/14/009-%E5%86%85%E5%8A%9F%E5%BF%83%E6%B3%95%E4%B8%93%E9%A2%98/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-10%E3%80%81%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/" title="内功心法专题-设计模式-10、桥接模式"><img class="cover" src="https://picsum.photos/1920/1083" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-15</div><div class="title">内功心法专题-设计模式-10、桥接模式</div></div></a></div><div><a href="/2023/01/15/009-%E5%86%85%E5%8A%9F%E5%BF%83%E6%B3%95%E4%B8%93%E9%A2%98/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-11%E3%80%81%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/" title="内功心法专题-设计模式-11、外观模式"><img class="cover" src="https://picsum.photos/1920/982" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-16</div><div class="title">内功心法专题-设计模式-11、外观模式</div></div></a></div><div><a href="/2023/01/16/009-%E5%86%85%E5%8A%9F%E5%BF%83%E6%B3%95%E4%B8%93%E9%A2%98/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-12%E3%80%81%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/" title="内功心法专题-设计模式-12、组合模式"><img class="cover" src="https://unpkg.com/justlovesmile-img/cover5.JPG" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-17</div><div class="title">内功心法专题-设计模式-12、组合模式</div></div></a></div><div><a href="/2023/01/16/009-%E5%86%85%E5%8A%9F%E5%BF%83%E6%B3%95%E4%B8%93%E9%A2%98/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-13%E3%80%81%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/" title="内功心法专题-设计模式-13、享元模式"><img class="cover" src="https://unpkg.com/justlovesmile-img/cover1.JPG" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-17</div><div class="title">内功心法专题-设计模式-13、享元模式</div></div></a></div><div><a href="/2023/01/16/009-%E5%86%85%E5%8A%9F%E5%BF%83%E6%B3%95%E4%B8%93%E9%A2%98/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-14%E3%80%81%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/" title="内功心法专题-设计模式-14、模板方法模式"><img class="cover" src="https://picsum.photos/1920/942" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-17</div><div class="title">内功心法专题-设计模式-14、模板方法模式</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/index.jpeg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">Taylor Luo</div><div class="author-info__description">人生海海 不忘初心</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">183</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">85</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">31</div></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="toc-text">1. 设计模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">1.1. 是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E4%B8%BA%E4%BB%80%E4%B9%88"><span class="toc-text">1.2. 为什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-%E5%88%86%E7%B1%BB"><span class="toc-text">1.3. 分类</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E4%B8%83%E5%A4%A7%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99"><span class="toc-text">2. 七大设计原则</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99-Open-Closed-Principle"><span class="toc-text">2.1. 开闭原则 (Open Closed Principle)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-1-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">2.1.1. 是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-%E4%B8%BA%E4%BB%80%E4%B9%88"><span class="toc-text">2.1.2. 为什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-3-%E6%A1%88%E4%BE%8B"><span class="toc-text">2.1.3. 案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-4-%E6%BB%A1%E8%B6%B3%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="toc-text">2.1.4. 满足开闭原则的设计模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E9%87%8C%E6%B0%8F%E4%BB%A3%E6%8D%A2%E5%8E%9F%E5%88%99-Liskov-Substitution-Principle"><span class="toc-text">2.2. 里氏代换原则 (Liskov Substitution Principle)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">2.2.1. 是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-%E4%B8%BA%E4%BB%80%E4%B9%88"><span class="toc-text">2.2.2. 为什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3-%E5%A6%82%E4%BD%95%E9%81%B5%E5%BE%AA%E9%87%8C%E6%B0%8F%E6%9B%BF%E6%8D%A2%E5%8E%9F%E5%88%99%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">2.2.3. 如何遵循里氏替换原则⭐️🔴</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E5%90%88%E6%88%90%E5%A4%8D%E7%94%A8%E5%8E%9F%E5%88%99-Composite-Reuse-Principle"><span class="toc-text">2.3. 合成复用原则 (Composite Reuse Principle)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-%E4%BE%9D%E8%B5%96%E5%80%92%E8%BD%AC%E5%8E%9F%E5%88%99-Dependence-Inversion-Principle"><span class="toc-text">2.4. 依赖倒转原则 (Dependence Inversion Principle)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-1-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">2.4.1. 是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-2-%E5%A6%82%E4%BD%95%E5%81%9A%E2%AD%90%EF%B8%8F%F0%9F%94%B4"><span class="toc-text">2.4.2. 如何做⭐️🔴</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-3-%E6%B3%A8%E6%84%8F%E7%BB%86%E8%8A%82"><span class="toc-text">2.4.3. 注意细节</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-4-%E6%A1%88%E4%BE%8B"><span class="toc-text">2.4.4. 案例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-%E6%8E%A5%E5%8F%A3%E9%9A%94%E7%A6%BB%E5%8E%9F%E5%88%99-Interface-Segregation-Principle"><span class="toc-text">2.5. 接口隔离原则 (Interface Segregation Principle)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-%E8%BF%AA%E7%B1%B3%E7%89%B9%E6%B3%95%E5%88%99-Demeter-Principle"><span class="toc-text">2.6. 迪米特法则 (Demeter Principle)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-1-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">2.6.1. 是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-2-%E6%A1%88%E4%BE%8B"><span class="toc-text">2.6.2. 案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-3-%E6%B3%A8%E6%84%8F"><span class="toc-text">2.6.3. 注意</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%8E%9F%E5%88%99-Single-Responsibility-Principle"><span class="toc-text">2.7. 单一职责原则 (Single Responsibility Principle)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-1-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">2.7.1. 是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-2-%E4%B8%BA%E4%BB%80%E4%B9%88"><span class="toc-text">2.7.2. 为什么</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E5%8F%82%E8%80%83%E4%B8%8E%E6%84%9F%E8%B0%A2"><span class="toc-text">3. 参考与感谢</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E5%B0%9A%E7%A1%85%E8%B0%B7%E9%9F%A9%E9%A1%BA%E5%B9%B3"><span class="toc-text">3.1. 尚硅谷韩顺平</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98"><span class="toc-text">3.2. 黑马程序员</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0"><span class="toc-text">3.3. 网络笔记</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/012-%E7%BB%8F%E9%AA%8C%E4%B8%93%E9%A2%98/%E7%BB%8F%E9%AA%8C%E4%B8%93%E9%A2%98-%E9%A3%8E%E6%8E%A7%E7%B3%BB%E7%BB%9F-2%E3%80%81%E9%A3%8E%E6%8E%A7%E4%B8%AD%E5%8F%B0/" title="无题"><img src="https://picsum.photos/1920/1081" onerror='this.onerror=null,this.src="/null"' alt="无题"></a><div class="content"><a class="title" href="/2023/06/13/012-%E7%BB%8F%E9%AA%8C%E4%B8%93%E9%A2%98/%E7%BB%8F%E9%AA%8C%E4%B8%93%E9%A2%98-%E9%A3%8E%E6%8E%A7%E7%B3%BB%E7%BB%9F-2%E3%80%81%E9%A3%8E%E6%8E%A7%E4%B8%AD%E5%8F%B0/" title="无题">无题</a><time datetime="2023-06-13T23:32:43.044Z" title="发表于 2023-06-14 07:32:43">2023-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/005-%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%93%E9%A2%98/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%93%E9%A2%98-15%E3%80%81%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA/" title="分布式专题-15、链路追踪"><img src="https://picsum.photos/1920/962" onerror='this.onerror=null,this.src="/null"' alt="分布式专题-15、链路追踪"></a><div class="content"><a class="title" href="/2023/06/13/005-%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%93%E9%A2%98/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%93%E9%A2%98-15%E3%80%81%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA/" title="分布式专题-15、链路追踪">分布式专题-15、链路追踪</a><time datetime="2023-06-13T16:00:00.000Z" title="发表于 2023-06-14 00:00:00">2023-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/013-%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/%E8%B5%84%E6%BA%90%E5%AF%BC%E8%88%AA/" title="资源导航"><img src="https://picsum.photos/1920/992" onerror='this.onerror=null,this.src="/null"' alt="资源导航"></a><div class="content"><a class="title" href="/2023/06/13/013-%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/%E8%B5%84%E6%BA%90%E5%AF%BC%E8%88%AA/" title="资源导航">资源导航</a><time datetime="2023-06-13T16:00:00.000Z" title="发表于 2023-06-14 00:00:00">2023-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/014-AI%E7%AE%97%E6%B3%95%E4%B8%93%E9%A2%98/%E7%AE%97%E6%B3%95-0%E3%80%81%E6%B1%87%E6%80%BB/" title="算法-0、汇总"><img src="https://picsum.photos/1920/972" onerror='this.onerror=null,this.src="/null"' alt="算法-0、汇总"></a><div class="content"><a class="title" href="/2023/06/13/014-AI%E7%AE%97%E6%B3%95%E4%B8%93%E9%A2%98/%E7%AE%97%E6%B3%95-0%E3%80%81%E6%B1%87%E6%80%BB/" title="算法-0、汇总">算法-0、汇总</a><time datetime="2023-06-13T16:00:00.000Z" title="发表于 2023-06-14 00:00:00">2023-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/014-AI%E7%AE%97%E6%B3%95%E4%B8%93%E9%A2%98/%E7%AE%97%E6%B3%95-1%E3%80%81%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90/" title="算法-1、题目解析"><img src="https://picsum.photos/1920/1082" onerror='this.onerror=null,this.src="/null"' alt="算法-1、题目解析"></a><div class="content"><a class="title" href="/2023/06/13/014-AI%E7%AE%97%E6%B3%95%E4%B8%93%E9%A2%98/%E7%AE%97%E6%B3%95-1%E3%80%81%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90/" title="算法-1、题目解析">算法-1、题目解析</a><time datetime="2023-06-13T16:00:00.000Z" title="发表于 2023-06-14 00:00:00">2023-06-14</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url('https://picsum.photos/1920/1080')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Taylor Luo</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",preloader.endLoading())</script><div class="js-pjax"><script>(()=>{const o=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo-taylorluo.vercel.app/",region:"ap-shanghai",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null)),GLOBAL_CONFIG_SITE.isPost&&(()=>{const o=document.getElementById("twikoo-count");o&&twikoo.getCommentsCount({envId:"https://twikoo-taylorluo.vercel.app/",region:"ap-shanghai",urls:[window.location.pathname],includeReply:!1}).then((function(t){o.innerText=t[0].count})).catch((function(o){console.error(o)}))})()},t=()=>{"object"!=typeof twikoo?getScript("https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(o):setTimeout(o,0)};t()})()</script></div><script defer id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zindex="-1" mobile="false" data-click="true"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="拼搏,自强,正直,自信" data-fontsize="15px" data-random="false" async></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>