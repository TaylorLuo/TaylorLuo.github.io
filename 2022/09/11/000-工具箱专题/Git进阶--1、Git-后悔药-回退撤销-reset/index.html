<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Gitè¿›é˜¶ â€” 1ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-reset | Taylor</title><meta name="keywords" content="Gitè¿›é˜¶"><meta name="author" content="Taylor Luo"><meta name="copyright" content="Taylor Luo"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1. Gitä¸‰æ£µæ ‘ è¯­æ³•commitæ¨¡å¼1git reset (&lt;branch_name&gt;|HEAD|&lt;tree-ish&gt;|&lt;tag_name&gt;) [--mixed | --soft | --hard | --merge | --keep]  fileæ¨¡å¼1git reset (&lt;branch_name&gt;|HEAD|&lt;tree-ish&gt;|"><meta property="og:type" content="article"><meta property="og:title" content="Gitè¿›é˜¶ â€” 1ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-reset"><meta property="og:url" content="https://taylorluo.github.io/2022/09/11/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--1%E3%80%81Git-%E5%90%8E%E6%82%94%E8%8D%AF-%E5%9B%9E%E9%80%80%E6%92%A4%E9%94%80-reset/index.html"><meta property="og:site_name" content="Taylor"><meta property="og:description" content="1. Gitä¸‰æ£µæ ‘ è¯­æ³•commitæ¨¡å¼1git reset (&lt;branch_name&gt;|HEAD|&lt;tree-ish&gt;|&lt;tag_name&gt;) [--mixed | --soft | --hard | --merge | --keep]  fileæ¨¡å¼1git reset (&lt;branch_name&gt;|HEAD|&lt;tree-ish&gt;|"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://picsum.photos/1920/982"><meta property="article:published_time" content="2022-09-11T16:00:00.000Z"><meta property="article:modified_time" content="2023-06-13T23:32:42.660Z"><meta property="article:author" content="Taylor Luo"><meta property="article:tag" content="Gitè¿›é˜¶"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://picsum.photos/1920/982"><link rel="shortcut icon" href="https://gcore.jsdelivr.net/gh/code-anan/image/èœ˜è››ç½‘ä¸‡åœ£èŠ‚.png"><link rel="canonical" href="https://taylorluo.github.io/2022/09/11/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--1%E3%80%81Git-%E5%90%8E%E6%82%94%E8%8D%AF-%E5%9B%9E%E9%80%80%E6%92%A4%E9%94%80-reset/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!0,languages:{hits_empty:"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"ç¹",msgToSimplifiedChinese:"ç®€"},noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶é”™è¯¯",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Gitè¿›é˜¶ â€” 1ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-reset",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-06-14 07:32:42"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)})),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/self/Kimbiedark.css"><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Taylor" type="application/atom+xml"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">åŠ è½½ä¸­...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/index.jpeg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">183</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">85</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">31</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>åˆ†ç±»</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url('https://picsum.photos/1920/982')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Taylor</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>åˆ†ç±»</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Gitè¿›é˜¶ â€” 1ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-reset</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-09-11T16:00:00.000Z" title="å‘è¡¨äº 2022-09-12 00:00:00">2022-09-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-06-13T23:32:42.660Z" title="æ›´æ–°äº 2023-06-14 07:32:42">2023-06-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Git/">Git</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">5.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>20åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span data-flag-title="Gitè¿›é˜¶ â€” 1ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-reset"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="twikoo_visitors"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">è¯„è®ºæ•°:</span><a href="/2022/09/11/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--1%E3%80%81Git-%E5%90%8E%E6%82%94%E8%8D%AF-%E5%9B%9E%E9%80%80%E6%92%A4%E9%94%80-reset/#post-comment"><span id="twikoo-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="1-Gitä¸‰æ£µæ ‘"><a href="#1-Gitä¸‰æ£µæ ‘" class="headerlink" title="1. Gitä¸‰æ£µæ ‘"></a>1. Gitä¸‰æ£µæ ‘</h1><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912154910.png"></p><h1 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h1><h2 id="commitæ¨¡å¼"><a href="#commitæ¨¡å¼" class="headerlink" title="commitæ¨¡å¼"></a>commitæ¨¡å¼</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">git reset (&lt;branch_name&gt;|HEAD|&lt;tree-ish&gt;|&lt;tag_name&gt;) [--mixed | --soft | --hard | --merge | --keep]<br></code></pre></td></tr></table></figure><h2 id="fileæ¨¡å¼"><a href="#fileæ¨¡å¼" class="headerlink" title="fileæ¨¡å¼"></a>fileæ¨¡å¼</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">git reset (&lt;branch_name&gt;|HEAD|&lt;tree-ish&gt;|&lt;tag_name&gt;) [--] &lt;file_path&gt;<br></code></pre></td></tr></table></figure><h1 id="2-æ­£å‘æµç¨‹"><a href="#2-æ­£å‘æµç¨‹" class="headerlink" title="2. æ­£å‘æµç¨‹"></a>2. æ­£å‘æµç¨‹</h1><p>gitçš„æ ¸å¿ƒå·¥ä½œå°±æ˜¯ç®¡ç†è¿™ä¸‰æ£µæ ‘ã€‚<code>git add</code>å°±æ˜¯æŠŠä½ å·¥ä½œç›®å½•(Working Directory)çš„ä¿®æ”¹æäº¤åˆ°æš‚å­˜åŒº(Index)ï¼Œ<code>git commit</code>å°±æ˜¯æŠŠæš‚å­˜åŒºçš„å†…å®¹åŒæ­¥åˆ°ä»“åº“é‡Œä½œä¸ºä¸€ä¸ªå¿«ç…§ï¼Œå¹¶ç§»åŠ¨<code>HEAD</code>æŒ‡å‘æ–°å¿«ç…§ï¼›</p><p>ä¸‰æ£µæ ‘<span style="background-color:#0f0">ä»å³å‘å·¦</span>çœ‹ â¬…ï¸<br>æäº¤å†å²<span style="background-color:#ff0">ä»å·¦åˆ°å³</span>çœ‹â¡ï¸</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912185930.gif"></p><h2 id="2-1-git-init"><a href="#2-1-git-init" class="headerlink" title="2.1. git init"></a>2.1. git init</h2><ul><li>è®©æˆ‘ä»¬æ¥å¯è§†åŒ–è¿™ä¸ªè¿‡ç¨‹ï¼šå‡è®¾è¿›å…¥åˆ°ä¸€ä¸ªæ–°ç›®å½•ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œç§°å…¶ä¸ºè¯¥æ–‡ä»¶çš„ v1 ç‰ˆæœ¬ï¼Œå°†å®ƒæ ‡è®°ä¸ºè“è‰²ï¼Œç°åœ¨è¿è¡Œ git initï¼Œè¿™ä¼šåˆ›å»ºä¸€ä¸ª Git ä»“åº“ï¼Œå…¶ä¸­çš„ HEAD å¼•ç”¨æŒ‡å‘æœªåˆ›å»ºçš„ master åˆ†æ”¯ã€‚<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912210417.png"></li></ul><h2 id="2-2-git-add"><a href="#2-2-git-add" class="headerlink" title="2.2. git add"></a>2.2. git add</h2><ul><li>æ­¤æ—¶ï¼Œåªæœ‰å·¥ä½œç›®å½•æœ‰å†…å®¹ã€‚ç°åœ¨æƒ³è¦æäº¤è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥ç”¨ git add æ¥è·å–å·¥ä½œç›®å½•ä¸­çš„å†…å®¹ï¼Œå¹¶å°†å…¶å¤åˆ¶åˆ°ç´¢å¼•ä¸­ã€‚<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912210453.png"></li></ul><h2 id="2-3-git-commit"><a href="#2-3-git-commit" class="headerlink" title="2.3. git commit"></a>2.3. git commit</h2><ul><li>æ¥ç€è¿è¡Œ git commitï¼Œå®ƒä¼šå–å¾—ç´¢å¼•ä¸­çš„å†…å®¹å¹¶å°†å®ƒä¿å­˜ä¸ºä¸€ä¸ªæ°¸ä¹…çš„å¿«ç…§ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæŒ‡å‘è¯¥å¿«ç…§çš„æäº¤å¯¹è±¡ï¼Œæœ€åæ›´æ–° master æ¥æŒ‡å‘æœ¬æ¬¡æäº¤ã€‚<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912210520.png"></li></ul><h2 id="2-4-edit-file"><a href="#2-4-edit-file" class="headerlink" title="2.4. edit file"></a>2.4. edit file</h2><ul><li>æ­¤æ—¶å¦‚æœæˆ‘ä»¬è¿è¡Œ git statusï¼Œä¼šå‘ç°æ²¡æœ‰ä»»ä½•æ”¹åŠ¨ï¼Œå› ä¸ºç°åœ¨ä¸‰æ£µæ ‘å®Œå…¨ç›¸åŒã€‚ç°åœ¨æƒ³è¦å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ç„¶åæäº¤å®ƒï¼Œå°†ä¼šç»å†åŒæ ·çš„è¿‡ç¨‹ï¼›é¦–å…ˆåœ¨å·¥ä½œç›®å½•ä¸­ä¿®æ”¹æ–‡ä»¶ï¼Œç§°å…¶ä¸ºè¯¥æ–‡ä»¶çš„ v2 ç‰ˆæœ¬ï¼Œå¹¶å°†å®ƒæ ‡è®°ä¸ºçº¢è‰²ï¼š<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912210556.png"></li></ul><h2 id="2-5-git-add"><a href="#2-5-git-add" class="headerlink" title="2.5. git add"></a>2.5. git add</h2><ul><li>å¦‚æœç°åœ¨è¿è¡Œ git statusï¼Œå°†ä¼šçœ‹åˆ°æ–‡ä»¶æ˜¾ç¤ºåœ¨ â€œChanges not staged for commitâ€ ä¸‹é¢å¹¶è¢«æ ‡è®°ä¸ºçº¢è‰²ï¼Œè¿™æ˜¯å› ä¸ºè¯¥æ¡ç›®åœ¨ç´¢å¼•ä¸å·¥ä½œç›®å½•ä¹‹é—´å­˜åœ¨ä¸åŒã€‚æ¥ç€è¿è¡Œ git add æ¥å°†å®ƒæš‚å­˜åˆ°ç´¢å¼•ä¸­ï¼š<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912210623.png"></li></ul><h2 id="2-6-git-commit"><a href="#2-6-git-commit" class="headerlink" title="2.6. git commit"></a>2.6. git commit</h2><ul><li>æ­¤æ—¶ï¼Œç”±äºç´¢å¼•å’Œ HEAD ä¸åŒï¼Œè‹¥è¿è¡Œ git status çš„è¯å°±ä¼šçœ‹åˆ° â€œChanges to be committedâ€ ä¸‹çš„è¯¥æ–‡ä»¶å˜ä¸ºç»¿è‰²ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨é¢„æœŸçš„ä¸‹ä¸€æ¬¡æäº¤ä¸ä¸Šä¸€æ¬¡æäº¤ä¸åŒã€‚æœ€åï¼Œè¿è¡Œ git commit æ¥å®Œæˆæäº¤ï¼š<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912210652.png"></li></ul><h1 id="3-é€†å‘æµç¨‹"><a href="#3-é€†å‘æµç¨‹" class="headerlink" title="3. é€†å‘æµç¨‹"></a>3. é€†å‘æµç¨‹</h1><h2 id="3-1-ç²¾ç®€ç†è§£"><a href="#3-1-ç²¾ç®€ç†è§£" class="headerlink" title="3.1. ç²¾ç®€ç†è§£"></a>3.1. ç²¾ç®€ç†è§£</h2><p>æ˜¾ç„¶ï¼Œ<code>git reset</code>å°±æ˜¯å¯¹ä¸Šè¿°è¡Œä¸ºçš„åå‘æ“ä½œã€‚</p><p><code>reset</code>çš„æœ¬è´¨å…¶å®æœ‰2ä¸ªåŠ¨ä½œï¼š</p><ol><li>ç§»åŠ¨<code>HEAD</code>æŒ‡é’ˆæŒ‡å‘æŸä¸€ä¸ªå¿«ç…§ã€‚</li><li>é€šè¿‡æŒ‡å®šå‚æ•°(3é€‰1ï¼Œä¸å†™åˆ™é»˜è®¤mixed)ï¼Œæ¥<span style="background-color:#ff0">é€’è¿›çš„</span>æ§åˆ¶ï¼Œåœ¨å“ªå‡ é¢—æ ‘ä¸Šè¿›è¡Œè¦†ç›–ã€‚</li></ol><ul><li><code>--soft</code>â€”â€”å¦‚å›¾ç¤ºä¸­åºå·1æ‰€ç¤ºæƒ…å†µï¼Œåªæ”¹å˜æŒ‡é’ˆæŒ‡å‘çš„å¿«ç…§ï¼Œå³åªè¦†ç›–æœ¬åœ°ç‰ˆæœ¬åº“ä¸­çš„æ–‡ä»¶</li><li><code>--mixed</code>â€”â€”å¦‚å›¾ç¤ºä¸­åºå·2æ‰€ç¤ºæƒ…å†µï¼Œè¦†ç›–æœ¬åœ°ç‰ˆæœ¬åº“ä¸­çš„æ–‡ä»¶çš„åŒæ—¶ï¼Œä¹ŸæŠŠå¿«ç…§å†…å®¹åŒæ­¥åˆ°æš‚å­˜åŒºï¼›</li><li><code>--hard</code>â€”â€”å¦‚å›¾ç¤ºä¸­åºå·3æ‰€ç¤ºæƒ…å†µï¼ŒHEADã€Indexæ”¹å˜çš„åŒæ—¶ï¼Œæœ¬åœ°å·¥ä½œåŒºä¹Ÿè¢«è¦†ç›–ã€‚ä¸‰æ£µæ ‘å…¨åŒæ­¥ä¸ºæŒ‡é’ˆæŒ‡å‘çš„å¿«ç…§ï¼›</li></ul><blockquote><p>å¯ä»¥ç»“åˆå‘½ä»¤<code>git diff</code>ã€<code>git diff --cached</code>ã€<code>git ls-files -s</code>ã€<code>git show</code>æˆ–è€…<code>git cat-file -p</code>è¿›è¡ŒéªŒè¯ç†è§£<br><code>git diff</code>è¯·è§<a href="/2022/09/21/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--13%E3%80%81Git%E6%AF%94%E5%AF%B9%E5%90%84%E5%8C%BA%E5%B7%AE%E5%BC%82-git-diff/" title="Gitè¿›é˜¶--13ã€Gitæ¯”å¯¹å„åŒºå·®å¼‚-git diff">Gitè¿›é˜¶--13ã€Gitæ¯”å¯¹å„åŒºå·®å¼‚-git diff</a></p></blockquote><p>ä¸‰æ£µæ ‘ä»å·¦å‘å³ â¡ï¸<br>æäº¤å†å²ä»å³å‘å·¦â¬…ï¸</p><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912192118.gif"></p><ul><li>å‡è®¾å†æ¬¡ä¿®æ”¹äº† file.txt æ–‡ä»¶å¹¶ç¬¬ä¸‰æ¬¡æäº¤å®ƒï¼Œç°åœ¨çš„å†å²çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912214027.png"></li><li>è·Ÿç€ reset çœ‹çœ‹å®ƒéƒ½åšäº†ä»€ä¹ˆï¼Œå®ƒä»¥ä¸€ç§ç®€å•å¯é¢„è§çš„æ–¹å¼ç›´æ¥æ“çºµè¿™ä¸‰æ£µæ ‘ã€‚</li></ul><h2 id="3-2-æ·±å…¥è§£æ"><a href="#3-2-æ·±å…¥è§£æ" class="headerlink" title="3.2. æ·±å…¥è§£æ"></a>3.2. æ·±å…¥è§£æ</h2><h3 id="3-2-1-ç§»åŠ¨-HEAD-â€“soft"><a href="#3-2-1-ç§»åŠ¨-HEAD-â€“soft" class="headerlink" title="3.2.1. ç§»åŠ¨ HEAD(â€“soft)"></a>3.2.1. ç§»åŠ¨ HEAD(â€“soft)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">git reset --soft 9e5e<br></code></pre></td></tr></table></figure><ul><li>reset åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ç§»åŠ¨ HEAD çš„æŒ‡å‘ï¼Œè¿™ä¸æ”¹å˜ HEAD è‡ªèº«ä¸åŒï¼ˆcheckout æ‰€åšçš„ï¼‰ï¼›reset ç§»åŠ¨ HEAD æŒ‡å‘çš„åˆ†æ”¯ã€‚è¿™æ„å‘³ç€å¦‚æœ HEAD è®¾ç½®ä¸º master åˆ†æ”¯ï¼ˆä¾‹å¦‚æ­£åœ¨ master åˆ†æ”¯ä¸Šï¼‰ï¼Œè¿è¡Œ git reset 9e5e6a4 å°†ä¼šä½¿ master æŒ‡å‘ 9e5e6a4ï¼š<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912214305.png"></li><li>æ— è®ºè°ƒç”¨äº†ä½•ç§å½¢å¼çš„å¸¦æœ‰ä¸€ä¸ªæäº¤çš„ resetï¼Œå®ƒé¦–å…ˆéƒ½ä¼šå°è¯•è¿™æ ·åšï¼Œä½¿ç”¨ reset â€“softï¼Œå®ƒå°†ä»…ä»…åœåœ¨é‚£å„¿ã€‚</li><li>ç°åœ¨çœ‹ä¸€çœ¼ä¸Šå›¾ï¼Œç†è§£ä¸€ä¸‹å‘ç”Ÿçš„äº‹æƒ…ï¼šå®ƒæœ¬è´¨ä¸Šæ˜¯<span style="background-color:#0f0">æ’¤é”€äº†ä¸Šä¸€æ¬¡ git commit å‘½ä»¤</span>ã€‚å½“åœ¨è¿è¡Œ git commit æ—¶ï¼ŒGit ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤ï¼Œå¹¶ç§»åŠ¨ HEAD æ‰€æŒ‡å‘çš„åˆ†æ”¯æ¥ä½¿å…¶æŒ‡å‘è¯¥æäº¤ï¼›å½“å°†å®ƒ reset å› HEAD~ï¼ˆHEAD çš„çˆ¶ç»“ç‚¹ï¼‰æ—¶ï¼Œå…¶å®å°±æ˜¯æŠŠè¯¥åˆ†æ”¯ç§»åŠ¨å›åŸæ¥çš„ä½ç½®ï¼Œè€Œä¸ä¼šæ”¹å˜ç´¢å¼•å’Œå·¥ä½œç›®å½•ã€‚ç°åœ¨å¯ä»¥æ›´æ–°ç´¢å¼•(æˆ–è€…åªæ›´æ–°æäº¤å¤‡æ³¨ä¿¡æ¯)ä¹‹åå†æ¬¡è¿è¡Œ git commitã€‚è¿™ä¸ <a href="/2022/09/13/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--5%E3%80%81Git-%E5%90%8E%E6%82%94%E8%8D%AF-%E9%87%8D%E5%86%99%E5%8E%86%E5%8F%B2-gitcommit--amend/" title="Gitè¿›é˜¶ â€” 5ã€Git-åæ‚”è¯-é‡å†™å†å²-git commit--amend">Gitè¿›é˜¶ â€” 5ã€Git-åæ‚”è¯-é‡å†™å†å²-git commit--amend</a> æ‰€è¦åšçš„äº‹æƒ…æ˜¯ç­‰åŒçš„ã€‚</li></ul><h3 id="3-2-2-æ›´æ–°ç´¢å¼•ï¼ˆâ€“mixedï¼‰"><a href="#3-2-2-æ›´æ–°ç´¢å¼•ï¼ˆâ€“mixedï¼‰" class="headerlink" title="3.2.2. æ›´æ–°ç´¢å¼•ï¼ˆâ€“mixedï¼‰"></a>3.2.2. æ›´æ–°ç´¢å¼•ï¼ˆâ€“mixedï¼‰</h3><ul><li>æ³¨æ„ï¼Œå¦‚æœç°åœ¨è¿è¡Œ git status çš„è¯ï¼Œå°±ä¼šçœ‹åˆ°æ–°çš„ HEAD å’Œä»¥ç»¿è‰²æ ‡å‡ºçš„å®ƒå’Œç´¢å¼•ä¹‹é—´çš„åŒºåˆ«ã€‚æ¥ä¸‹æ¥ï¼Œreset ä¼šç”¨ HEAD æŒ‡å‘çš„å½“å‰å¿«ç…§çš„å†…å®¹æ¥æ›´æ–°ç´¢å¼•ï¼š<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912215202.png"></li><li>å¦‚æœæŒ‡å®š â€“mixed é€‰é¡¹ï¼Œreset å°†ä¼šåœ¨<span style="background-color:#ff0">æš‚å­˜åŒºIndex</span>è¿™é‡Œåœæ­¢ï¼Œè¿™ä¹Ÿæ˜¯é»˜è®¤è¡Œä¸ºï¼Œæ‰€ä»¥å¦‚æœæ²¡æœ‰æŒ‡å®šä»»ä½•é€‰é¡¹ï¼ˆä¾‹å­ä¸­åªæ˜¯ git reset HEAD~ï¼‰ï¼Œè¿™å°±æ˜¯å‘½ä»¤å°†ä¼šåœæ­¢çš„åœ°æ–¹ã€‚</li><li>ç°åœ¨å†çœ‹ä¸€çœ¼ä¸Šå›¾ï¼Œç†è§£ä¸€ä¸‹å‘ç”Ÿçš„äº‹æƒ…ï¼šå®ƒä¾ç„¶ä¼šæ’¤é”€ä¸€ä¸Šæ¬¡æäº¤ï¼Œä½†è¿˜ä¼šå–æ¶ˆæš‚å­˜æ‰€æœ‰çš„ä¸œè¥¿ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬<span style="background-color:#0f0">å›æ»šåˆ°äº†æ‰€æœ‰ git add å’Œ git commit çš„å‘½ä»¤æ‰§è¡Œä¹‹å‰</span>ã€‚</li></ul><h3 id="3-2-3-æ›´æ–°å·¥ä½œç›®å½•ï¼ˆâ€“hardï¼‰"><a href="#3-2-3-æ›´æ–°å·¥ä½œç›®å½•ï¼ˆâ€“hardï¼‰" class="headerlink" title="3.2.3. æ›´æ–°å·¥ä½œç›®å½•ï¼ˆâ€“hardï¼‰"></a>3.2.3. æ›´æ–°å·¥ä½œç›®å½•ï¼ˆâ€“hardï¼‰</h3><ul><li><p>reset è¦åšçš„çš„ç¬¬ä¸‰ä»¶äº‹æƒ…å°±æ˜¯è®©å·¥ä½œç›®å½•çœ‹èµ·æ¥åƒç´¢å¼•ã€‚å¦‚æœä½¿ç”¨ â€“hard é€‰é¡¹ï¼Œå®ƒå°†ä¼šç»§ç»­è¿™ä¸€æ­¥ï¼š<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912215320.png"></p></li><li><p>ç°åœ¨æ¥å›æƒ³ä¸€ä¸‹åˆšæ‰å‘ç”Ÿçš„äº‹æƒ…ï¼šæ’¤é”€äº†æœ€åçš„æäº¤ã€git add å’Œ git commit å‘½ä»¤ä»¥åŠå·¥ä½œç›®å½•ä¸­çš„æ‰€æœ‰å·¥ä½œã€‚</p></li><li><p>å¿…é¡»æ³¨æ„ï¼Œ<u><span style="background-color:red">â€“hard æ ‡è®°æ˜¯ reset å‘½ä»¤å”¯ä¸€çš„å±é™©ç”¨æ³•ï¼Œå®ƒä¹Ÿæ˜¯ Git ä¼šçœŸæ­£åœ°é”€æ¯æ•°æ®çš„ä»…æœ‰çš„å‡ ä¸ªæ“ä½œä¹‹ä¸€ã€‚</span></u>å…¶ä»–ä»»ä½•å½¢å¼çš„ reset è°ƒç”¨éƒ½å¯ä»¥è½»æ¾æ’¤æ¶ˆï¼Œä½†æ˜¯ â€“hard é€‰é¡¹ä¸èƒ½ï¼Œå› ä¸ºå®ƒå¼ºåˆ¶è¦†ç›–äº†å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ã€‚åœ¨è¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼ŒGit æ•°æ®åº“ä¸­çš„ä¸€ä¸ªæäº¤å†…è¿˜ç•™æœ‰è¯¥æ–‡ä»¶çš„ v3 ç‰ˆæœ¬ï¼Œå¯ä»¥é€šè¿‡ reflog æ¥æ‰¾å›å®ƒï¼Œä½†æ˜¯è‹¥è¯¥æ–‡ä»¶è¿˜æœªæäº¤ï¼ŒGit ä»ä¼šè¦†ç›–å®ƒä»è€Œå¯¼è‡´æ— æ³•è½»æ¾æ¢å¤ã€‚è‹¥æƒ³æ¢å¤åˆ™éœ€è¦å…¶ä»–å‘½ä»¤ï¼Œè¯·è§<a href="/2022/09/13/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--6%E3%80%81Git%E6%89%BE%E5%9B%9E%E4%B8%A2%E5%A4%B1%E4%BB%A3%E7%A0%81-gitfsck--lost-found/" title="Gitè¿›é˜¶ â€” 6ã€Gitæ‰¾å›ä¸¢å¤±ä»£ç  git fsck --lost-found">Gitè¿›é˜¶ â€” 6ã€Gitæ‰¾å›ä¸¢å¤±ä»£ç  git fsck --lost-found</a><br>WDä¸å®‰å…¨æ“ä½œï¼Œè¯·è§<a href="/2022/09/16/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--8%E3%80%81Git-%E5%90%8E%E6%82%94%E8%8D%AF-%E5%9B%9E%E9%80%80%E6%92%A4%E9%94%80-%E5%A4%A7%E6%80%BB%E7%BB%93/" title="Gitè¿›é˜¶--8ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-å¤§æ€»ç»“">Gitè¿›é˜¶--8ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-å¤§æ€»ç»“</a></p></li><li><p>reset å‘½ä»¤ä¼šä»¥ç‰¹å®šçš„é¡ºåºé‡å†™è¿™ä¸‰æ£µæ ‘ï¼Œåœ¨æŒ‡å®šä»¥ä¸‹é€‰é¡¹æ—¶åœæ­¢ï¼š</p></li><li><ul><li>ç§»åŠ¨ HEAD åˆ†æ”¯çš„æŒ‡å‘ ï¼ˆè‹¥æŒ‡å®šäº† â€“softï¼Œåˆ™åˆ°æ­¤åœæ­¢ï¼‰ï¼›</li></ul></li><li><ul><li>ä½¿ç´¢å¼•çœ‹èµ·æ¥åƒ HEAD ï¼ˆè‹¥æœªæŒ‡å®š â€“hardï¼Œåˆ™åˆ°æ­¤åœæ­¢ï¼‰ï¼›</li></ul></li><li><ul><li>ä½¿å·¥ä½œç›®å½•çœ‹èµ·æ¥åƒç´¢å¼•ã€‚</li></ul></li></ul><h5 id="3-2-3-1-æ¼”ç¤ºç¤ºä¾‹"><a href="#3-2-3-1-æ¼”ç¤ºç¤ºä¾‹" class="headerlink" title="3.2.3.1. æ¼”ç¤ºç¤ºä¾‹"></a>3.2.3.1. æ¼”ç¤ºç¤ºä¾‹</h5><p>ğŸ“¢ ç”±äºå¼•ç”¨çš„æ˜¯ç½‘ç»œåŠ¨å›¾ï¼Œæ‰€ä»¥æ¼”ç¤ºç¤ºä¾‹è·ŸåŠ¨å›¾ä¸­çš„SHA-1å€¼ä¸ä¸€è‡´ï¼Œè¯·æ³¨æ„è¾¨åˆ«ç†è§£</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd ~<br><br>rm -rf recovery<br><br>mkdir recovery;cd recovery<br><br>git init .<br><br>echo &quot;hello v1&quot; &gt; file.txt<br><br>git status<br><br>git add .<br><br>git commit -m &quot;v1&quot;<br><br>echo &quot;hello v2&quot; &gt;&gt; file.txt<br><br>git add .<br><br>git commit -m &quot;v2&quot;<br><br>echo &quot;hello v3&quot; &gt;&gt; file.txt<br><br>git add .<br><br>git commit -m &quot;v3&quot;<br><br>git log<br></code></pre></td></tr></table></figure><p><code>git reflog</code>æŸ¥çœ‹å¼•ç”¨å†å²</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">d4e752c (HEAD -&gt; master) HEAD@&#123;0&#125;: commit: v3<br><br>e32d991 HEAD@&#123;1&#125;: commit: v2<br><br>c3daf0c HEAD@&#123;2&#125;: commit (initial): v1<br><br>(END)<br></code></pre></td></tr></table></figure><p><code>git log</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">commit d4e752c4d65dddd8a45962c7bb1937256534cd48 (HEAD -&gt; master)<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Thu Sep 15 12:39:51 2022 +0800<br><br>  <br><br>Â  Â  v3<br><br>  <br><br>commit e32d991ec050e7b8d5183c1c9c02206d5b59982f<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Thu Sep 15 12:39:51 2022 +0800<br><br>  <br><br>Â  Â  v2<br><br>  <br><br>commit c3daf0c0af95d50ec25af70f48741bb1e3ff27ca<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Thu Sep 15 12:39:51 2022 +0800<br><br>  <br><br>Â  Â  v1<br><br>(END)<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨â€“softå›åˆ°v2 commitä¹‹åï¼Œgit logå¦‚ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git reset --soft e32d<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">commit e32d991ec050e7b8d5183c1c9c02206d5b59982f (HEAD -&gt; master)<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Thu Sep 15 12:39:51 2022 +0800<br><br>  <br><br>Â  Â  v2<br><br>  <br><br>commit c3daf0c0af95d50ec25af70f48741bb1e3ff27ca<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Thu Sep 15 12:39:51 2022 +0800<br><br>  <br><br>Â  Â  v1<br><br>(END)<br></code></pre></td></tr></table></figure><p><code>git reflog</code>å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">e32d991 (HEAD -&gt; master) HEAD@&#123;0&#125;: reset: moving to e32d<br><br>d4e752c HEAD@&#123;1&#125;: commit: v3<br><br>e32d991 (HEAD -&gt; master) HEAD@&#123;2&#125;: commit: v2<br><br>c3daf0c HEAD@&#123;3&#125;: commit (initial): v1<br><br>(END)<br></code></pre></td></tr></table></figure><p><code>git status</code>å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">âœÂ  recovery git:(master) âœ— git status<br><br>ä½äºåˆ†æ”¯ master<br><br>è¦æäº¤çš„å˜æ›´ï¼š<br><br>Â  ï¼ˆä½¿ç”¨ &quot;git restore --staged &lt;æ–‡ä»¶&gt;...&quot; ä»¥å–æ¶ˆæš‚å­˜ï¼‰<br><br>ä¿®æ”¹ï¼š Â  Â  file.txt<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°â€“softåªæ˜¯å›é€€äº†commitåˆ°æœ¬åœ°ç‰ˆæœ¬åº“çš„æ“ä½œï¼Œæ–‡ä»¶ä¸ºç»¿è‰²ï¼Œè¡¨ç¤ºå·²ç»addåˆ°äº†æš‚å­˜åŒº</p><p>mixedå’Œhardï¼Œä¸åšæ¼”ç¤º</p><h2 id="3-3-é€šè¿‡è·¯å¾„æ¥é‡ç½®"><a href="#3-3-é€šè¿‡è·¯å¾„æ¥é‡ç½®" class="headerlink" title="3.3. é€šè¿‡è·¯å¾„æ¥é‡ç½®"></a>3.3. é€šè¿‡è·¯å¾„æ¥é‡ç½®</h2><p>ç†æ¸…äº† reset åŸºæœ¬å½¢å¼çš„è¡Œä¸ºï¼Œä¸è¿‡æˆ‘ä»¬è¿˜å¯ä»¥ç»™å®ƒæä¾›ä¸€ä¸ªä½œç”¨è·¯å¾„ï¼šè‹¥æŒ‡å®šäº†ä¸€ä¸ªè·¯å¾„ï¼Œreset å°†ä¼š<span style="background-color:#ff0"><font color="#ff0000">è·³è¿‡</font></span><span style="background-color:#ff0">ç¬¬â‘  æ­¥(ç§»åŠ¨ HEAD)ï¼Œå³åªè¦åŠ äº†è·¯å¾„ï¼ŒHEADæ˜¯ä¸åŠ¨çš„</span>ï¼Œå¹¶ä¸”å°†å®ƒçš„ä½œç”¨èŒƒå›´é™å®šä¸ºæŒ‡å®šçš„æ–‡ä»¶æˆ–æ–‡ä»¶é›†åˆã€‚<br>è¿™æ ·åšè‡ªç„¶æœ‰å®ƒçš„é“ç†ï¼Œå› ä¸º HEAD åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæ— æ³•è®©å®ƒåŒæ—¶æŒ‡å‘ä¸¤ä¸ªæäº¤ä¸­å„è‡ªçš„ä¸€éƒ¨åˆ†ï¼Œä¸è¿‡ç´¢å¼•å’Œå·¥ä½œç›®å½•å¯ä»¥éƒ¨åˆ†æ›´æ–°ï¼Œæ‰€ä»¥é‡ç½®å¯ä»¥<span style="background-color:#0f0">ç»§ç»­è¿›è¡Œç¬¬ â‘¡æ­¥(æ›´æ–°ç´¢å¼•) å’Œç¬¬ â‘¢ æ­¥(æ›´æ–°å·¥ä½œç›®å½•)</span>ã€‚</p><p>ğŸ“¢ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<span style="background-color:#ff0">åŠ äº†è·¯å¾„å°±ä¸èƒ½å†åŠ â€“softæˆ–è€…â€“hard</span></p><blockquote><p>å› ä¸ºgitè§„å®šåŠ äº†è·¯å¾„ï¼ŒHEADå°±ä¸ä¼šåŠ¨ï¼Œæ‰€ä»¥åŠ â€“softä¹Ÿä¸ä¼šèµ·ä½œç”¨<br>ç¡¬é‡ç½®çš„è¯ï¼Œæœ‰git checkout HEAD â€“pathï¼Œæ‰€ä»¥ä¸ºäº†ç®€åŒ–resetå’Œå‡å°‘é”™è¯¯å‘ç”Ÿçš„ç›®çš„ï¼Œâ€“hardä¹Ÿæ˜¯ä¸å…è®¸çš„ï¼Œå¦åˆ™ä¼šæŠ¥ <font color="#ff0000">fatal: ä¸èƒ½å¸¦è·¯å¾„è¿›è¡Œè½¯æ€§&#x2F;ç¡¬æ€§é‡ç½®</font></p></blockquote><h4 id="3-3-1-ä¸åŠ åˆ†æ”¯åæˆ–commitçš„SHA-1"><a href="#3-3-1-ä¸åŠ åˆ†æ”¯åæˆ–commitçš„SHA-1" class="headerlink" title="3.3.1. ä¸åŠ åˆ†æ”¯åæˆ–commitçš„SHA-1"></a>3.3.1. ä¸åŠ åˆ†æ”¯åæˆ–commitçš„SHA-1</h4><h5 id="3-3-1-1-ä½œç”¨åŸç†"><a href="#3-3-1-1-ä½œç”¨åŸç†" class="headerlink" title="3.3.1.1. ä½œç”¨åŸç†"></a>3.3.1.1. ä½œç”¨åŸç†</h5><ul><li>ç°åœ¨ï¼Œå‡å¦‚è¿è¡Œ git reset file.txt ï¼ˆè¿™å…¶å®æ˜¯ git reset â€“mixed HEAD file.txt çš„ç®€å†™å½¢å¼ï¼Œå› ä¸ºæ—¢æ²¡æœ‰æŒ‡å®šä¸€ä¸ªæäº¤çš„ SHA-1 æˆ–åˆ†æ”¯ï¼Œä¹Ÿæ²¡æœ‰æŒ‡å®š â€“soft æˆ– â€“hardï¼‰ï¼Œå®ƒä¼šï¼š</li><li><ul><li>ç§»åŠ¨ HEAD åˆ†æ”¯çš„æŒ‡å‘ ï¼ˆå·²è·³è¿‡ï¼‰ï¼Œ<font color="#ff0000"><span style="background-color:#ff0">ä½¿ç”¨å½“å‰HEADæŒ‡å‘çš„commit</span></font>ï¼›</li></ul></li><li><ul><li>è®©ç´¢å¼•çœ‹èµ·æ¥åƒ HEAD ï¼ˆåˆ°æ­¤å¤„åœæ­¢ï¼‰ï¼Œæ‹¿HEADä¸­çš„è¦†ç›–Indexç´¢å¼•åŒºï¼›</li></ul></li><li>æ‰€ä»¥å®ƒæœ¬è´¨ä¸Šåªæ˜¯<span style="background-color:#0f0">å°† file.txt ä» HEAD è¦†ç›–åˆ°ç´¢å¼•ä¸­</span>ã€‚å³ä¿<span style="background-color:#0f0">ç•™å·¥ä½œåŒºæˆæœï¼Œå›é€€addå’Œcommit</span><br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912223302.png"></li></ul><p><strong>å®é™…åº”ç”¨åœºæ™¯</strong><br><span style="background-color:#0f0">å–æ¶ˆæš‚å­˜æ–‡ä»¶</span><br>å¦‚æœæŸ¥çœ‹è¯¥å‘½ä»¤çš„ç¤ºæ„å›¾ï¼Œç„¶åå†æƒ³æƒ³ git add æ‰€åšçš„äº‹ï¼Œå°±ä¼šå‘ç°å®ƒä»¬æ­£å¥½ç›¸åã€‚</p><h5 id="3-3-1-2-æ¼”ç¤ºç¤ºä¾‹"><a href="#3-3-1-2-æ¼”ç¤ºç¤ºä¾‹" class="headerlink" title="3.3.1.2. æ¼”ç¤ºç¤ºä¾‹"></a>3.3.1.2. æ¼”ç¤ºç¤ºä¾‹</h5><p>æˆ‘ä»¬åšåˆ°v2commitä¹‹å‰è¿™ä¸€æ­¥ï¼Œç„¶åæ‰§è¡Œ<code>git reset file.txt</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd ~<br><br>rm -rf recovery<br><br>mkdir recovery;cd recovery<br><br>git init .<br><br>echo &quot;hello v1&quot; &gt; file.txt<br><br>git status<br><br>git add .<br><br>git commit -m &quot;v1&quot;<br><br>echo &quot;hello v2&quot; &gt;&gt; file.txt<br><br>git add .<br></code></pre></td></tr></table></figure><p><code></code> git status&#96;</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">âœÂ  recovery git:(master) âœ— git statusÂ  Â <br><br>ä½äºåˆ†æ”¯ master<br><br>è¦æäº¤çš„å˜æ›´ï¼š<br><br>Â  ï¼ˆä½¿ç”¨ &quot;git restore --staged &lt;æ–‡ä»¶&gt;...&quot; ä»¥å–æ¶ˆæš‚å­˜ï¼‰<br><br>ä¿®æ”¹ï¼š Â  Â  file.txt<br><br>  <br><br>âœÂ  recovery git:(master) âœ— cat file.txt<br><br>hello v1<br><br>hello v2<br><br>âœÂ  recovery git:(master) âœ—<br></code></pre></td></tr></table></figure><p><code>git reflog</code>å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">f7138cf (HEAD -&gt; master) HEAD@&#123;0&#125;: commit (initial): v1<br></code></pre></td></tr></table></figure><p><code>git reset file.txt</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">âœÂ  recovery git:(master) âœ— git reset file.txt<br><br>é‡ç½®åå–æ¶ˆæš‚å­˜çš„å˜æ›´ï¼š<br><br>M file.txt<br><br>âœÂ  recovery git:(master) âœ— cat file.txt<br><br>hello v1<br><br>hello v2<br><br>âœÂ  recovery git:(master) âœ— git status Â  Â  Â  Â <br><br>ä½äºåˆ†æ”¯ master<br><br>å°šæœªæš‚å­˜ä»¥å¤‡æäº¤çš„å˜æ›´ï¼š<br><br>Â  ï¼ˆä½¿ç”¨ &quot;git add &lt;æ–‡ä»¶&gt;...&quot; æ›´æ–°è¦æäº¤çš„å†…å®¹ï¼‰<br><br>Â  ï¼ˆä½¿ç”¨ &quot;git restore &lt;æ–‡ä»¶&gt;...&quot; ä¸¢å¼ƒå·¥ä½œåŒºçš„æ”¹åŠ¨ï¼‰<br><br>ä¿®æ”¹ï¼š Â  Â  file.txt<br><br>  <br><br>ä¿®æ”¹å°šæœªåŠ å…¥æäº¤ï¼ˆä½¿ç”¨ &quot;git add&quot; å’Œ/æˆ– &quot;git commit -a&quot;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæš‚å­˜åŒºçš„æ–‡ä»¶è¢«æ¸…ç©ºäº†ï¼Œå·¥ä½œåŒºçš„æ–‡ä»¶å†…å®¹æ²¡æœ‰å˜åŒ–</p><h4 id="3-3-2-åŠ åˆ†æ”¯åæˆ–commitçš„SHA-1"><a href="#3-3-2-åŠ åˆ†æ”¯åæˆ–commitçš„SHA-1" class="headerlink" title="3.3.2. åŠ åˆ†æ”¯åæˆ–commitçš„SHA-1"></a>3.3.2. åŠ åˆ†æ”¯åæˆ–commitçš„SHA-1</h4><h5 id="3-3-2-1-ä½œç”¨åŸç†"><a href="#3-3-2-1-ä½œç”¨åŸç†" class="headerlink" title="3.3.2.1. ä½œç”¨åŸç†"></a>3.3.2.1. ä½œç”¨åŸç†</h5><p>æˆ‘ä»¬å¯ä»¥ä¸è®© Git ä» HEAD æ‹‰å–æ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡<span style="background-color:#ff0">å…·ä½“æŒ‡å®šä¸€ä¸ªæäº¤æ¥æ‹‰å–è¯¥æ–‡ä»¶çš„å¯¹åº”ç‰ˆæœ¬</span>ï¼Œåªéœ€è¿è¡Œç±»ä¼¼äº git reset eb43bf file.txt çš„å‘½ä»¤å³å¯ï¼š<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912224320.png"></p><ul><li>å¦‚æœç°åœ¨è¿è¡Œ git commitï¼Œå®ƒå°±ä¼šè®°å½•ä¸€æ¡â€œå°†è¯¥æ–‡ä»¶æ¢å¤åˆ° v1 ç‰ˆæœ¬â€çš„æ›´æ”¹ï¼Œå°½ç®¡æˆ‘ä»¬å¹¶æœªåœ¨å·¥ä½œç›®å½•ä¸­çœŸæ­£åœ°å†æ¬¡æ‹¥æœ‰å®ƒã€‚</li><li>è¿˜æœ‰ä¸€ç‚¹åŒ git add ä¸€æ ·ï¼Œå°±æ˜¯ reset å‘½ä»¤ä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ª â€“patch é€‰é¡¹æ¥ä¸€å—ä¸€å—åœ°å–æ¶ˆæš‚å­˜çš„å†…å®¹ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®é€‰æ‹©æ¥å–æ¶ˆæš‚å­˜æˆ–æ¢å¤å†…å®¹ã€‚</li><li>é‚£å·¥ä½œåŒºèƒ½ä¸èƒ½å¼ºåˆ¶è¦†ç›–å‘¢ï¼Œå³<code>git reset SHA-1 --hard file.txt</code>ï¼Œç­”æ¡ˆæ˜¯noï¼Œä¼šæç¤º<br>fatal: ä¸èƒ½å¸¦è·¯å¾„è¿›è¡Œç¡¬æ€§é‡ç½®ã€‚é‚£â€“softå‘¢ï¼Œèªæ˜å¦‚ä½ ï¼Œå¯ä»¥çŒœåˆ°ä¼šå¾—åˆ° fatal: ä¸èƒ½å¸¦è·¯å¾„è¿›è¡Œè½¯æ€§é‡ç½®ã€‚åŸå› å‰é¢å·²ç»è®²è¿‡ã€‚</li><li>soï¼Œå¸¦è·¯å¾„å¸¦åˆ†æ”¯åæˆ–è€…commitçš„åªæœ‰é»˜è®¤mixedå‚æ•°ï¼Œä½œç”¨<font color="#ff0000"><span style="background-color:#ff0">å¯ä»¥ç†è§£ä¸ºæ‹¿æŸä¸ªæ–‡ä»¶æˆ–è·¯å¾„çš„æŸä¸ªcommitçš„å†…å®¹ä»…ä»…è¦†ç›–æš‚å­˜åŒº</span></font></li></ul><blockquote><p>å½“æ£€æµ‹åˆ°æ–‡ä»¶è·¯å¾„æ—¶ï¼Œ<code>git reset</code>Â å°†ç¼“å­˜åŒºåŒæ­¥åˆ°ä½ æŒ‡å®šçš„é‚£ä¸ªæäº¤ã€‚æ¯”å¦‚ï¼Œä¸‹é¢è¿™ä¸ªå‘½ä»¤ä¼šå°†å€’æ•°ç¬¬äºŒä¸ªæäº¤ä¸­çš„foo.pyåŠ å…¥åˆ°ç¼“å­˜åŒºä¸­ï¼Œä¾›ä¸‹ä¸€ä¸ªæäº¤ä½¿ç”¨ã€‚</p></blockquote><p>git reset HEAD~2 foo.py<br>å’Œæäº¤å±‚é¢çš„<code>git reset</code>ä¸€æ ·ï¼Œé€šå¸¸æˆ‘ä»¬ä½¿ç”¨HEADè€Œä¸æ˜¯æŸä¸ªç‰¹å®šçš„æäº¤ã€‚è¿è¡Œ<code>git reset HEAD foo.py</code>Â ä¼šå°†å½“å‰çš„foo.pyä»ç¼“å­˜åŒºä¸­ç§»é™¤å‡ºå»ï¼Œè€Œä¸ä¼šå½±å“å·¥ä½œç›®å½•ä¸­å¯¹foo.pyçš„æ›´æ”¹ã€‚<br>â€“softã€â€“mixedå’Œâ€“hardå¯¹æ–‡ä»¶å±‚é¢çš„<code>git reset</code>æ¯«æ— ä½œç”¨ï¼Œå› ä¸ºç¼“å­˜åŒºä¸­çš„æ–‡ä»¶ä¸€å®šä¼šå˜åŒ–ï¼Œè€Œå·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ä¸€å®šä¸å˜ã€‚</p><h5 id="3-3-2-2-æ¼”ç¤ºç¤ºä¾‹"><a href="#3-3-2-2-æ¼”ç¤ºç¤ºä¾‹" class="headerlink" title="3.3.2.2. æ¼”ç¤ºç¤ºä¾‹"></a>3.3.2.2. æ¼”ç¤ºç¤ºä¾‹</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd ~<br><br>rm -rf recovery<br><br>mkdir recovery;cd recovery<br><br>git init .<br><br>echo &quot;hello v1&quot; &gt; file.txt<br><br>git status<br><br>git add .<br><br>git commit -m &quot;v1&quot;<br><br>echo &quot;hello v2&quot; &gt;&gt; file.txt<br><br>git add .<br><br>git commit -m &quot;v2&quot;<br><br>echo &quot;hello v3&quot; &gt;&gt; file.txt<br><br>git add .<br><br>git commit -m &quot;v3&quot;<br><br>git log<br></code></pre></td></tr></table></figure><p><code>git reflog</code>å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ae08e71 (HEAD -&gt; master) HEAD@&#123;0&#125;: commit: v3<br><br>ec6224c HEAD@&#123;1&#125;: commit: v2<br><br>1c8edce HEAD@&#123;2&#125;: commit (initial): v1<br><br>(END)<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">âœÂ  recovery git:(master) git status<br><br>ä½äºåˆ†æ”¯ master<br><br>æ— æ–‡ä»¶è¦æäº¤ï¼Œå¹²å‡€çš„å·¥ä½œåŒº<br><br>âœÂ  recovery git:(master) cat file.txt<br><br>hello v1<br><br>hello v2<br><br>hello v3<br><br>âœÂ  recovery git:(master)<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬ç…§ä¾‹ç”¨v1çš„commitè¿›è¡Œå›é€€<br><code>git reset 1c8e file.txt</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">âœÂ  recovery git:(master) git reset 1c8e file.txt<br><br>é‡ç½®åå–æ¶ˆæš‚å­˜çš„å˜æ›´ï¼š<br><br>M file.txt<br><br>âœÂ  recovery git:(master) âœ— git statusÂ  Â  Â  Â  Â  Â  Â <br><br>ä½äºåˆ†æ”¯ master<br><br>è¦æäº¤çš„å˜æ›´ï¼š<br><br>Â  ï¼ˆä½¿ç”¨ &quot;git restore --staged &lt;æ–‡ä»¶&gt;...&quot; ä»¥å–æ¶ˆæš‚å­˜ï¼‰<br><br>ä¿®æ”¹ï¼š Â  Â  file.txt<br><br>  <br><br>å°šæœªæš‚å­˜ä»¥å¤‡æäº¤çš„å˜æ›´ï¼š<br><br>Â  ï¼ˆä½¿ç”¨ &quot;git add &lt;æ–‡ä»¶&gt;...&quot; æ›´æ–°è¦æäº¤çš„å†…å®¹ï¼‰<br><br>Â  ï¼ˆä½¿ç”¨ &quot;git restore &lt;æ–‡ä»¶&gt;...&quot; ä¸¢å¼ƒå·¥ä½œåŒºçš„æ”¹åŠ¨ï¼‰<br><br>ä¿®æ”¹ï¼š Â  Â  file.txt<br><br>  <br><br>âœÂ  recovery git:(master) âœ— cat file.txt<br><br>hello v1<br><br>hello v2<br><br>hello v3<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æš‚å­˜åŒºåŠ å…¥äº†æ–‡ä»¶ï¼ŒæŸ¥çœ‹å†…å®¹ï¼Œå‘ç°æš‚å­˜åŒºç¡®å®å˜ä¸ºäº†v1ç‰ˆæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">âœÂ  recovery git:(master) âœ— git ls-files -s<br><br>100644 d21fe316a0e9578aea75decc8c60e2a899534708 0 file.txt<br><br>âœÂ  recovery git:(master) âœ— git show d21f<br><br>hello v1<br><br>(END)<br></code></pre></td></tr></table></figure><blockquote><p>å·¥ä½œåŒºæ–‡ä»¶ä¸ºçº¢è‰²ï¼Œè¡¨ç¤ºè¢«ä¿®æ”¹ï¼Œè™½ç„¶é»˜è®¤æ˜¯mixedè¦†ç›–åˆ°æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºç›¸å½“äºåšäº†è¦†ç›–ï¼Œç„¶ååˆæ”¹æˆäº†v3ç‰ˆæœ¬ï¼Œæ‰€ä»¥æ˜¯çº¢è‰²</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">âœÂ  recovery git:(master) âœ— cat file.txt<br><br>hello v1<br><br>hello v2<br><br>hello v3<br></code></pre></td></tr></table></figure><p>æ­¤æ—¶æˆ‘ä»¬<code>git commit</code>ä¸€ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">âœÂ  recovery git:(master) âœ— git commit -m &quot;commit after reset&quot;<br><br>[master 08d4efd] commit after reset<br><br>Â 1 file changed, 2 deletions(-)<br><br>âœÂ  recovery git:(master) âœ— git status Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <br><br>ä½äºåˆ†æ”¯ master<br><br>å°šæœªæš‚å­˜ä»¥å¤‡æäº¤çš„å˜æ›´ï¼š<br><br>Â  ï¼ˆä½¿ç”¨ &quot;git add &lt;æ–‡ä»¶&gt;...&quot; æ›´æ–°è¦æäº¤çš„å†…å®¹ï¼‰<br><br>Â  ï¼ˆä½¿ç”¨ &quot;git restore &lt;æ–‡ä»¶&gt;...&quot; ä¸¢å¼ƒå·¥ä½œåŒºçš„æ”¹åŠ¨ï¼‰<br><br>ä¿®æ”¹ï¼š Â  Â  file.txt<br><br>  <br><br>ä¿®æ”¹å°šæœªåŠ å…¥æäº¤ï¼ˆä½¿ç”¨ &quot;git add&quot; å’Œ/æˆ– &quot;git commit -a&quot;ï¼‰<br><br>âœÂ  recovery git:(master) âœ— git log Â  Â  Â  Â <br><br>  <br><br>)<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Thu Sep 15 15:01:53 2022 +0800<br><br>  <br><br>Â  Â  commit after reset<br><br>  <br><br>commit ae08e7126daa0b323fc8bcf55a273ddd0f18ccb2<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Thu Sep 15 14:41:03 2022 +0800<br><br>  <br><br>Â  Â  v3<br><br>  <br><br>commit ec6224cc5549e06ac0b8b65a00dd8472ac30128e<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Thu Sep 15 14:41:03 2022 +0800<br><br>  <br><br>Â  Â  v2<br><br>  <br><br>commit 1c8edced86209178b3ff52ed782afbeecfe02420<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Thu Sep 15 14:41:03 2022 +0800<br><br>  <br><br>Â  Â  v1<br></code></pre></td></tr></table></figure><p><code>git reflog</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">08d4efd (HEAD -&gt; master) HEAD@&#123;0&#125;: commit: commit after reset<br><br>ae08e71 HEAD@&#123;1&#125;: commit: v3<br><br>ec6224c HEAD@&#123;2&#125;: commit: v2<br><br>1c8edce HEAD@&#123;3&#125;: commit (initial): v1<br><br>(END)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€æ¬¡æäº¤ï¼Œ <code>git show 08d4</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">commit 08d4efd3c3910ac07b0c19f47f754d797f4c2e98 (HEAD -&gt; master)<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Thu Sep 15 15:01:53 2022 +0800<br><br>  <br><br>Â  Â  commit after reset<br><br>  <br><br>diff --git a/file.txt b/file.txt<br><br>index 56dc9b1..d21fe31 100644<br><br>--- a/file.txt<br><br>+++ b/file.txt<br><br>@@ -1,3 +1 @@<br><br>Â hello v1<br><br>-hello v2<br><br>-hello v3<br><br>(END)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å›é€€åˆ°äº†v1ç‰ˆæœ¬<br>ä½†æ­¤æ—¶å·¥ä½œåŒºè¿˜æ˜¯v3çš„ç‰ˆæœ¬ï¼Œæƒ³ä¹Ÿå›é€€åˆ°v1ï¼Œå¯ä»¥ä½¿ç”¨<code>git reset --hard</code>æˆ–è€…<code>git checkout file.txt</code></p><h2 id="3-4-å‹ç¼©æäº¤"><a href="#3-4-å‹ç¼©æäº¤" class="headerlink" title="3.4. å‹ç¼©æäº¤"></a>3.4. å‹ç¼©æäº¤</h2><h5 id="3-4-1-ä½œç”¨åŸç†"><a href="#3-4-1-ä½œç”¨åŸç†" class="headerlink" title="3.4.1. ä½œç”¨åŸç†"></a>3.4.1. ä½œç”¨åŸç†</h5><p>å‡è®¾ä¸€ç³»åˆ—æäº¤ä¿¡æ¯ä¸­æœ‰ â€œoops.â€â€œWIPâ€ å’Œ â€œforgot this fileâ€ï¼Œ å°±èƒ½ä½¿ç”¨ reset æ¥è½»æ¾å¿«é€Ÿåœ°å°†å®ƒä»¬å‹ç¼©æˆå•ä¸ªæäº¤ã€‚å‡è®¾æœ‰ä¸€ä¸ªé¡¹ç›®ï¼Œç¬¬ä¸€æ¬¡æäº¤ä¸­æœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œç¬¬äºŒæ¬¡æäº¤å¢åŠ äº†ä¸€ä¸ªæ–°çš„æ–‡ä»¶å¹¶ä¿®æ”¹äº†ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼Œç¬¬ä¸‰æ¬¡æäº¤å†æ¬¡ä¿®æ”¹äº†ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼Œç”±äºç¬¬äºŒæ¬¡æäº¤æ˜¯ä¸€ä¸ªæœªå®Œæˆçš„å·¥ä½œï¼Œå› æ­¤éœ€è¦å‹ç¼©å®ƒã€‚<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912225040.png"></p><ul><li>é‚£ä¹ˆå¯ä»¥è¿è¡Œ git reset â€“soft HEAD~2 æ¥å°† HEAD åˆ†æ”¯ç§»åŠ¨åˆ°ä¸€ä¸ªæ—§ä¸€ç‚¹çš„æäº¤ä¸Šï¼ˆå³æƒ³è¦ä¿ç•™çš„æœ€è¿‘çš„æäº¤ï¼‰ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912225127.png"></p><ul><li>ç„¶ååªéœ€å†æ¬¡è¿è¡Œ git commitï¼š<br><img src="https://raw.githubusercontent.com/TaylorLuo/typora-imgs/master/img20220912225245.png"></li><li>ç°åœ¨å¯ä»¥æŸ¥çœ‹å¯åˆ°è¾¾çš„å†å²ï¼Œå³å°†ä¼šæ¨é€çš„å†å²ï¼Œç°åœ¨çœ‹èµ·æ¥æœ‰ä¸ª v1 ç‰ˆ file-a.txt çš„æäº¤ï¼Œæ¥ç€ç¬¬äºŒä¸ªæäº¤å°† file-a.txt ä¿®æ”¹æˆäº† v3 ç‰ˆå¹¶å¢åŠ äº† file-b.txtï¼ŒåŒ…å« v2 ç‰ˆæœ¬çš„æ–‡ä»¶å·²ç»ä¸åœ¨å†å²ä¸­ã€‚</li></ul><h5 id="3-4-2-æ¼”ç¤ºç¤ºä¾‹"><a href="#3-4-2-æ¼”ç¤ºç¤ºä¾‹" class="headerlink" title="3.4.2. æ¼”ç¤ºç¤ºä¾‹"></a>3.4.2. æ¼”ç¤ºç¤ºä¾‹</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">cd ~<br><br>rm -rf recovery<br><br>mkdir recovery;cd recovery<br><br>git init .<br><br>echo &quot;init file-a.txt v1&quot; &gt; file-a.txt<br><br>git status<br><br>git add .<br><br>git commit -m &quot;init file-a.txt v1&quot;<br><br><br><br>echo &quot;update file-a.txt v2&quot; &gt;&gt; file-a.txt<br><br>echo &quot;init file-b.txt v1&quot; &gt;&gt; file-b.txt<br><br>git add .<br><br>git commit -m &quot;update file-a.txt v2&quot;<br><br><br><br>echo &quot;finish fix file-a.txt v3&quot; &gt;&gt; file-a.txt<br><br>git add .<br><br>git commit -m &quot;finish fix file-a.txt v3&quot;<br><br>git log<br></code></pre></td></tr></table></figure><p><code>git log</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">commit de9545c70d3005351b1724d6c87e8610db4d0611 (HEAD -&gt; master)<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Fri Sep 16 14:27:11 2022 +0800<br><br>  <br><br>Â  Â  finish fix file-a.txt v3<br><br>  <br><br>commit cf4753faaf9cb1ac03eeacebb725e59408420b9a<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Fri Sep 16 14:27:11 2022 +0800<br><br>  <br><br>Â  Â  update file-a.txt v2<br><br>  <br><br>commit cfb20be06b826848f1330426b06ae795cd09a9a3<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Fri Sep 16 14:27:11 2022 +0800<br><br>  <br><br>Â  Â  init file-a.txt v1<br><br>(END)<br></code></pre></td></tr></table></figure><p><code>git reflog</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">de9545c (HEAD -&gt; master) HEAD@&#123;0&#125;: commit: finish fix file-a.txt v3<br><br>cf4753f HEAD@&#123;1&#125;: commit: update file-a.txt v2<br><br>cfb20be HEAD@&#123;2&#125;: commit (initial): init file-a.txt v1<br><br>(END)<br></code></pre></td></tr></table></figure><p><code>git reset --soft HEAD~2</code></p><p><code>git log</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">commit cfb20be06b826848f1330426b06ae795cd09a9a3 (HEAD -&gt; master)<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Fri Sep 16 14:27:11 2022 +0800<br><br>  <br><br>Â  Â  init file-a.txt v1<br><br>(END)<br></code></pre></td></tr></table></figure><p><code>git reflog</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">cfb20be (HEAD -&gt; master) HEAD@&#123;0&#125;: reset: moving to HEAD~2<br><br>de9545c HEAD@&#123;1&#125;: commit: finish fix file-a.txt v3<br><br>cf4753f HEAD@&#123;2&#125;: commit: update file-a.txt v2<br><br>cfb20be (HEAD -&gt; master) HEAD@&#123;3&#125;: commit (initial): init file-a.txt v1<br><br>(END)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºæ¥ï¼Œæ­¤æ—¶HEADæŒ‡å‘äº†ç¬¬ä¸€æ¬¡çš„commit cfb2ï¼Œ<span style="background-color:#ff0">ç›¸å½“äºæŠŠcommitå›é€€äº†</span></p><p><code>git status</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">âœÂ  recovery git:(master) âœ— git status<br><br>ä½äºåˆ†æ”¯ master<br><br>è¦æäº¤çš„å˜æ›´ï¼š<br><br>Â  ï¼ˆä½¿ç”¨ &quot;git restore --staged &lt;æ–‡ä»¶&gt;...&quot; ä»¥å–æ¶ˆæš‚å­˜ï¼‰<br><br>ä¿®æ”¹ï¼š Â  Â  file-a.txt<br><br>æ–°æ–‡ä»¶ï¼š Â  file-b.txt<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å†æ¬¡æ‰§è¡Œ<code>git commit</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">âœÂ  recovery git:(master) âœ— git commit -m &quot;compress commit test&quot;<br><br>[master 798ae56] compress commit test<br><br>Â 2 files changed, 3 insertions(+)<br><br>Â create mode 100644 file-b.txt<br></code></pre></td></tr></table></figure><p><code>git log</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">commit 798ae5608429362e4390b1eac74746e2fc78bb12 (HEAD -&gt; master)<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Fri Sep 16 14:32:17 2022 +0800<br><br>  <br><br>Â  Â  compress commit test<br><br>  <br><br>commit cfb20be06b826848f1330426b06ae795cd09a9a3<br><br>Author: luoweile &lt;luoweile2008@126.com&gt;<br><br>Date: Â  Fri Sep 16 14:27:11 2022 +0800<br><br>  <br><br>Â  Â  init file-a.txt v1<br><br>(END)<br></code></pre></td></tr></table></figure><p>git log åªçœ‹åˆ°äº†2æ¬¡commitä¿¡æ¯</p><p><code>git reflog</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">798ae56 (HEAD -&gt; master) HEAD@&#123;0&#125;: commit: compress commit test<br><br>cfb20be HEAD@&#123;1&#125;: reset: moving to HEAD~2<br><br>de9545c HEAD@&#123;2&#125;: commit: finish fix file-a.txt v3<br><br>cf4753f HEAD@&#123;3&#125;: commit: update file-a.txt v2<br><br>cfb20be HEAD@&#123;4&#125;: commit (initial): init file-a.txt v1<br><br>(END)<br></code></pre></td></tr></table></figure><p>ä¸è¿‡git reflogè¿˜æ˜¯çœ‹å¾—å¾ˆæ¸…æ¥š</p><h1 id="4-å¯¹commitå†å²çš„å½±å“"><a href="#4-å¯¹commitå†å²çš„å½±å“" class="headerlink" title="4. å¯¹commitå†å²çš„å½±å“"></a>4. å¯¹commitå†å²çš„å½±å“</h1><table><thead><tr><th>å‘½ä»¤</th><th>log</th><th>reflog</th></tr></thead><tbody><tr><td>revert</td><td>æ–°å¢</td><td>å¯è·Ÿè¸ª</td></tr><tr><td>checkout</td><td>æ— å˜åŒ–</td><td>æ— å˜åŒ–</td></tr><tr><td>reset</td><td>ä¸¢å¤±</td><td>å¯è·Ÿè¸ª</td></tr><tr><td>restore</td><td>æ— å˜åŒ–</td><td>æ— å˜åŒ–</td></tr><tr><td>git amend</td><td>æ”¹å˜</td><td>æ”¹å˜</td></tr></tbody></table><h1 id="5-å…¶ä»–åæ‚”è¯"><a href="#5-å…¶ä»–åæ‚”è¯" class="headerlink" title="5. å…¶ä»–åæ‚”è¯"></a>5. å…¶ä»–åæ‚”è¯</h1><h2 id="5-1-revert"><a href="#5-1-revert" class="headerlink" title="5.1. revert"></a>5.1. revert</h2><a href="/2022/09/11/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--2%E3%80%81Git-%E5%90%8E%E6%82%94%E8%8D%AF-%E5%9B%9E%E9%80%80%E6%92%A4%E9%94%80-revert/" title="Gitè¿›é˜¶Â â€” 2ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-revert">Gitè¿›é˜¶Â â€” 2ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-revert</a><h2 id="5-2-checkout"><a href="#5-2-checkout" class="headerlink" title="5.2. checkout"></a>5.2. checkout</h2><a href="/2022/09/11/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--3%E3%80%81Git-%E5%90%8E%E6%82%94%E8%8D%AF-%E5%9B%9E%E9%80%80%E6%92%A4%E9%94%80-checkout/" title="Gitè¿›é˜¶ â€” 3ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-checkout">Gitè¿›é˜¶ â€” 3ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-checkout</a><h2 id="5-3-restore"><a href="#5-3-restore" class="headerlink" title="5.3. restore"></a>5.3. restore</h2><a href="/2022/09/11/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--4%E3%80%81Git-%E5%90%8E%E6%82%94%E8%8D%AF-%E5%9B%9E%E9%80%80%E6%92%A4%E9%94%80-restore/" title="Gitè¿›é˜¶ â€” 4ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-restore">Gitè¿›é˜¶ â€” 4ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-restore</a><h2 id="5-4-git-commit-â€“amend"><a href="#5-4-git-commit-â€“amend" class="headerlink" title="5.4. git commit â€“amend"></a>5.4. git commit â€“amend</h2><a href="/2022/09/13/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--5%E3%80%81Git-%E5%90%8E%E6%82%94%E8%8D%AF-%E9%87%8D%E5%86%99%E5%8E%86%E5%8F%B2-gitcommit--amend/" title="Gitè¿›é˜¶ â€” 5ã€Git-åæ‚”è¯-é‡å†™å†å²-gitcommit--amend">Gitè¿›é˜¶ â€” 5ã€Git-åæ‚”è¯-é‡å†™å†å²-gitcommit--amend</a><h1 id="6-å»¶é•¿ä¿å­˜æœŸé™"><a href="#6-å»¶é•¿ä¿å­˜æœŸé™" class="headerlink" title="6. å»¶é•¿ä¿å­˜æœŸé™"></a>6. å»¶é•¿ä¿å­˜æœŸé™</h1><p>æˆ‘ä»¬å‰é¢è¯´åˆ°åœ¨Gitä¸Šåšçš„æ‰€æœ‰æ“ä½œéƒ½è¢«ä¿å­˜åˆ°è®°å½•é‡Œï¼Œä¸€èˆ¬æ˜¯ä»ä½ æœ¬åœ°Gitåº“æ‰§è¡Œcloneå¼€å§‹çš„æ‰€æœ‰æ“ä½œéƒ½ä¿å­˜äº†ä¸‹æ¥ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒå¾ˆä¹…ä¹‹å‰çš„ä¸€äº›Commit logæ‰¾ä¸åˆ°ï¼Œä½ æˆ–è®¸æœŸæœ›å»ä¸ºå·²åˆ é™¤çš„æäº¤è®¾ç½®ä¸€ä¸ªæ›´é•¿çš„ä¿å­˜å‘¨æœŸã€‚ä¾‹å¦‚ï¼š<br><code>$ git config gc.pruneexpire &quot;30 days&quot;</code> é»˜è®¤2å‘¨<br>æ„æ€æ˜¯ä¸€ä¸ªè¢«åˆ é™¤çš„æäº¤ä¼šåœ¨åˆ é™¤30å¤©åï¼Œä¸”è¿è¡Œ <em>git gc</em> ä»¥åï¼Œè¢«æ°¸ä¹…ä¸¢å¼ƒã€‚<br>ä½ æˆ–è®¸è¿˜æƒ³å…³æ‰ <em>git gc</em> çš„è‡ªåŠ¨è¿è¡Œï¼š<br><code>$ git config gc.auto 0</code><br>åœ¨è¿™ç§æƒ…å†µä¸‹æäº¤å°†åªåœ¨ä½ æ‰‹å·¥è¿è¡Œ <em>git gc</em> çš„æƒ…å†µä¸‹æ‰æ°¸ä¹…åˆ é™¤ã€‚</p><h1 id="7-å‚è€ƒ"><a href="#7-å‚è€ƒ" class="headerlink" title="7. å‚è€ƒ"></a>7. å‚è€ƒ</h1><p><a target="_blank" rel="noopener" href="https://bbs.huaweicloud.com/blogs/331355">https://bbs.huaweicloud.com/blogs/331355</a></p><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8b4c95677ee0">https://www.jianshu.com/p/8b4c95677ee0</a></p><p><a target="_blank" rel="noopener" href="https://static.kancloud.cn/apachecn/git-doc-zh/1945496">https://static.kancloud.cn/apachecn/git-doc-zh/1945496</a></p><p><a target="_blank" rel="noopener" href="https://wikinote.gitbook.io/git-learning/git-ji-ben-ming-ling/ti-jiao-che-xiao-yu-la-qu/git-reset">https://wikinote.gitbook.io/git-learning/git-ji-ben-ming-ling/ti-jiao-che-xiao-yu-la-qu/git-reset</a></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…:</span> <span class="post-copyright-info"><a href="https://taylorluo.github.io">Taylor Luo</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥:</span> <span class="post-copyright-info"><a href="https://taylorluo.github.io/2022/09/11/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--1%E3%80%81Git-%E5%90%8E%E6%82%94%E8%8D%AF-%E5%9B%9E%E9%80%80%E6%92%A4%E9%94%80-reset/">https://taylorluo.github.io/2022/09/11/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--1%E3%80%81Git-%E5%90%8E%E6%82%94%E8%8D%AF-%E5%9B%9E%E9%80%80%E6%92%A4%E9%94%80-reset/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜:</span> <span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://taylorluo.github.io" target="_blank">Taylor</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Git%E8%BF%9B%E9%98%B6/">Gitè¿›é˜¶</a></div><div class="post_share"><div class="social-share" data-image="https://picsum.photos/1920/982" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> æ‰“èµ</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="å¾®ä¿¡"></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="æ”¯ä»˜å®"></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/09/11/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--4%E3%80%81Git-%E5%90%8E%E6%82%94%E8%8D%AF-%E5%9B%9E%E9%80%80%E6%92%A4%E9%94%80-restore/"><img class="prev-cover" src="https://unpkg.com/justlovesmile-img/cover4.jpg" onerror='onerror=null,src="/null"' alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Gitè¿›é˜¶ â€” 4ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-restore</div></div></a></div><div class="next-post pull-right"><a href="/2022/09/10/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E5%9F%BA%E7%A1%80--1%E3%80%81%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F(VCS)%E4%BB%8B%E7%BB%8D/"><img class="next-cover" src="https://picsum.photos/1920/962" onerror='onerror=null,src="/null"' alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">GitåŸºç¡€ â€” 1ã€ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ(VCS)ä»‹ç»</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2022/09/16/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--10%E3%80%81git-merge%E7%94%A8%E6%B3%95%E8%A7%A3%E6%9E%90-%E7%94%A8%E6%B3%95%E5%A4%A7%E5%85%A8/" title="Gitè¿›é˜¶--10ã€git-mergeç”¨æ³•è§£æ-ç”¨æ³•å¤§å…¨"><img class="cover" src="https://picsum.photos/1920/1081" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-17</div><div class="title">Gitè¿›é˜¶--10ã€git-mergeç”¨æ³•è§£æ-ç”¨æ³•å¤§å…¨</div></div></a></div><div><a href="/2022/09/16/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--11%E3%80%81git-rebase%E7%94%A8%E6%B3%95%E8%A7%A3%E6%9E%90%E4%B8%8Emerge%E5%8C%BA%E5%88%AB/" title="Gitè¿›é˜¶--11ã€git-rebaseç”¨æ³•è§£æä¸mergeåŒºåˆ«"><img class="cover" src="https://picsum.photos/1920/1080" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-17</div><div class="title">Gitè¿›é˜¶--11ã€git-rebaseç”¨æ³•è§£æä¸mergeåŒºåˆ«</div></div></a></div><div><a href="/2022/09/21/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--13%E3%80%81Git%E6%AF%94%E5%AF%B9%E5%90%84%E5%8C%BA%E5%B7%AE%E5%BC%82-git-diff/" title="Gitè¿›é˜¶--13ã€Gitæ¯”å¯¹å„åŒºå·®å¼‚-git diff"><img class="cover" src="https://picsum.photos/1920/1085" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-22</div><div class="title">Gitè¿›é˜¶--13ã€Gitæ¯”å¯¹å„åŒºå·®å¼‚-git diff</div></div></a></div><div><a href="/2022/09/21/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--14%E3%80%81Git%E7%A7%BB%E9%99%A4%E5%A4%A7%E6%96%87%E4%BB%B6/" title="Gitè¿›é˜¶--14ã€Gitç§»é™¤å¤§æ–‡ä»¶"><img class="cover" src="https://picsum.photos/1920/942" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-22</div><div class="title">Gitè¿›é˜¶--14ã€Gitç§»é™¤å¤§æ–‡ä»¶</div></div></a></div><div><a href="/2022/09/11/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--2%E3%80%81Git-%E5%90%8E%E6%82%94%E8%8D%AF-%E5%9B%9E%E9%80%80%E6%92%A4%E9%94%80-revert/" title="Gitè¿›é˜¶ â€” 2ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-revert"><img class="cover" src="https://picsum.photos/1920/1082" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-12</div><div class="title">Gitè¿›é˜¶ â€” 2ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-revert</div></div></a></div><div><a href="/2022/09/11/000-%E5%B7%A5%E5%85%B7%E7%AE%B1%E4%B8%93%E9%A2%98/Git%E8%BF%9B%E9%98%B6--3%E3%80%81Git-%E5%90%8E%E6%82%94%E8%8D%AF-%E5%9B%9E%E9%80%80%E6%92%A4%E9%94%80-checkout/" title="Gitè¿›é˜¶ â€” 3ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-checkout"><img class="cover" src="https://unpkg.com/justlovesmile-img/cover1.JPG" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-12</div><div class="title">Gitè¿›é˜¶ â€” 3ã€Git-åæ‚”è¯-å›é€€æ’¤é”€-checkout</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/index.jpeg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">Taylor Luo</div><div class="author-info__description">äººç”Ÿæµ·æµ· ä¸å¿˜åˆå¿ƒ</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">183</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">85</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">31</div></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Git%E4%B8%89%E6%A3%B5%E6%A0%91"><span class="toc-text">1. Gitä¸‰æ£µæ ‘</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-text">è¯­æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#commit%E6%A8%A1%E5%BC%8F"><span class="toc-text">commitæ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#file%E6%A8%A1%E5%BC%8F"><span class="toc-text">fileæ¨¡å¼</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E6%AD%A3%E5%90%91%E6%B5%81%E7%A8%8B"><span class="toc-text">2. æ­£å‘æµç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-git-init"><span class="toc-text">2.1. git init</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-git-add"><span class="toc-text">2.2. git add</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-git-commit"><span class="toc-text">2.3. git commit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-edit-file"><span class="toc-text">2.4. edit file</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-git-add"><span class="toc-text">2.5. git add</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-git-commit"><span class="toc-text">2.6. git commit</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E9%80%86%E5%90%91%E6%B5%81%E7%A8%8B"><span class="toc-text">3. é€†å‘æµç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E7%B2%BE%E7%AE%80%E7%90%86%E8%A7%A3"><span class="toc-text">3.1. ç²¾ç®€ç†è§£</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90"><span class="toc-text">3.2. æ·±å…¥è§£æ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-1-%E7%A7%BB%E5%8A%A8-HEAD-%E2%80%93soft"><span class="toc-text">3.2.1. ç§»åŠ¨ HEAD(â€“soft)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-%E6%9B%B4%E6%96%B0%E7%B4%A2%E5%BC%95%EF%BC%88%E2%80%93mixed%EF%BC%89"><span class="toc-text">3.2.2. æ›´æ–°ç´¢å¼•ï¼ˆâ€“mixedï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-3-%E6%9B%B4%E6%96%B0%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95%EF%BC%88%E2%80%93hard%EF%BC%89"><span class="toc-text">3.2.3. æ›´æ–°å·¥ä½œç›®å½•ï¼ˆâ€“hardï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-3-1-%E6%BC%94%E7%A4%BA%E7%A4%BA%E4%BE%8B"><span class="toc-text">3.2.3.1. æ¼”ç¤ºç¤ºä¾‹</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E9%80%9A%E8%BF%87%E8%B7%AF%E5%BE%84%E6%9D%A5%E9%87%8D%E7%BD%AE"><span class="toc-text">3.3. é€šè¿‡è·¯å¾„æ¥é‡ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-1-%E4%B8%8D%E5%8A%A0%E5%88%86%E6%94%AF%E5%90%8D%E6%88%96commit%E7%9A%84SHA-1"><span class="toc-text">3.3.1. ä¸åŠ åˆ†æ”¯åæˆ–commitçš„SHA-1</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-1-1-%E4%BD%9C%E7%94%A8%E5%8E%9F%E7%90%86"><span class="toc-text">3.3.1.1. ä½œç”¨åŸç†</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-1-2-%E6%BC%94%E7%A4%BA%E7%A4%BA%E4%BE%8B"><span class="toc-text">3.3.1.2. æ¼”ç¤ºç¤ºä¾‹</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-2-%E5%8A%A0%E5%88%86%E6%94%AF%E5%90%8D%E6%88%96commit%E7%9A%84SHA-1"><span class="toc-text">3.3.2. åŠ åˆ†æ”¯åæˆ–commitçš„SHA-1</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-2-1-%E4%BD%9C%E7%94%A8%E5%8E%9F%E7%90%86"><span class="toc-text">3.3.2.1. ä½œç”¨åŸç†</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-2-2-%E6%BC%94%E7%A4%BA%E7%A4%BA%E4%BE%8B"><span class="toc-text">3.3.2.2. æ¼”ç¤ºç¤ºä¾‹</span></a></li></ol></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-%E5%8E%8B%E7%BC%A9%E6%8F%90%E4%BA%A4"><span class="toc-text">3.4. å‹ç¼©æäº¤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-4-1-%E4%BD%9C%E7%94%A8%E5%8E%9F%E7%90%86"><span class="toc-text">3.4.1. ä½œç”¨åŸç†</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-4-2-%E6%BC%94%E7%A4%BA%E7%A4%BA%E4%BE%8B"><span class="toc-text">3.4.2. æ¼”ç¤ºç¤ºä¾‹</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E5%AF%B9commit%E5%8E%86%E5%8F%B2%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-text">4. å¯¹commitå†å²çš„å½±å“</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E5%85%B6%E4%BB%96%E5%90%8E%E6%82%94%E8%8D%AF"><span class="toc-text">5. å…¶ä»–åæ‚”è¯</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-revert"><span class="toc-text">5.1. revert</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-checkout"><span class="toc-text">5.2. checkout</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-restore"><span class="toc-text">5.3. restore</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-git-commit-%E2%80%93amend"><span class="toc-text">5.4. git commit â€“amend</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E5%BB%B6%E9%95%BF%E4%BF%9D%E5%AD%98%E6%9C%9F%E9%99%90"><span class="toc-text">6. å»¶é•¿ä¿å­˜æœŸé™</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-%E5%8F%82%E8%80%83"><span class="toc-text">7. å‚è€ƒ</span></a></li></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/012-%E7%BB%8F%E9%AA%8C%E4%B8%93%E9%A2%98/%E7%BB%8F%E9%AA%8C%E4%B8%93%E9%A2%98-%E9%A3%8E%E6%8E%A7%E7%B3%BB%E7%BB%9F-2%E3%80%81%E9%A3%8E%E6%8E%A7%E4%B8%AD%E5%8F%B0/" title="æ— é¢˜"><img src="https://picsum.photos/1920/1081" onerror='this.onerror=null,this.src="/null"' alt="æ— é¢˜"></a><div class="content"><a class="title" href="/2023/06/13/012-%E7%BB%8F%E9%AA%8C%E4%B8%93%E9%A2%98/%E7%BB%8F%E9%AA%8C%E4%B8%93%E9%A2%98-%E9%A3%8E%E6%8E%A7%E7%B3%BB%E7%BB%9F-2%E3%80%81%E9%A3%8E%E6%8E%A7%E4%B8%AD%E5%8F%B0/" title="æ— é¢˜">æ— é¢˜</a><time datetime="2023-06-13T23:32:43.044Z" title="å‘è¡¨äº 2023-06-14 07:32:43">2023-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/005-%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%93%E9%A2%98/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%93%E9%A2%98-15%E3%80%81%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA/" title="åˆ†å¸ƒå¼ä¸“é¢˜-15ã€é“¾è·¯è¿½è¸ª"><img src="https://picsum.photos/1920/962" onerror='this.onerror=null,this.src="/null"' alt="åˆ†å¸ƒå¼ä¸“é¢˜-15ã€é“¾è·¯è¿½è¸ª"></a><div class="content"><a class="title" href="/2023/06/13/005-%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%93%E9%A2%98/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%93%E9%A2%98-15%E3%80%81%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA/" title="åˆ†å¸ƒå¼ä¸“é¢˜-15ã€é“¾è·¯è¿½è¸ª">åˆ†å¸ƒå¼ä¸“é¢˜-15ã€é“¾è·¯è¿½è¸ª</a><time datetime="2023-06-13T16:00:00.000Z" title="å‘è¡¨äº 2023-06-14 00:00:00">2023-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/013-%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/%E8%B5%84%E6%BA%90%E5%AF%BC%E8%88%AA/" title="èµ„æºå¯¼èˆª"><img src="https://picsum.photos/1920/992" onerror='this.onerror=null,this.src="/null"' alt="èµ„æºå¯¼èˆª"></a><div class="content"><a class="title" href="/2023/06/13/013-%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/%E8%B5%84%E6%BA%90%E5%AF%BC%E8%88%AA/" title="èµ„æºå¯¼èˆª">èµ„æºå¯¼èˆª</a><time datetime="2023-06-13T16:00:00.000Z" title="å‘è¡¨äº 2023-06-14 00:00:00">2023-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/014-AI%E7%AE%97%E6%B3%95%E4%B8%93%E9%A2%98/%E7%AE%97%E6%B3%95-0%E3%80%81%E6%B1%87%E6%80%BB/" title="ç®—æ³•-0ã€æ±‡æ€»"><img src="https://picsum.photos/1920/972" onerror='this.onerror=null,this.src="/null"' alt="ç®—æ³•-0ã€æ±‡æ€»"></a><div class="content"><a class="title" href="/2023/06/13/014-AI%E7%AE%97%E6%B3%95%E4%B8%93%E9%A2%98/%E7%AE%97%E6%B3%95-0%E3%80%81%E6%B1%87%E6%80%BB/" title="ç®—æ³•-0ã€æ±‡æ€»">ç®—æ³•-0ã€æ±‡æ€»</a><time datetime="2023-06-13T16:00:00.000Z" title="å‘è¡¨äº 2023-06-14 00:00:00">2023-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/13/014-AI%E7%AE%97%E6%B3%95%E4%B8%93%E9%A2%98/%E7%AE%97%E6%B3%95-1%E3%80%81%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90/" title="ç®—æ³•-1ã€é¢˜ç›®è§£æ"><img src="https://picsum.photos/1920/1082" onerror='this.onerror=null,this.src="/null"' alt="ç®—æ³•-1ã€é¢˜ç›®è§£æ"></a><div class="content"><a class="title" href="/2023/06/13/014-AI%E7%AE%97%E6%B3%95%E4%B8%93%E9%A2%98/%E7%AE%97%E6%B3%95-1%E3%80%81%E9%A2%98%E7%9B%AE%E8%A7%A3%E6%9E%90/" title="ç®—æ³•-1ã€é¢˜ç›®è§£æ">ç®—æ³•-1ã€é¢˜ç›®è§£æ</a><time datetime="2023-06-13T16:00:00.000Z" title="å‘è¡¨äº 2023-06-14 00:00:00">2023-06-14</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url('https://picsum.photos/1920/982')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Taylor Luo</div><div class="framework-info"><span>æ¡†æ¶</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",preloader.endLoading())</script><div class="js-pjax"><script>(()=>{const o=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo-taylorluo.vercel.app/",region:"ap-shanghai",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null)),GLOBAL_CONFIG_SITE.isPost&&(()=>{const o=document.getElementById("twikoo-count");o&&twikoo.getCommentsCount({envId:"https://twikoo-taylorluo.vercel.app/",region:"ap-shanghai",urls:[window.location.pathname],includeReply:!1}).then((function(t){o.innerText=t[0].count})).catch((function(o){console.error(o)}))})()},t=()=>{"object"!=typeof twikoo?getScript("https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(o):setTimeout(o,0)};t()})()</script></div><script defer id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zindex="-1" mobile="false" data-click="true"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="æ‹¼æ,è‡ªå¼º,æ­£ç›´,è‡ªä¿¡" data-fontsize="15px" data-random="false" async></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>